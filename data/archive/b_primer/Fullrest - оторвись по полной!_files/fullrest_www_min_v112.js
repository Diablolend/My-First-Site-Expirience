(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cu(a){if(!cj[a]){var b=c.body,d=f("<"+a+">").appendTo(b),e=d.css("display");d.remove();if(e==="none"||e===""){ck||(ck=c.createElement("iframe"),ck.frameBorder=ck.width=ck.height=0),b.appendChild(ck);if(!cl||!ck.createElement)cl=(ck.contentWindow||ck.contentDocument).document,cl.write((f.support.boxModel?"<!doctype html>":"")+"<html><body>"),cl.close();d=cl.createElement(a),cl.body.appendChild(d),e=f.css(d,"display"),b.removeChild(ck)}cj[a]=e}return cj[a]}function ct(a,b){var c={};f.each(cp.concat.apply([],cp.slice(0,b)),function(){c[this]=a});return c}function cs(){cq=b}function cr(){setTimeout(cs,0);return cq=f.now()}function ci(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function ch(){try{return new a.XMLHttpRequest}catch(b){}}function cb(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h=="string"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k==="*")k=l;else if(l!=="*"&&l!==k){m=l+" "+k,n=e[m]||e["* "+k];if(!n){p=b;for(o in e){j=o.split(" ");if(j[0]===l||j[0]==="*"){p=e[j[1]+" "+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error("No conversion from "+m.replace(" "," to ")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function ca(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]==="*")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader("content-type"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+" "+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function b_(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bD.test(a)?d(a,e):b_(a+"["+(typeof e=="object"?b:"")+"]",e,c,d)});else if(!c&&f.type(b)==="object")for(var e in b)b_(a+"["+e+"]",b[e],c,d);else d(a,b)}function b$(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function bZ(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bS,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l=="string"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=bZ(a,c,d,e,l,g)));(k||!l)&&!g["*"]&&(l=bZ(a,c,d,e,"*",g));return l}function bY(a){return function(b,c){typeof b!="string"&&(c=b,b="*");if(f.isFunction(c)){var d=b.toLowerCase().split(bO),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\+/.test(h),j&&(h=h.substr(1)||"*"),i=a[h]=a[h]||[],i[j?"unshift":"push"](c)}}}function bB(a,b,c){var d=b==="width"?a.offsetWidth:a.offsetHeight,e=b==="width"?1:0,g=4;if(d>0){if(c!=="border")for(;e<g;e+=2)c||(d-=parseFloat(f.css(a,"padding"+bx[e]))||0),c==="margin"?d+=parseFloat(f.css(a,c+bx[e]))||0:d-=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0;return d+"px"}d=by(a,b);if(d<0||d==null)d=a.style[b];if(bt.test(d))return d;d=parseFloat(d)||0;if(c)for(;e<g;e+=2)d+=parseFloat(f.css(a,"padding"+bx[e]))||0,c!=="padding"&&(d+=parseFloat(f.css(a,"border"+bx[e]+"Width"))||0),c==="margin"&&(d+=parseFloat(f.css(a,c+bx[e]))||0);return d+"px"}function bo(a){var b=c.createElement("div");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||"").toLowerCase();b==="input"?bm(a):b!=="script"&&typeof a.getElementsByTagName!="undefined"&&f.grep(a.getElementsByTagName("input"),bm)}function bm(a){if(a.type==="checkbox"||a.type==="radio")a.defaultChecked=a.checked}function bl(a){return typeof a.getElementsByTagName!="undefined"?a.getElementsByTagName("*"):typeof a.querySelectorAll!="undefined"?a.querySelectorAll("*"):[]}function bk(a,b){var c;b.nodeType===1&&(b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase(),c==="object"?b.outerHTML=a.outerHTML:c!=="input"||a.type!=="checkbox"&&a.type!=="radio"?c==="option"?b.selected=a.defaultSelected:c==="input"||c==="textarea"?b.defaultValue=a.defaultValue:c==="script"&&b.text!==a.text&&(b.text=a.text):(a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value)),b.removeAttribute(f.expando),b.removeAttribute("_submit_attached"),b.removeAttribute("_change_attached"))}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c,i[c][d])}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,"table")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function U(a){var b=V.split("|"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b=="string"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+"defer",e=b+"queue",g=b+"mark",h=f._data(a,d);h&&(c==="queue"||!f._data(a,e))&&(c==="mark"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b==="data"&&f.isEmptyObject(a[b]))continue;if(b!=="toJSON")return!1}return!0}function l(a,c,d){if(d===b&&a.nodeType===1){var e="data-"+c.replace(k,"-$1").toLowerCase();d=a.getAttribute(e);if(typeof d=="string"){try{d=d==="true"?!0:d==="false"?!1:d==="null"?null:f.isNumeric(d)?+d:j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll("left")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,j=/\S/,k=/^\s+/,l=/\s+$/,m=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,n=/^[\],:{}\s]*$/,o=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,q=/(?:^|:|,)(?:\s*\[)+/g,r=/(webkit)[ \/]([\w.]+)/,s=/(opera)(?:.*version)?[ \/]([\w.]+)/,t=/(msie) ([\w.]+)/,u=/(mozilla)(?:.*? rv:([\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+"").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a==="body"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a=="string"){a.charAt(0)!=="<"||a.charAt(a.length-1)!==">"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b==="find"?d.selector=this.selector+(this.selector?" ":"")+c:b&&(d.selector=this.selector+"."+b+"("+c+")");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),"slice",F.call(arguments).join(","))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i=="boolean"&&(l=i,i=arguments[1]||{},j=2),typeof i!="object"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger("ready").off("ready")}},bindReady:function(){if(!A){A=e.Callbacks("once memory");if(c.readyState==="complete")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener("DOMContentLoaded",B,!1),a.addEventListener("load",e.ready,!1);else if(c.attachEvent){c.attachEvent("onreadystatechange",B),a.attachEvent("onload",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return e.type(a)==="function"},isArray:Array.isArray||function(a){return e.type(a)==="array"},isWindow:function(a){return a!=null&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||"object"},isPlainObject:function(a){if(!a||e.type(a)!=="object"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,"constructor")&&!D.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!="string"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,"@").replace(p,"]").replace(q,"")))return(new Function("return "+b))();e.error("Invalid JSON: "+b)},parseXML:function(c){if(typeof c!="string"||!c)return null;var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,"ms-").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?"":G.call(a)}:function(a){return a==null?"":(a+"").replace(k,"").replace(l,"")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d==="string"||d==="function"||d==="regexp"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length=="number")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j=="number"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c=="string"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h,i){var j,k=d==null,l=0,m=a.length;if(d&&typeof d=="object"){for(l in d)e.access(a,c,l,d[l],1,h,f);g=1}else if(f!==b){j=i===b&&e.isFunction(f),k&&(j?(j=c,c=function(a,b,c){return j.call(e(a),c)}):(c.call(a,f),c=null));if(c)for(;l<m;l++)c(a[l],d,j?f.call(a[l],l,c(a[l],d)):f,i);g=1}return g?a:k?c.call(a):m?c(a[0],d):h},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf("compatible")<0&&u.exec(a)||[];return{browser:b[1]||"",version:b[2]||"0"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,b){I["[object "+b+"]"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test("Â ")&&(k=/^[\s\xA0]+/,l=/[\s\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener("DOMContentLoaded",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState==="complete"&&(c.detachEvent("onreadystatechange",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m,n=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h==="array"?n(g):h==="function"&&(!a.unique||!p.has(g))&&c.push(g)},o=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,j=!0,m=k||0,k=0,l=c.length;for(;c&&m<l;m++)if(c[m].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}j=!1,c&&(a.once?e===!0?p.disable():c=[]:d&&d.length&&(e=d.shift(),p.fireWith(e[0],e[1])))},p={add:function(){if(c){var a=c.length;n(arguments),j?l=c.length:e&&e!==!0&&(k=a,o(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){j&&f<=l&&(l--,f<=m&&m--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return!c},lock:function(){d=b,(!e||e===!0)&&p.disable();return this},locked:function(){return!d},fireWith:function(b,c){d&&(j?a.once||d.push([b,c]):(!a.once||!e)&&o(b,c));return this},fire:function(){p.fireWith(this,arguments);return this},fired:function(){return!!i}};return p};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks("once memory"),c=f.Callbacks("once memory"),d=f.Callbacks("memory"),e="pending",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,"resolve"],fail:[b,"reject"],progress:[c,"notify"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+"With"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+"With"]=g[j].fireWith;i.done(function(){e="resolved"},c.disable,d.lock).fail(function(){e="rejected"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p=c.createElement("div"),q=c.documentElement;p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",d=p.getElementsByTagName("*"),e=p.getElementsByTagName("a")[0];if(!d||!d.length||!e)return{};g=c.createElement("select"),h=g.appendChild(c.createElement("option")),i=p.getElementsByTagName("input")[0],b={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(e.getAttribute("style")),hrefNormalized:e.getAttribute("href")==="/a",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value==="on",optSelected:h.selected,getSetAttribute:p.className!=="t",enctype:!!c.createElement("form").enctype,html5Clone:c.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},f.boxModel=b.boxModel=c.compatMode==="CSS1Compat",i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete p.test}catch(r){b.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){b.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),i=c.createElement("input"),i.value="t",i.setAttribute("type","radio"),b.radioValue=i.value==="t",i.setAttribute("checked","checked"),i.setAttribute("name","t"),p.appendChild(i),j=c.createDocumentFragment(),j.appendChild(p.lastChild),b.checkClone=j.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,j.removeChild(i),j.appendChild(p);if(p.attachEvent)for(n in{submit:1,change:1,focusin:1})m="on"+n,o=m in p,o||(p.setAttribute(m,"return;"),o=typeof p[m]=="function"),b[n+"Bubbles"]=o;j.removeChild(p),j=g=h=p=i=null,f(function(){var d,e,g,h,i,j,l,m,n,q,r,s,t,u=c.getElementsByTagName("body")[0];!u||(m=1,t="padding:0;margin:0;border:",r="position:absolute;top:0;left:0;width:1px;height:1px;",s=t+"0;visibility:hidden;",n="style='"+r+t+"5px solid #000;",q="<div "+n+"display:block;'><div style='"+t+"0;display:block;overflow:hidden;'></div></div>"+"<table "+n+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",d=c.createElement("div"),d.style.cssText=s+"width:0;height:0;position:static;top:0;margin-top:"+m+"px",u.insertBefore(d,u.firstChild),p=c.createElement("div"),d.appendChild(p),p.innerHTML="<table><tr><td style='"+t+"0;display:none'></td><td>t</td></tr></table>",k=p.getElementsByTagName("td"),o=k[0].offsetHeight===0,k[0].style.display="",k[1].style.display="none",b.reliableHiddenOffsets=o&&k[0].offsetHeight===0,a.getComputedStyle&&(p.innerHTML="",l=c.createElement("div"),l.style.width="0",l.style.marginRight="0",p.style.width="2px",p.appendChild(l),b.reliableMarginRight=(parseInt((a.getComputedStyle(l,null)||{marginRight:0}).marginRight,10)||0)===0),typeof p.style.zoom!="undefined"&&(p.innerHTML="",p.style.width=p.style.padding="1px",p.style.border=0,p.style.overflow="hidden",p.style.display="inline",p.style.zoom=1,b.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.style.overflow="visible",p.innerHTML="<div style='width:5px;'></div>",b.shrinkWrapBlocks=p.offsetWidth!==3),p.style.cssText=r+s,p.innerHTML=q,e=p.firstChild,g=e.firstChild,i=e.nextSibling.firstChild.firstChild,j={doesNotAddBorder:g.offsetTop!==5,doesAddBorderForTableAndCells:i.offsetTop===5},g.style.position="fixed",g.style.top="20px",j.fixedPosition=g.offsetTop===20||g.offsetTop===15,g.style.position=g.style.top="",e.style.overflow="hidden",e.style.position="relative",j.subtractsBorderForOverflowNotVisible=g.offsetTop===-5,j.doesNotIncludeMarginInBodyOffset=u.offsetTop!==m,a.getComputedStyle&&(p.style.marginTop="1%",b.pixelMargin=(a.getComputedStyle(p,null)||{marginTop:0}).marginTop!=="1%"),typeof d.style.zoom!="undefined"&&(d.style.zoom=1),u.removeChild(d),l=p=d=null,f.extend(b,j))});return b}();var j=/^(?:\{.*\}|\[.*\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:"jQuery"+(f.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c=="string",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c==="events";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c=="object"||typeof c=="function")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c])return g.events;k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(" ")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute("classid")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h,i,j=this[0],k=0,m=null;if(a===b){if(this.length){m=f.data(j);if(j.nodeType===1&&!f._data(j,"parsedAttrs")){g=j.attributes;for(i=g.length;k<i;k++)h=g[k].name,h.indexOf("data-")===0&&(h=f.camelCase(h.substring(5)),l(j,h,m[h]));f._data(j,"parsedAttrs",!0)}}return m}if(typeof a=="object")return this.each(function(){f.data(this,a)});d=a.split(".",2),d[1]=d[1]?"."+d[1]:"",e=d[1]+"!";return f.access(this,function(c){if(c===b){m=this.triggerHandler("getData"+e,[d[0]]),m===b&&j&&(m=f.data(j,a),m=l(j,a,m));return m===b&&d[1]?this.data(d[0]):m}d[1]=c,this.each(function(){var b=f(this);b.triggerHandler("setData"+e,d),f.data(this,a,c),b.triggerHandler("changeData"+e,d)})},null,c,arguments.length>1,null,!1)},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||"fx")+"mark",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||"fx";var d=c+"mark",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,"mark"))}},queue:function(a,b,c){var d;if(a){b=(b||"fx")+"queue",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=f.queue(a,b),d=c.shift(),e={};d==="inprogress"&&(d=c.shift()),d&&(b==="fx"&&c.unshift("inprogress"),f._data(a,b+".run",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+"queue "+b+".run",!0),n(a,b,"queue"))}}),f.fn.extend({queue:function(a,c){var d=2;typeof a!="string"&&(c=a,a="fx",d--);if(arguments.length<d)return f.queue(this[0],a);return c===b?this:this.each(function(){var b=f.queue(this,a,c);a==="fx"&&b[0]!=="inprogress"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||"fx";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!="string"&&(c=a,a=b),a=a||"fx";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+"defer",j=a+"queue",k=a+"mark",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks("once memory"),!0))h++,l.add(m);m();return d.promise(c)}});var o=/[\n\t\r]/g,p=/\s+/,q=/\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,f.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,f.prop,a,b,arguments.length>1)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a=="string"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=" "+e.className+" ";for(h=0,i=b.length;h<i;h++)~g.indexOf(" "+b[h]+" ")||(g+=b[h]+" ");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a=="string"||a===b){c=(a||"").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(" "+g.className+" ").replace(o," ");for(i=0,j=c.length;i<j;i++)h=h.replace(" "+c[i]+" "," ");g.className=f.trim(h)}else g.className=""}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b=="boolean";if(f.isFunction(a))return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)});return this.each(function(){if(c==="string"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?"addClass":"removeClass"](e)}else if(c==="undefined"||c==="boolean")this.className&&f._data(this,"__className__",this.className),this.className=this.className||a===!1?"":f._data(this,"__className__")||""})},hasClass:function(a){var b=" "+a+" ",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(" "+this[c].className+" ").replace(o," ").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];{if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h="":typeof h=="number"?h+="":f.isArray(h)&&(h=f.map(h,function(a){return a==null?"":a+""})),c=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()];if(!c||!("set"in c)||c.set(this,h,"value")===b)this.value=h}})}if(g){c=f.valHooks[g.type]||f.valHooks[g.nodeName.toLowerCase()];if(c&&"get"in c&&(d=c.get(g,"value"))!==b)return d;d=g.value;return typeof d=="string"?d.replace(q,""):d==null?"":d}}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type==="select-one";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute("disabled")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,"optgroup"))){b=f(e).val();if(j)return b;h.push(b)}}if(j&&!h.length&&i.length)return f(i[g]).val();return h},set:function(a,b){var c=f.makeArray(b);f(a).find("option").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute=="undefined")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&"set"in h&&i&&(g=h.set(a,d,c))!==b)return g;a.setAttribute(c,""+d);return d}if(h&&"get"in h&&i&&(g=h.get(a,c))!==null)return g;g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h,i=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;i<g;i++)e=d[i],e&&(c=f.propFix[e]||e,h=u.test(e),h||f.attr(a,e,""),a.removeAttribute(v?e:c),h&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error("type property can't be changed");else if(!f.support.radioValue&&b==="radio"&&f.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b),c&&(a.value=c);return b}}},value:{get:function(a,b){if(w&&f.nodeName(a,"button"))return w.get(a,b);return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,"button"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&"set"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&"get"in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode("tabindex");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!="boolean"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0,coords:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!=="":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+""}},f.attrHooks.tabindex.set=w.set,f.each(["width","height"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===""){a.setAttribute(b,"auto");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===""&&(b="false"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each(["href","src","width","height"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=""+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype="encoding"),f.support.checkOn||f.each(["radio","checkbox"],function(){f.valHooks[this]={get:function(a){return a.getAttribute("value")===null?"on":a.value}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\.]*)?(?:\.(.+))?$/,B=/(?:^|\s)hover(\.\S+)?\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,G=function(a){var b=F.exec(a);b&&(b[1]=(b[1]||"").toLowerCase(),b[3]=b[3]&&new RegExp("(?:^|\\s)"+b[3]+"(?:\\s|$)"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c["class"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,"mouseenter$1 mouseleave$1")};f.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler,g=p.selector),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!="undefined"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(" ");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||"").split(".").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:g&&G(g),namespace:n.join(".")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent("on"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||"")).split(" ");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d==="**"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf("!")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(".")>=0&&(i=h.split("."),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c=="object"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join("."),c.namespace_re=c.namespace?new RegExp("(^|\\.)"+i.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,o=h.indexOf(":")<0?"on"+h:"";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,"events")||{})[c.type]&&f._data(m,"handle"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!=="click"||!f.nodeName(e,"a"))&&f.acceptData(e)&&o&&e[h]&&(h!=="focus"&&h!=="blur"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,"events")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=f.event.special[c.type]||{},j=[],k,l,m,n,o,p,q,r,s,t,u;g[0]=c,c.delegateTarget=this;if(!i.preDispatch||i.preDispatch.call(this,c)!==!1){if(e&&(!c.button||c.type!=="click")){n=f(this),n.context=this.ownerDocument||this;for(m=c.target;m!=this;m=m.parentNode||this)if(m.disabled!==!0){p={},r=[],n[0]=m;for(k=0;k<e;k++)s=d[k],t=s.selector,p[t]===b&&(p[t]=s.quick?H(m,s.quick):n.is(t)),p[t]&&r.push(s);r.length&&j.push({elem:m,matches:r})}}d.length>e&&j.push({elem:this,matches:d.slice(e)});for(k=0;k<j.length&&!c.isPropagationStopped();k++){q=j[k],c.currentTarget=q.elem;for(l=0;l<q.matches.length&&!c.isImmediatePropagationStopped();l++){s=q.matches[l];if(h||!c.namespace&&!s.namespace||c.namespace_re&&c.namespace_re.test(s.namespace))c.data=s.data,c.handleObj=s,o=((f.event.special[s.origType]||{}).handle||s.handler).apply(q.elem,g),o!==b&&(c.result=o,o===!1&&(c.preventDefault(),c.stopPropagation()))}}i.postDispatch&&i.postDispatch.call(this,c);return c.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent("on"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,"form"))return!1;f.event.add(this,"click._submit keypress._submit",function(a){var c=a.target,d=f.nodeName(c,"input")||f.nodeName(c,"button")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),d._submit_attached=!0)})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&f.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(f.nodeName(this,"form"))return!1;f.event.remove(this,"._submit")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")f.event.add(this,"propertychange._change",function(a){a.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),f.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate("change",this,a,!0))});return!1}f.event.add(this,"beforeactivate._change",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate("change",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!=="radio"&&b.type!=="checkbox")return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,"._change");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:"focusin",blur:"focusout"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a=="object"){typeof c!="string"&&(d=d||c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c=="string"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler);return this}if(typeof a=="object"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c=="function")d=c,c=b;d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||"**",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,"**"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,"lastToggle"+a.guid)||0)%d;f._data(this,"lastToggle"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!="string"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,d="sizcache"+(Math.random()+"").replace(".",""),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\/g,k=/\r\n/g,l=/\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!="string")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(""),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]==="~"||w[0]==="+")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q="",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)==="[object Array]")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!=="\\"){g[1]=(g[1]||"").replace(j,""),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],"");break}}}}d||(d=typeof b.getElementsByTagName!="undefined"?b.getElementsByTagName("*"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)==="\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],"");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e="";if(d){if(d===1||d===9||d===11){if(typeof a.textContent=="string")return a.textContent;if(typeof a.innerText=="string")return a.innerText.replace(k,"");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")},type:function(a){return a.getAttribute("type")}},relative:{"+":function(a,b){var c=typeof b=="string",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},">":function(a,b){var c,d=typeof b=="string",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},"":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("parentNode",b,f,a,d,c)},"~":function(a,b,c){var d,f=e++,g=x;typeof b=="string"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g("previousSibling",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!="undefined"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!="undefined"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!="undefined")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(j,"")+" ";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(" "+h.className+" ").replace(/[\t\n\r]/g," ").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,"")},TAG:function(a,b){return a[1].replace(j,"").toLowerCase()},CHILD:function(a){if(a[1]==="nth"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\+|\s*/g,"");var b=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(a[2]==="even"&&"2n"||a[2]==="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,"");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||"").replace(j,""),a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(b,c,d,e,f){if(b[1]==="not")if((a.exec(b[3])||"").length>1||/^\w/.test(b[3]))b[3]=m(b[3],null,null,c);else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!=="hidden"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute("type"),c=a.type;return a.nodeName.toLowerCase()==="input"&&"text"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()==="input"&&"radio"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()==="input"&&"checkbox"===a.type},file:function(a){return a.nodeName.toLowerCase()==="input"&&"file"===a.type},password:function(a){return a.nodeName.toLowerCase()==="input"&&"password"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"submit"===a.type},image:function(a){return a.nodeName.toLowerCase()==="input"&&"image"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b==="input"||b==="button")&&"reset"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b==="input"&&"button"===a.type||b==="button"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||n([a])||"").indexOf(b[3])>=0;if(e==="not"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case"only":case"first":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k==="first")return!0;l=a;case"last":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case"nth":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+"",f=b[2],g=b[4];return d==null?f==="!=":!f&&m.attr?d!=null:f==="="?e===g:f==="*="?e.indexOf(g)>=0:f==="~="?(" "+e+" ").indexOf(g)>=0:g?f==="!="?e!==g:f==="^="?e.indexOf(g)===0:f==="$="?e.substr(e.length-g.length)===g:f==="|="?e===g||e.substr(0,g.length+1)===g+"-":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return"\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\[]*\])(?![^\(]*\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\r|\n)*?)/.source+o.match[r].source.replace(/\\(\d+)/g,q));o.match.globalPOS=p;var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)==="[object Array]")Array.prototype.push.apply(d,a);else if(typeof a.length=="number")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement("div"),d="script"+(new Date).getTime(),e=c.documentElement;a.innerHTML="<a name='"+d+"'/>",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!="undefined"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement("div");a.appendChild(c.createComment("")),a.getElementsByTagName("*").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]==="*"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!="undefined"&&a.firstChild.getAttribute("href")!=="#"&&(o.attrHandle.href=function(a){return a.getAttribute("href",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement("div"),d="__sizzle__";b.innerHTML="<p class='TEST'></p>";if(!b.querySelectorAll||b.querySelectorAll(".TEST").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b==="body"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!=="object"){var k=e,l=e.getAttribute("id"),n=l||d,p=e.parentNode,q=/^\s*[+~]/.test(b);l?n=n.replace(/'/g,"\\$&"):e.setAttribute("id",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll("[id='"+n+"'] "+b),f)}catch(r){}finally{l||k.removeAttribute("id")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement("div"),"div"),e=!1;try{b.call(c.documentElement,"[test!='']:sizzle")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!a.getElementsByClassName&&a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length===1)return;o.order.splice(1,0,"CLASS"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!="undefined"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!=="HTML":!1};var y=function(a,b,c){var d,e=[],f="",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,"");a=o.relative[a]?a+"*":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[":"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\[\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.globalPOS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!="string")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack("","find",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),"not",a)},filter:function(a){return this.pushStack(T(this,a,!0),"filter",a)},is:function(a){return!!a&&(typeof a=="string"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!="string"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}c=c.length>1?f.unique(c):c;return this.pushStack(c,"closest",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof a=="string")return f.inArray(this[0],f(a));return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a=="string"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,"parentNode")},parentsUntil:function(a,b,c){return f.dir(a,"parentNode",c)},next:function(a){return f.nth(a,2,"nextSibling")},prev:function(a){return f.nth(a,2,"previousSibling")},nextAll:function(a){return f.dir(a,"nextSibling")},prevAll:function(a){return f.dir(a,"previousSibling")},nextUntil:function(a,b,c){return f.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return f.dir(a,"previousSibling",c)},siblings:function(a){return f.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d=="string"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(","))}}),f.extend({filter:function(a,b,c){c&&(a=":not("+a+")");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",W=/ jQuery\d+="(?:\d+|null)"/g,X=/^\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,Z=/<([\w:]+)/,$=/<tbody/i,_=/<|&#?\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp("<(?:"+V+")[\\s/>]","i"),bd=/checked\s*(?:[^=]|=\s*.checked.)/i,be=/\/(java|ecma)script/i,bf=/^\s*<!(?:\[CDATA\[|\-\-)/,bg={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,"div<div>","</div>"]),f.fn.extend({text:function(a){return f.access(this,function(a){return a===b?f.text(this):this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,"after",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName("*")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function(){for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName("*"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){return f.access(this,function(a){var c=this[0]||{},d=0,e=this.length;if(a===b)return c.nodeType===1?c.innerHTML.replace(W,""):null;if(typeof a=="string"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Y,"<$1></$2>");try{for(;d<e;d++)c=this[d]||{},c.nodeType===1&&(f.cleanData(c.getElementsByTagName("*")),c.innerHTML=a);c=0}catch(g){}}c&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!="string"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),"replaceWith",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j=="string"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,"tr");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,function(a,b){b.src?f.ajax({type:"GET",global:!1,url:b.src,async:!1,dataType:"script"}):f.globalEval((b.text||b.textContent||b.innerHTML||"").replace(bf,"/*$0*/")),b.parentNode&&b.parentNode.removeChild(b)})}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j=="string"&&j.length<512&&i===c&&j.charAt(0)==="<"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||f.isXMLDoc(a)||!bc.test("<"+a.nodeName+">")?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}d=e=null;return h},clean:function(a,b,d,e){var g,h,i,j=[];b=b||c,typeof b.createElement=="undefined"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);for(var k=0,l;(l=a[k])!=null;k++){typeof l=="number"&&(l+="");if(!l)continue;if(typeof l=="string")if(!_.test(l))l=b.createTextNode(l);else{l=l.replace(Y,"<$1></$2>");var m=(Z.exec(l)||["",""])[1].toLowerCase(),n=bg[m]||bg._default,o=n[0],p=b.createElement("div"),q=bh.childNodes,r;b===c?bh.appendChild(p):U(b).appendChild(p),p.innerHTML=n[1]+l+n[2];while(o--)p=p.lastChild;if(!f.support.tbody){var s=$.test(l),t=m==="table"&&!s?p.firstChild&&p.firstChild.childNodes:n[1]==="<table>"&&!s?p.childNodes:[];for(i=t.length-1;i>=0;--i)f.nodeName(t[i],"tbody")&&!t[i].childNodes.length&&t[i].parentNode.removeChild(t[i])}!f.support.leadingWhitespace&&X.test(l)&&p.insertBefore(b.createTextNode(X.exec(l)[0]),p.firstChild),l=p.childNodes,p&&(p.parentNode.removeChild(p),q.length>0&&(r=q[q.length-1],r&&r.parentNode&&r.parentNode.removeChild(r)))}var u;if(!f.support.appendChecked)if(l[0]&&typeof(u=l.length)=="number")for(i=0;i<u;i++)bn(l[i]);else bn(l);l.nodeType?j.push(l):j=f.merge(j,l)}if(d){g=function(a){return!a.type||be.test(a.type)};for(k=0;j[k];k++){h=j[k];if(e&&f.nodeName(h,"script")&&(!h.type||be.test(h.type)))e.push(h.parentNode?h.parentNode.removeChild(h):h);else{if(h.nodeType===1){var v=f.grep(h.getElementsByTagName("script"),g);j.splice.apply(j,[k+1,0].concat(v))}d.appendChild(h)}}}return j},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bp=/alpha\([^)]*\)/i,bq=/opacity=([^)]*)/,br=/([A-Z]|^ms)/g,bs=/^[\-+]?(?:\d*\.)?\d+$/i,bt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,bu=/^([\-+])=([\-+.\de]+)/,bv=/^margin/,bw={position:"absolute",visibility:"hidden",display:"block"},bx=["Top","Right","Bottom","Left"],by,bz,bA;f.fn.css=function(a,c){return f.access(this,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)},a,c,arguments.length>1)},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=by(a,"opacity");return c===""?"1":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":f.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&"get"in k&&(g=k.get(a,!1,e))!==b)return g;return j[c]}h=typeof d,h==="string"&&(g=bu.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h="number");if(d==null||h==="number"&&isNaN(d))return;h==="number"&&!f.cssNumber[i]&&(d+="px");if(!k||!("set"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c==="cssFloat"&&(c="float");if(g&&"get"in g&&(e=g.get(a,!0,d))!==b)return e;if(by)return by(a,c)},swap:function(a,b,c){var d={},e,f;for(f in b)d[f]=a.style[f],a.style[f]=b[f];e=c.call(a);for(f in b)a.style[f]=d[f];return e}}),f.curCSS=f.css,c.defaultView&&c.defaultView.getComputedStyle&&(bz=function(a,b){var c,d,e,g,h=a.style;b=b.replace(br,"-$1").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===""&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b))),!f.support.pixelMargin&&e&&bv.test(b)&&bt.test(c)&&(g=h.width,h.width=c,c=e.width,h.width=g);return c}),c.documentElement.currentStyle&&(bA=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f==null&&g&&(e=g[b])&&(f=e),bt.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b==="fontSize"?"1em":f,f=g.pixelLeft+"px",g.left=c,d&&(a.runtimeStyle.left=d));return f===""?"auto":f}),by=bz||bA,f.each(["height","width"],function(a,b){f.cssHooks[b]={get:function(a,c,d){if(c)return a.offsetWidth!==0?bB(a,b,d):f.swap(a,bw,function(){return bB(a,b,d)})},set:function(a,b){return bs.test(b)?b+"px":b}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return bq.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?"alpha(opacity="+b*100+")":"",g=d&&d.filter||c.filter||"";c.zoom=1;if(b>=1&&f.trim(g.replace(bp,""))===""){c.removeAttribute("filter");if(d&&!d.filter)return}c.filter=bp.test(g)?g.replace(bp,e):g+" "+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){return f.swap(a,{display:"inline-block"},function(){return b?by(a,"margin-right"):a.style.marginRight})}})}),f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,"display"))==="none"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)}),f.each({margin:"",padding:"",border:"Width"},function(a,b){f.cssHooks[a+b]={expand:function(c){var d,e=typeof c=="string"?c.split(" "):[c],f={};for(d=0;d<4;d++)f[a+bx[d]+b]=e[d]||e[d-2]||e[0];return f}}});var bC=/%20/g,bD=/\[\]$/,bE=/\r?\n/g,bF=/#.*$/,bG=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,bH=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bI=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,bJ=/^(?:GET|HEAD)$/,bK=/^\/\//,bL=/\?/,bM=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,bN=/^(?:select|textarea)/i,bO=/\s+/,bP=/([?&])_=[^&]*/,bQ=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,bR=f.fn.load,bS={},bT={},bU,bV,bW=["*/"]+["*"];try{bU=e.href}catch(bX){bU=c.createElement("a"),bU.href="",bU=bU.href}bV=bQ.exec(bU.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!="string"&&bR)return bR.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(" ");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h="GET";c&&(f.isFunction(c)?(d=c,c=b):typeof c=="object"&&(c=f.param(c,f.ajaxSettings.traditional),h="POST"));var i=this;f.ajax({url:a,type:h,dataType:"html",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f("<div>").append(c.replace(bM,"")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bN.test(this.nodeName)||bH.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bE,"\r\n")}}):{name:b.name,value:c.replace(bE,"\r\n")}}).get()}}),f.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each(["get","post"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,"script")},getJSON:function(a,b,c){return f.get(a,b,c,"json")},ajaxSetup:function(a,b){b?b$(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b$(a,b);return a},ajaxSettings:{url:bU,isLocal:bI.test(bV[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":bW},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bY(bS),ajaxTransport:bY(bT),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||"",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?ca(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader("Last-Modified"))f.lastModified[k]=y;if(z=v.getResponseHeader("Etag"))f.etag[k]=z}if(a===304)w="notmodified",o=!0;else try{r=cb(d,x),w="success",o=!0}catch(A){w="parsererror",u=A}}else{u=w;if(!w||a)w="error",a<0&&(a=0)}v.status=a,v.statusText=""+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger("ajax"+(o?"Success":"Error"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger("ajaxComplete",[v,d]),--f.active||f.event.trigger("ajaxStop"))}}typeof a=="object"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks("once memory"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bG.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||"abort",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+"").replace(bF,"").replace(bK,bV[1]+"//"),d.dataTypes=f.trim(d.dataType||"*").toLowerCase().split(bO),d.crossDomain==null&&(r=bQ.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bV[1]&&r[2]==bV[2]&&(r[3]||(r[1]==="http:"?80:443))==(bV[3]||(bV[1]==="http:"?80:443)))),d.data&&d.processData&&typeof d.data!="string"&&(d.data=f.param(d.data,d.traditional)),bZ(bS,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bJ.test(d.type),t&&f.active++===0&&f.event.trigger("ajaxStart");if(!d.hasContent){d.data&&(d.url+=(bL.test(d.url)?"&":"?")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bP,"$1_="+x);d.url=y+(y===d.url?(bL.test(d.url)?"&":"?")+"_="+x:"")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader("If-Modified-Since",f.lastModified[k]),f.etag[k]&&v.setRequestHeader("If-None-Match",f.etag[k])),v.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!=="*"?", "+bW+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return!1}for(u in{success:1,error:1,complete:1})v[u](d[u]);p=bZ(bT,d,c,v);if(!p)w(-1,"No Transport");else{v.readyState=1,t&&g.trigger("ajaxSend",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort("timeout")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2)w(-1,z);else throw z}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)b_(g,a[g],c,e);return d.join("&").replace(bC,"+")}}),f.extend({active:0,lastModified:{},etag:{}});var cc=f.now(),cd=/(\=)\?(&|$)|\?\?/i;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return f.expando+"_"+cc++}}),f.ajaxPrefilter("json jsonp",function(b,c,d){var e=typeof b.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(b.contentType);if(b.dataTypes[0]==="jsonp"||b.jsonp!==!1&&(cd.test(b.url)||e&&cd.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l="$1"+h+"$2";b.jsonp!==!1&&(j=j.replace(cd,l),b.url===j&&(e&&(k=k.replace(cd,l)),b.data===k&&(j+=(/\?/.test(j)?"&":"?")+b.jsonp+"="+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters["script json"]=function(){g||f.error(h+" was not called");return g[0]},b.dataTypes[0]="json";return"script"}}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),f.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName("head")[0]||c.documentElement;return{send:function(f,g){d=c.createElement("script"),d.async="async",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var ce=a.ActiveXObject?function(){for(var a in cg)cg[a](0,1)}:!1,cf=0,cg;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ch()||ci()}:ch,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e["X-Requested-With"]&&(e["X-Requested-With"]="XMLHttpRequest");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,ce&&delete cg[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n);try{m.text=h.responseText}catch(a){}try{k=h.statusText}catch(o){k=""}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cf,ce&&(cg||(cg={},f(a).unload(ce)),cg[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var cj={},ck,cl,cm=/^(?:toggle|show|hide)$/,cn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,co,cp=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],cq;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(ct("show",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,"olddisplay")&&e==="none"&&(e=d.style.display=""),(e===""&&f.css(d,"display")==="none"||!f.contains(d.ownerDocument.documentElement,d))&&f._data(d,"olddisplay",cu(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===""||e==="none")d.style.display=f._data(d,"olddisplay")||""}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(ct("hide",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,"display"),e!=="none"&&!f._data(d,"olddisplay")&&f._data(d,"olddisplay",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display="none");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a=="boolean";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(":hidden");f(this)[b?"show":"hide"]()}):this.animate(ct("toggle",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(":hidden"),g,h,i,j,k,l,m,n,o,p,q;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]);if((k=f.cssHooks[g])&&"expand"in k){l=k.expand(a[g]),delete a[g];for(i in l)i in a||(a[i]=l[i])}}for(g in a){h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||"swing";if(h==="hide"&&d||h==="show"&&!d)return b.complete.call(this);c&&(g==="height"||g==="width")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,"display")==="inline"&&f.css(this,"float")==="none"&&(!f.support.inlineBlockNeedsLayout||cu(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow="hidden");for(i in a)j=new f.fx(this,b,i),h=a[i],cm.test(h)?(q=f._data(this,"toggle"+i)||(h==="toggle"?d?"show":"hide":0),q?(f._data(this,"toggle"+i,q==="show"?"hide":"show"),j[q]()):j[h]()):(m=cn.exec(h),n=j.cur(),m?(o=parseFloat(m[2]),p=m[3]||(f.cssNumber[i]?"":"px"),p!=="px"&&(f.style(this,i,(o||1)+p),n=(o||1)/j.cur()*n,f.style(this,i,n+p)),m[1]&&(o=(m[1]==="-="?-1:1)*o+n),j.custom(n,o,p)):j.custom(n,h,""));return!0}var e=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(e.complete,[!1]);a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!="string"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||"fx",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(".run")===b.length-4&&h(this,g,b);else g[b=a+".run"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:ct("show",1),slideUp:ct("hide",1),slideToggle:ct("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a=="object"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration=="number"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue="fx";d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a){return a},swing:function(a){return-Math.cos(a*Math.PI)/2+.5}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b==="auto"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cq||cr(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?"":"px"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){f._data(e.elem,"fxshow"+e.prop)===b&&(e.options.hide?f._data(e.elem,"fxshow"+e.prop,e.start):e.options.show&&f._data(e.elem,"fxshow"+e.prop,e.end))},h()&&f.timers.push(h)&&!co&&(co=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,"fxshow"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cq||cr(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each(["","X","Y"],function(a,b){h.style["overflow"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,"fxshow"+b,!0),f.removeData(h,"toggle"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(co),co=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,"opacity",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each(cp.concat.apply([],cp),function(a,b){b.indexOf("margin")&&(f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)})}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cv,cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;"getBoundingClientRect"in c.documentElement?cv=function(a,b,c,d){try{d=a.getBoundingClientRect()}catch(e){}if(!d||!f.contains(c,a))return d?{top:d.top,left:d.left}:{top:0,left:0};var g=b.body,h=cy(b),i=c.clientTop||g.clientTop||0,j=c.clientLeft||g.clientLeft||0,k=h.pageYOffset||f.support.boxModel&&c.scrollTop||g.scrollTop,l=h.pageXOffset||f.support.boxModel&&c.scrollLeft||g.scrollLeft,m=d.top+k-i,n=d.left+l-j;return{top:m,left:n}}:cv=function(a,b,c){var d,e=a.offsetParent,g=a,h=b.body,i=b.defaultView,j=i?i.getComputedStyle(a,null):a.currentStyle,k=a.offsetTop,l=a.offsetLeft;while((a=a.parentNode)&&a!==h&&a!==c){if(f.support.fixedPosition&&j.position==="fixed")break;d=i?i.getComputedStyle(a,null):a.currentStyle,k-=a.scrollTop,l-=a.scrollLeft,a===e&&(k+=a.offsetTop,l+=a.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(a.nodeName))&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),g=e,e=a.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&d.overflow!=="visible"&&(k+=parseFloat(d.borderTopWidth)||0,l+=parseFloat(d.borderLeftWidth)||0),j=d}if(j.position==="relative"||j.position==="static")k+=h.offsetTop,l+=h.offsetLeft;f.support.fixedPosition&&j.position==="fixed"&&(k+=Math.max(c.scrollTop,h.scrollTop),l+=Math.max(c.scrollLeft,h.scrollLeft));return{top:k,left:l}},f.fn.offset=function(a){if(arguments.length)return a===b?this:this.each(function(b){f.offset.setOffset(this,a,b)});var c=this[0],d=c&&c.ownerDocument;if(!d)return null;if(c===d.body)return f.offset.bodyOffset(c);return cv(c,d,d.documentElement)},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,"marginTop"))||0,c+=parseFloat(f.css(a,"marginLeft"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,"position");d==="static"&&(a.style.position="relative");var e=f(a),g=e.offset(),h=f.css(a,"top"),i=f.css(a,"left"),j=(d==="absolute"||d==="fixed")&&f.inArray("auto",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),"using"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,"marginTop"))||0,c.left-=parseFloat(f.css(a,"marginLeft"))||0,d.top+=parseFloat(f.css(b[0],"borderTopWidth"))||0,d.left+=parseFloat(f.css(b[0],"borderLeftWidth"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,"position")==="static")a=a.offsetParent;return a})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,c){var d=/Y/.test(c);f.fn[a]=function(e){return f.access(this,function(a,e,g){var h=cy(a);if(g===b)return h?c in h?h[c]:f.support.boxModel&&h.document.documentElement[e]||h.document.body[e]:a[e];h?h.scrollTo(d?f(h).scrollLeft():g,d?g:f(h).scrollTop()):a[e]=g},a,e,arguments.length,null)}}),f.each({Height:"height",Width:"width"},function(a,c){var d="client"+a,e="scroll"+a,g="offset"+a;f.fn["inner"+a]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,c,"padding")):this[c]():null},f.fn["outer"+a]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,c,a?"margin":"border")):this[c]():null},f.fn[c]=function(a){return f.access(this,function(a,c,h){var i,j,k,l;if(f.isWindow(a)){i=a.document,j=i.documentElement[d];return f.support.boxModel&&j||i.body&&i.body[d]||j}if(a.nodeType===9){i=a.documentElement;if(i[d]>=i[e])return i[d];return Math.max(a.body[e],i[e],a.body[g],i[g])}if(h===b){k=f.css(a,c),l=parseFloat(k);return f.isNumeric(l)?l:k}f(a).css(c,h)},c,a,arguments.length,null)}}),a.jQuery=a.$=f,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return f})})(window);;(function($){$.extend($,{placeholder:{browser_supported:function(){return this._supported!==undefined?this._supported:(this._supported=!!('placeholder'in $('<input type="text">')[0]));},shim:function(opts){var config={color:'#888',cls:'placeholder',selector:'input[placeholder], textarea[placeholder]'};$.extend(config,opts);return!this.browser_supported()&&$(config.selector)._placeholder_shim(config);}}});$.extend($.fn,{_placeholder_shim:function(config){function calcPositionCss(target)
{var op=$(target).offsetParent().offset();var ot=$(target).offset();return{top:ot.top-op.top,left:ot.left-op.left,width:$(target).width()};}
return this.each(function(){var $this=$(this);if($this.is(':visible')){if($this.data('placeholder')){var $ol=$this.data('placeholder');$ol.css(calcPositionCss($this));return true;}
var possible_line_height={};if(!$this.is('textarea')&&$this.css('height')!='auto'){possible_line_height={lineHeight:$this.css('height'),whiteSpace:'nowrap'};}
var ol=$('<label />').text($this.attr('placeholder')).addClass(config.cls).css($.extend({position:'absolute',display:'inline',float:'none',overflow:'hidden',textAlign:'left',color:config.color,cursor:'text',paddingTop:$this.css('padding-top'),paddingRight:$this.css('padding-right'),paddingBottom:$this.css('padding-bottom'),paddingLeft:$this.css('padding-left'),fontSize:$this.css('font-size'),fontFamily:$this.css('font-family'),fontStyle:$this.css('font-style'),fontWeight:$this.css('font-weight'),textTransform:$this.css('text-transform'),backgroundColor:'transparent',zIndex:99},possible_line_height)).css(calcPositionCss(this)).attr('for',this.id).data('target',$this).click(function(){$(this).data('target').focus();}).insertBefore(this);$this.data('placeholder',ol).focus(function(){ol.hide();}).blur(function(){ol[$this.val().length?'hide':'show']();}).triggerHandler('blur');$(window).resize(function(){var $target=ol.data('target');ol.css(calcPositionCss($target));});}});}});})(jQuery);jQuery(document).add(window).bind('ready load',function(){if(jQuery.placeholder){jQuery.placeholder.shim();}});;(function($,undefined){var uuid=0,runiqueId=/^ui-id-\d+$/;$.ui=$.ui||{};$.extend($.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});$.fn.extend({focus:(function(orig){return function(delay,fn){return typeof delay==="number"?this.each(function(){var elem=this;setTimeout(function(){$(elem).focus();if(fn){fn.call(elem);}},delay);}):orig.apply(this,arguments);};})($.fn.focus),scrollParent:function(){var scrollParent;if(($.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){scrollParent=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test($.css(this,"position"))&&(/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));}).eq(0);}else{scrollParent=this.parents().filter(function(){return(/(auto|scroll)/).test($.css(this,"overflow")+$.css(this,"overflow-y")+$.css(this,"overflow-x"));}).eq(0);}
return(/fixed/).test(this.css("position"))||!scrollParent.length?$(document):scrollParent;},zIndex:function(zIndex){if(zIndex!==undefined){return this.css("zIndex",zIndex);}
if(this.length){var elem=$(this[0]),position,value;while(elem.length&&elem[0]!==document){position=elem.css("position");if(position==="absolute"||position==="relative"||position==="fixed"){value=parseInt(elem.css("zIndex"),10);if(!isNaN(value)&&value!==0){return value;}}
elem=elem.parent();}}
return 0;},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++uuid);}});},removeUniqueId:function(){return this.each(function(){if(runiqueId.test(this.id)){$(this).removeAttr("id");}});}});function focusable(element,isTabIndexNotNaN){var map,mapName,img,nodeName=element.nodeName.toLowerCase();if("area"===nodeName){map=element.parentNode;mapName=map.name;if(!element.href||!mapName||map.nodeName.toLowerCase()!=="map"){return false;}
img=$("img[usemap=#"+mapName+"]")[0];return!!img&&visible(img);}
return(/input|select|textarea|button|object/.test(nodeName)?!element.disabled:"a"===nodeName?element.href||isTabIndexNotNaN:isTabIndexNotNaN)&&visible(element);}
function visible(element){return $.expr.filters.visible(element)&&!$(element).parents().addBack().filter(function(){return $.css(this,"visibility")==="hidden";}).length;}
$.extend($.expr[":"],{data:$.expr.createPseudo?$.expr.createPseudo(function(dataName){return function(elem){return!!$.data(elem,dataName);};}):function(elem,i,match){return!!$.data(elem,match[3]);},focusable:function(element){return focusable(element,!isNaN($.attr(element,"tabindex")));},tabbable:function(element){var tabIndex=$.attr(element,"tabindex"),isTabIndexNaN=isNaN(tabIndex);return(isTabIndexNaN||tabIndex>=0)&&focusable(element,!isTabIndexNaN);}});if(!$("<a>").outerWidth(1).jquery){$.each(["Width","Height"],function(i,name){var side=name==="Width"?["Left","Right"]:["Top","Bottom"],type=name.toLowerCase(),orig={innerWidth:$.fn.innerWidth,innerHeight:$.fn.innerHeight,outerWidth:$.fn.outerWidth,outerHeight:$.fn.outerHeight};function reduce(elem,size,border,margin){$.each(side,function(){size-=parseFloat($.css(elem,"padding"+this))||0;if(border){size-=parseFloat($.css(elem,"border"+this+"Width"))||0;}
if(margin){size-=parseFloat($.css(elem,"margin"+this))||0;}});return size;}
$.fn["inner"+name]=function(size){if(size===undefined){return orig["inner"+name].call(this);}
return this.each(function(){$(this).css(type,reduce(this,size)+"px");});};$.fn["outer"+name]=function(size,margin){if(typeof size!=="number"){return orig["outer"+name].call(this,size);}
return this.each(function(){$(this).css(type,reduce(this,size,true,margin)+"px");});};});}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
if($("<a>").data("a-b","a").removeData("a-b").data("a-b")){$.fn.removeData=(function(removeData){return function(key){if(arguments.length){return removeData.call(this,$.camelCase(key));}else{return removeData.call(this);}};})($.fn.removeData);}
$.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());$.support.selectstart="onselectstart"in document.createElement("div");$.fn.extend({disableSelection:function(){return this.bind(($.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(event){event.preventDefault();});},enableSelection:function(){return this.unbind(".ui-disableSelection");}});$.extend($.ui,{plugin:{add:function(module,option,set){var i,proto=$.ui[module].prototype;for(i in set){proto.plugins[i]=proto.plugins[i]||[];proto.plugins[i].push([option,set[i]]);}},call:function(instance,name,args){var i,set=instance.plugins[name];if(!set||!instance.element[0].parentNode||instance.element[0].parentNode.nodeType===11){return;}
for(i=0;i<set.length;i++){if(instance.options[set[i][0]]){set[i][1].apply(instance.element,args);}}}},hasScroll:function(el,a){if($(el).css("overflow")==="hidden"){return false;}
var scroll=(a&&a==="left")?"scrollLeft":"scrollTop",has=false;if(el[scroll]>0){return true;}
el[scroll]=1;has=(el[scroll]>0);el[scroll]=0;return has;}});})(jQuery);(function($,undefined){var uuid=0,slice=Array.prototype.slice,_cleanData=$.cleanData;$.cleanData=function(elems){for(var i=0,elem;(elem=elems[i])!=null;i++){try{$(elem).triggerHandler("remove");}catch(e){}}
_cleanData(elems);};$.widget=function(name,base,prototype){var fullName,existingConstructor,constructor,basePrototype,proxiedPrototype={},namespace=name.split(".")[0];name=name.split(".")[1];fullName=namespace+"-"+name;if(!prototype){prototype=base;base=$.Widget;}
$.expr[":"][fullName.toLowerCase()]=function(elem){return!!$.data(elem,fullName);};$[namespace]=$[namespace]||{};existingConstructor=$[namespace][name];constructor=$[namespace][name]=function(options,element){if(!this._createWidget){return new constructor(options,element);}
if(arguments.length){this._createWidget(options,element);}};$.extend(constructor,existingConstructor,{version:prototype.version,_proto:$.extend({},prototype),_childConstructors:[]});basePrototype=new base();basePrototype.options=$.widget.extend({},basePrototype.options);$.each(prototype,function(prop,value){if(!$.isFunction(value)){proxiedPrototype[prop]=value;return;}
proxiedPrototype[prop]=(function(){var _super=function(){return base.prototype[prop].apply(this,arguments);},_superApply=function(args){return base.prototype[prop].apply(this,args);};return function(){var __super=this._super,__superApply=this._superApply,returnValue;this._super=_super;this._superApply=_superApply;returnValue=value.apply(this,arguments);this._super=__super;this._superApply=__superApply;return returnValue;};})();});constructor.prototype=$.widget.extend(basePrototype,{widgetEventPrefix:existingConstructor?basePrototype.widgetEventPrefix:name},proxiedPrototype,{constructor:constructor,namespace:namespace,widgetName:name,widgetFullName:fullName});if(existingConstructor){$.each(existingConstructor._childConstructors,function(i,child){var childPrototype=child.prototype;$.widget(childPrototype.namespace+"."+childPrototype.widgetName,constructor,child._proto);});delete existingConstructor._childConstructors;}else{base._childConstructors.push(constructor);}
$.widget.bridge(name,constructor);};$.widget.extend=function(target){var input=slice.call(arguments,1),inputIndex=0,inputLength=input.length,key,value;for(;inputIndex<inputLength;inputIndex++){for(key in input[inputIndex]){value=input[inputIndex][key];if(input[inputIndex].hasOwnProperty(key)&&value!==undefined){if($.isPlainObject(value)){target[key]=$.isPlainObject(target[key])?$.widget.extend({},target[key],value):$.widget.extend({},value);}else{target[key]=value;}}}}
return target;};$.widget.bridge=function(name,object){var fullName=object.prototype.widgetFullName||name;$.fn[name]=function(options){var isMethodCall=typeof options==="string",args=slice.call(arguments,1),returnValue=this;options=!isMethodCall&&args.length?$.widget.extend.apply(null,[options].concat(args)):options;if(isMethodCall){this.each(function(){var methodValue,instance=$.data(this,fullName);if(!instance){return $.error("cannot call methods on "+name+" prior to initialization; "+"attempted to call method '"+options+"'");}
if(!$.isFunction(instance[options])||options.charAt(0)==="_"){return $.error("no such method '"+options+"' for "+name+" widget instance");}
methodValue=instance[options].apply(instance,args);if(methodValue!==instance&&methodValue!==undefined){returnValue=methodValue&&methodValue.jquery?returnValue.pushStack(methodValue.get()):methodValue;return false;}});}else{this.each(function(){var instance=$.data(this,fullName);if(instance){instance.option(options||{})._init();}else{$.data(this,fullName,new object(options,this));}});}
return returnValue;};};$.Widget=function(){};$.Widget._childConstructors=[];$.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(options,element){element=$(element||this.defaultElement||this)[0];this.element=$(element);this.uuid=uuid++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=$.widget.extend({},this.options,this._getCreateOptions(),options);this.bindings=$();this.hoverable=$();this.focusable=$();if(element!==this){$.data(element,this.widgetFullName,this);this._on(true,this.element,{remove:function(event){if(event.target===element){this.destroy();}}});this.document=$(element.style?element.ownerDocument:element.document||element);this.window=$(this.document[0].defaultView||this.document[0].parentWindow);}
this._create();this._trigger("create",null,this._getCreateEventData());this._init();},_getCreateOptions:$.noop,_getCreateEventData:$.noop,_create:$.noop,_init:$.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData($.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");},_destroy:$.noop,widget:function(){return this.element;},option:function(key,value){var options=key,parts,curOption,i;if(arguments.length===0){return $.widget.extend({},this.options);}
if(typeof key==="string"){options={};parts=key.split(".");key=parts.shift();if(parts.length){curOption=options[key]=$.widget.extend({},this.options[key]);for(i=0;i<parts.length-1;i++){curOption[parts[i]]=curOption[parts[i]]||{};curOption=curOption[parts[i]];}
key=parts.pop();if(value===undefined){return curOption[key]===undefined?null:curOption[key];}
curOption[key]=value;}else{if(value===undefined){return this.options[key]===undefined?null:this.options[key];}
options[key]=value;}}
this._setOptions(options);return this;},_setOptions:function(options){var key;for(key in options){this._setOption(key,options[key]);}
return this;},_setOption:function(key,value){this.options[key]=value;if(key==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!value).attr("aria-disabled",value);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus");}
return this;},enable:function(){return this._setOption("disabled",false);},disable:function(){return this._setOption("disabled",true);},_on:function(suppressDisabledCheck,element,handlers){var delegateElement,instance=this;if(typeof suppressDisabledCheck!=="boolean"){handlers=element;element=suppressDisabledCheck;suppressDisabledCheck=false;}
if(!handlers){handlers=element;element=this.element;delegateElement=this.widget();}else{element=delegateElement=$(element);this.bindings=this.bindings.add(element);}
$.each(handlers,function(event,handler){function handlerProxy(){if(!suppressDisabledCheck&&(instance.options.disabled===true||$(this).hasClass("ui-state-disabled"))){return;}
return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
if(typeof handler!=="string"){handlerProxy.guid=handler.guid=handler.guid||handlerProxy.guid||$.guid++;}
var match=event.match(/^(\w+)\s*(.*)$/),eventName=match[1]+instance.eventNamespace,selector=match[2];if(selector){delegateElement.delegate(selector,eventName,handlerProxy);}else{element.bind(eventName,handlerProxy);}});},_off:function(element,eventName){eventName=(eventName||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;element.unbind(eventName).undelegate(eventName);},_delay:function(handler,delay){function handlerProxy(){return(typeof handler==="string"?instance[handler]:handler).apply(instance,arguments);}
var instance=this;return setTimeout(handlerProxy,delay||0);},_hoverable:function(element){this.hoverable=this.hoverable.add(element);this._on(element,{mouseenter:function(event){$(event.currentTarget).addClass("ui-state-hover");},mouseleave:function(event){$(event.currentTarget).removeClass("ui-state-hover");}});},_focusable:function(element){this.focusable=this.focusable.add(element);this._on(element,{focusin:function(event){$(event.currentTarget).addClass("ui-state-focus");},focusout:function(event){$(event.currentTarget).removeClass("ui-state-focus");}});},_trigger:function(type,event,data){var prop,orig,callback=this.options[type];data=data||{};event=$.Event(event);event.type=(type===this.widgetEventPrefix?type:this.widgetEventPrefix+type).toLowerCase();event.target=this.element[0];orig=event.originalEvent;if(orig){for(prop in orig){if(!(prop in event)){event[prop]=orig[prop];}}}
this.element.trigger(event,data);return!($.isFunction(callback)&&callback.apply(this.element[0],[event].concat(data))===false||event.isDefaultPrevented());}};$.each({show:"fadeIn",hide:"fadeOut"},function(method,defaultEffect){$.Widget.prototype["_"+method]=function(element,options,callback){if(typeof options==="string"){options={effect:options};}
var hasOptions,effectName=!options?method:options===true||typeof options==="number"?defaultEffect:options.effect||defaultEffect;options=options||{};if(typeof options==="number"){options={duration:options};}
hasOptions=!$.isEmptyObject(options);options.complete=callback;if(options.delay){element.delay(options.delay);}
if(hasOptions&&$.effects&&$.effects.effect[effectName]){element[method](options);}else if(effectName!==method&&element[effectName]){element[effectName](options.duration,options.easing,callback);}else{element.queue(function(next){$(this)[method]();if(callback){callback.call(element[0]);}
next();});}};});})(jQuery);(function($,undefined){var mouseHandled=false;$(document).mouseup(function(){mouseHandled=false;});$.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var that=this;this.element.bind("mousedown."+this.widgetName,function(event){return that._mouseDown(event);}).bind("click."+this.widgetName,function(event){if(true===$.data(event.target,that.widgetName+".preventClickEvent")){$.removeData(event.target,that.widgetName+".preventClickEvent");event.stopImmediatePropagation();return false;}});this.started=false;},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);}},_mouseDown:function(event){if(mouseHandled){return;}
(this._mouseStarted&&this._mouseUp(event));this._mouseDownEvent=event;var that=this,btnIsLeft=(event.which===1),elIsCancel=(typeof this.options.cancel==="string"&&event.target.nodeName?$(event.target).closest(this.options.cancel).length:false);if(!btnIsLeft||elIsCancel||!this._mouseCapture(event)){return true;}
this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){that.mouseDelayMet=true;},this.options.delay);}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(event)!==false);if(!this._mouseStarted){event.preventDefault();return true;}}
if(true===$.data(event.target,this.widgetName+".preventClickEvent")){$.removeData(event.target,this.widgetName+".preventClickEvent");}
this._mouseMoveDelegate=function(event){return that._mouseMove(event);};this._mouseUpDelegate=function(event){return that._mouseUp(event);};$(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);event.preventDefault();mouseHandled=true;return true;},_mouseMove:function(event){if($.ui.ie&&(!document.documentMode||document.documentMode<9)&&!event.button){return this._mouseUp(event);}
if(this._mouseStarted){this._mouseDrag(event);return event.preventDefault();}
if(this._mouseDistanceMet(event)&&this._mouseDelayMet(event)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,event)!==false);(this._mouseStarted?this._mouseDrag(event):this._mouseUp(event));}
return!this._mouseStarted;},_mouseUp:function(event){$(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(event.target===this._mouseDownEvent.target){$.data(event.target,this.widgetName+".preventClickEvent",true);}
this._mouseStop(event);}
return false;},_mouseDistanceMet:function(event){return(Math.max(Math.abs(this._mouseDownEvent.pageX-event.pageX),Math.abs(this._mouseDownEvent.pageY-event.pageY))>=this.options.distance);},_mouseDelayMet:function(){return this.mouseDelayMet;},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true;}});})(jQuery);(function($,undefined){$.ui=$.ui||{};var cachedScrollbarWidth,max=Math.max,abs=Math.abs,round=Math.round,rhorizontal=/left|center|right/,rvertical=/top|center|bottom/,roffset=/[\+\-]\d+(\.[\d]+)?%?/,rposition=/^\w+/,rpercent=/%$/,_position=$.fn.position;function getOffsets(offsets,width,height){return[parseFloat(offsets[0])*(rpercent.test(offsets[0])?width/100:1),parseFloat(offsets[1])*(rpercent.test(offsets[1])?height/100:1)];}
function parseCss(element,property){return parseInt($.css(element,property),10)||0;}
function getDimensions(elem){var raw=elem[0];if(raw.nodeType===9){return{width:elem.width(),height:elem.height(),offset:{top:0,left:0}};}
if($.isWindow(raw)){return{width:elem.width(),height:elem.height(),offset:{top:elem.scrollTop(),left:elem.scrollLeft()}};}
if(raw.preventDefault){return{width:0,height:0,offset:{top:raw.pageY,left:raw.pageX}};}
return{width:elem.outerWidth(),height:elem.outerHeight(),offset:elem.offset()};}
$.position={scrollbarWidth:function(){if(cachedScrollbarWidth!==undefined){return cachedScrollbarWidth;}
var w1,w2,div=$("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),innerDiv=div.children()[0];$("body").append(div);w1=innerDiv.offsetWidth;div.css("overflow","scroll");w2=innerDiv.offsetWidth;if(w1===w2){w2=div[0].clientWidth;}
div.remove();return(cachedScrollbarWidth=w1-w2);},getScrollInfo:function(within){var overflowX=within.isWindow?"":within.element.css("overflow-x"),overflowY=within.isWindow?"":within.element.css("overflow-y"),hasOverflowX=overflowX==="scroll"||(overflowX==="auto"&&within.width<within.element[0].scrollWidth),hasOverflowY=overflowY==="scroll"||(overflowY==="auto"&&within.height<within.element[0].scrollHeight);return{width:hasOverflowY?$.position.scrollbarWidth():0,height:hasOverflowX?$.position.scrollbarWidth():0};},getWithinInfo:function(element){var withinElement=$(element||window),isWindow=$.isWindow(withinElement[0]);return{element:withinElement,isWindow:isWindow,offset:withinElement.offset()||{left:0,top:0},scrollLeft:withinElement.scrollLeft(),scrollTop:withinElement.scrollTop(),width:isWindow?withinElement.width():withinElement.outerWidth(),height:isWindow?withinElement.height():withinElement.outerHeight()};}};$.fn.position=function(options){if(!options||!options.of){return _position.apply(this,arguments);}
options=$.extend({},options);var atOffset,targetWidth,targetHeight,targetOffset,basePosition,dimensions,target=$(options.of),within=$.position.getWithinInfo(options.within),scrollInfo=$.position.getScrollInfo(within),collision=(options.collision||"flip").split(" "),offsets={};dimensions=getDimensions(target);if(target[0].preventDefault){options.at="left top";}
targetWidth=dimensions.width;targetHeight=dimensions.height;targetOffset=dimensions.offset;basePosition=$.extend({},targetOffset);$.each(["my","at"],function(){var pos=(options[this]||"").split(" "),horizontalOffset,verticalOffset;if(pos.length===1){pos=rhorizontal.test(pos[0])?pos.concat(["center"]):rvertical.test(pos[0])?["center"].concat(pos):["center","center"];}
pos[0]=rhorizontal.test(pos[0])?pos[0]:"center";pos[1]=rvertical.test(pos[1])?pos[1]:"center";horizontalOffset=roffset.exec(pos[0]);verticalOffset=roffset.exec(pos[1]);offsets[this]=[horizontalOffset?horizontalOffset[0]:0,verticalOffset?verticalOffset[0]:0];options[this]=[rposition.exec(pos[0])[0],rposition.exec(pos[1])[0]];});if(collision.length===1){collision[1]=collision[0];}
if(options.at[0]==="right"){basePosition.left+=targetWidth;}else if(options.at[0]==="center"){basePosition.left+=targetWidth/2;}
if(options.at[1]==="bottom"){basePosition.top+=targetHeight;}else if(options.at[1]==="center"){basePosition.top+=targetHeight/2;}
atOffset=getOffsets(offsets.at,targetWidth,targetHeight);basePosition.left+=atOffset[0];basePosition.top+=atOffset[1];return this.each(function(){var collisionPosition,using,elem=$(this),elemWidth=elem.outerWidth(),elemHeight=elem.outerHeight(),marginLeft=parseCss(this,"marginLeft"),marginTop=parseCss(this,"marginTop"),collisionWidth=elemWidth+marginLeft+parseCss(this,"marginRight")+scrollInfo.width,collisionHeight=elemHeight+marginTop+parseCss(this,"marginBottom")+scrollInfo.height,position=$.extend({},basePosition),myOffset=getOffsets(offsets.my,elem.outerWidth(),elem.outerHeight());if(options.my[0]==="right"){position.left-=elemWidth;}else if(options.my[0]==="center"){position.left-=elemWidth/2;}
if(options.my[1]==="bottom"){position.top-=elemHeight;}else if(options.my[1]==="center"){position.top-=elemHeight/2;}
position.left+=myOffset[0];position.top+=myOffset[1];if(!$.support.offsetFractions){position.left=round(position.left);position.top=round(position.top);}
collisionPosition={marginLeft:marginLeft,marginTop:marginTop};$.each(["left","top"],function(i,dir){if($.ui.position[collision[i]]){$.ui.position[collision[i]][dir](position,{targetWidth:targetWidth,targetHeight:targetHeight,elemWidth:elemWidth,elemHeight:elemHeight,collisionPosition:collisionPosition,collisionWidth:collisionWidth,collisionHeight:collisionHeight,offset:[atOffset[0]+myOffset[0],atOffset[1]+myOffset[1]],my:options.my,at:options.at,within:within,elem:elem});}});if(options.using){using=function(props){var left=targetOffset.left-position.left,right=left+targetWidth-elemWidth,top=targetOffset.top-position.top,bottom=top+targetHeight-elemHeight,feedback={target:{element:target,left:targetOffset.left,top:targetOffset.top,width:targetWidth,height:targetHeight},element:{element:elem,left:position.left,top:position.top,width:elemWidth,height:elemHeight},horizontal:right<0?"left":left>0?"right":"center",vertical:bottom<0?"top":top>0?"bottom":"middle"};if(targetWidth<elemWidth&&abs(left+right)<targetWidth){feedback.horizontal="center";}
if(targetHeight<elemHeight&&abs(top+bottom)<targetHeight){feedback.vertical="middle";}
if(max(abs(left),abs(right))>max(abs(top),abs(bottom))){feedback.important="horizontal";}else{feedback.important="vertical";}
options.using.call(this,props,feedback);};}
elem.offset($.extend(position,{using:using}));});};$.ui.position={fit:{left:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollLeft:within.offset.left,outerWidth=within.width,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=withinOffset-collisionPosLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-withinOffset,newOverRight;if(data.collisionWidth>outerWidth){if(overLeft>0&&overRight<=0){newOverRight=position.left+overLeft+data.collisionWidth-outerWidth-withinOffset;position.left+=overLeft-newOverRight;}else if(overRight>0&&overLeft<=0){position.left=withinOffset;}else{if(overLeft>overRight){position.left=withinOffset+outerWidth-data.collisionWidth;}else{position.left=withinOffset;}}}else if(overLeft>0){position.left+=overLeft;}else if(overRight>0){position.left-=overRight;}else{position.left=max(position.left-collisionPosLeft,position.left);}},top:function(position,data){var within=data.within,withinOffset=within.isWindow?within.scrollTop:within.offset.top,outerHeight=data.within.height,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=withinOffset-collisionPosTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-withinOffset,newOverBottom;if(data.collisionHeight>outerHeight){if(overTop>0&&overBottom<=0){newOverBottom=position.top+overTop+data.collisionHeight-outerHeight-withinOffset;position.top+=overTop-newOverBottom;}else if(overBottom>0&&overTop<=0){position.top=withinOffset;}else{if(overTop>overBottom){position.top=withinOffset+outerHeight-data.collisionHeight;}else{position.top=withinOffset;}}}else if(overTop>0){position.top+=overTop;}else if(overBottom>0){position.top-=overBottom;}else{position.top=max(position.top-collisionPosTop,position.top);}}},flip:{left:function(position,data){var within=data.within,withinOffset=within.offset.left+within.scrollLeft,outerWidth=within.width,offsetLeft=within.isWindow?within.scrollLeft:within.offset.left,collisionPosLeft=position.left-data.collisionPosition.marginLeft,overLeft=collisionPosLeft-offsetLeft,overRight=collisionPosLeft+data.collisionWidth-outerWidth-offsetLeft,myOffset=data.my[0]==="left"?-data.elemWidth:data.my[0]==="right"?data.elemWidth:0,atOffset=data.at[0]==="left"?data.targetWidth:data.at[0]==="right"?-data.targetWidth:0,offset=-2*data.offset[0],newOverRight,newOverLeft;if(overLeft<0){newOverRight=position.left+myOffset+atOffset+offset+data.collisionWidth-outerWidth-withinOffset;if(newOverRight<0||newOverRight<abs(overLeft)){position.left+=myOffset+atOffset+offset;}}
else if(overRight>0){newOverLeft=position.left-data.collisionPosition.marginLeft+myOffset+atOffset+offset-offsetLeft;if(newOverLeft>0||abs(newOverLeft)<overRight){position.left+=myOffset+atOffset+offset;}}},top:function(position,data){var within=data.within,withinOffset=within.offset.top+within.scrollTop,outerHeight=within.height,offsetTop=within.isWindow?within.scrollTop:within.offset.top,collisionPosTop=position.top-data.collisionPosition.marginTop,overTop=collisionPosTop-offsetTop,overBottom=collisionPosTop+data.collisionHeight-outerHeight-offsetTop,top=data.my[1]==="top",myOffset=top?-data.elemHeight:data.my[1]==="bottom"?data.elemHeight:0,atOffset=data.at[1]==="top"?data.targetHeight:data.at[1]==="bottom"?-data.targetHeight:0,offset=-2*data.offset[1],newOverTop,newOverBottom;if(overTop<0){newOverBottom=position.top+myOffset+atOffset+offset+data.collisionHeight-outerHeight-withinOffset;if((position.top+myOffset+atOffset+offset)>overTop&&(newOverBottom<0||newOverBottom<abs(overTop))){position.top+=myOffset+atOffset+offset;}}
else if(overBottom>0){newOverTop=position.top-data.collisionPosition.marginTop+myOffset+atOffset+offset-offsetTop;if((position.top+myOffset+atOffset+offset)>overBottom&&(newOverTop>0||abs(newOverTop)<overBottom)){position.top+=myOffset+atOffset+offset;}}}},flipfit:{left:function(){$.ui.position.flip.left.apply(this,arguments);$.ui.position.fit.left.apply(this,arguments);},top:function(){$.ui.position.flip.top.apply(this,arguments);$.ui.position.fit.top.apply(this,arguments);}}};(function(){var testElement,testElementParent,testElementStyle,offsetLeft,i,body=document.getElementsByTagName("body")[0],div=document.createElement("div");testElement=document.createElement(body?"div":"body");testElementStyle={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(body){$.extend(testElementStyle,{position:"absolute",left:"-1000px",top:"-1000px"});}
for(i in testElementStyle){testElement.style[i]=testElementStyle[i];}
testElement.appendChild(div);testElementParent=body||document.documentElement;testElementParent.insertBefore(testElement,testElementParent.firstChild);div.style.cssText="position: absolute; left: 10.7432222px;";offsetLeft=$(div).offset().left;$.support.offsetFractions=offsetLeft>10&&offsetLeft<11;testElement.innerHTML="";testElementParent.removeChild(testElement);})();}(jQuery));(function($,undefined){$.widget("ui.draggable",$.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false,drag:null,start:null,stop:null},_create:function(){if(this.options.helper==="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative";}
if(this.options.addClasses){this.element.addClass("ui-draggable");}
if(this.options.disabled){this.element.addClass("ui-draggable-disabled");}
this._mouseInit();},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy();},_mouseCapture:function(event){var o=this.options;if(this.helper||o.disabled||$(event.target).closest(".ui-resizable-handle").length>0){return false;}
this.handle=this._getHandle(event);if(!this.handle){return false;}
$(o.iframeFix===true?"iframe":o.iframeFix).each(function(){$("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css($(this).offset()).appendTo("body");});return true;},_mouseStart:function(event){var o=this.options;this.helper=this._createHelper(event);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if($.ui.ddmanager){$.ui.ddmanager.current=this;}
this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offsetParent=this.helper.offsetParent();this.offsetParentCssPosition=this.offsetParent.css("position");this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};this.offset.scroll=false;$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this._setContainment();if(this._trigger("start",event)===false){this._clear();return false;}
this._cacheHelperProportions();if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}
this._mouseDrag(event,true);if($.ui.ddmanager){$.ui.ddmanager.dragStart(this,event);}
return true;},_mouseDrag:function(event,noPropagation){if(this.offsetParentCssPosition==="fixed"){this.offset.parent=this._getParentOffset();}
this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!noPropagation){var ui=this._uiHash();if(this._trigger("drag",event,ui)===false){this._mouseUp({});return false;}
this.position=ui.position;}
if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px";}
if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px";}
if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}
return false;},_mouseStop:function(event){var that=this,dropped=false;if($.ui.ddmanager&&!this.options.dropBehaviour){dropped=$.ui.ddmanager.drop(this,event);}
if(this.dropped){dropped=this.dropped;this.dropped=false;}
if(this.options.helper==="original"&&!$.contains(this.element[0].ownerDocument,this.element[0])){return false;}
if((this.options.revert==="invalid"&&!dropped)||(this.options.revert==="valid"&&dropped)||this.options.revert===true||($.isFunction(this.options.revert)&&this.options.revert.call(this.element,dropped))){$(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(that._trigger("stop",event)!==false){that._clear();}});}else{if(this._trigger("stop",event)!==false){this._clear();}}
return false;},_mouseUp:function(event){$("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this);});if($.ui.ddmanager){$.ui.ddmanager.dragStop(this,event);}
return $.ui.mouse.prototype._mouseUp.call(this,event);},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({});}else{this._clear();}
return this;},_getHandle:function(event){return this.options.handle?!!$(event.target).closest(this.element.find(this.options.handle)).length:true;},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event])):(o.helper==="clone"?this.element.clone().removeAttr("id"):this.element);if(!helper.parents("body").length){helper.appendTo((o.appendTo==="parent"?this.element[0].parentNode:o.appendTo));}
if(helper[0]!==this.element[0]&&!(/(fixed|absolute)/).test(helper.css("position"))){helper.css("position","absolute");}
return helper;},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ");}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if("left"in obj){this.offset.click.left=obj.left+this.margins.left;}
if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if("top"in obj){this.offset.click.top=obj.top+this.margins.top;}
if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_getParentOffset:function(){var po=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if((this.offsetParent[0]===document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie)){po={top:0,left:0};}
return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.element.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var over,c,ce,o=this.options;if(!o.containment){this.containment=null;return;}
if(o.containment==="window"){this.containment=[$(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,$(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,$(window).scrollLeft()+$(window).width()-this.helperProportions.width-this.margins.left,$(window).scrollTop()+($(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}
if(o.containment==="document"){this.containment=[0,0,$(document).width()-this.helperProportions.width-this.margins.left,($(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return;}
if(o.containment.constructor===Array){this.containment=o.containment;return;}
if(o.containment==="parent"){o.containment=this.helper[0].parentNode;}
c=$(o.containment);ce=c[0];if(!ce){return;}
over=c.css("overflow")!=="hidden";this.containment=[(parseInt(c.css("borderLeftWidth"),10)||0)+(parseInt(c.css("paddingLeft"),10)||0),(parseInt(c.css("borderTopWidth"),10)||0)+(parseInt(c.css("paddingTop"),10)||0),(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt(c.css("borderRightWidth"),10)||0)-(parseInt(c.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt(c.css("borderBottomWidth"),10)||0)-(parseInt(c.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=c;},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}
var mod=d==="absolute"?1:-1,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent;if(!this.offset.scroll){this.offset.scroll={top:scroll.scrollTop(),left:scroll.scrollLeft()};}
return{top:(pos.top+
this.offset.relative.top*mod+
this.offset.parent.top*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*mod)),left:(pos.left+
this.offset.relative.left*mod+
this.offset.parent.left*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*mod))};},_generatePosition:function(event){var containment,co,top,left,o=this.options,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,pageX=event.pageX,pageY=event.pageY;if(!this.offset.scroll){this.offset.scroll={top:scroll.scrollTop(),left:scroll.scrollLeft()};}
if(this.originalPosition){if(this.containment){if(this.relative_container){co=this.relative_container.offset();containment=[this.containment[0]+co.left,this.containment[1]+co.top,this.containment[2]+co.left,this.containment[3]+co.top];}
else{containment=this.containment;}
if(event.pageX-this.offset.click.left<containment[0]){pageX=containment[0]+this.offset.click.left;}
if(event.pageY-this.offset.click.top<containment[1]){pageY=containment[1]+this.offset.click.top;}
if(event.pageX-this.offset.click.left>containment[2]){pageX=containment[2]+this.offset.click.left;}
if(event.pageY-this.offset.click.top>containment[3]){pageY=containment[3]+this.offset.click.top;}}
if(o.grid){top=o.grid[1]?this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY;pageY=containment?((top-this.offset.click.top>=containment[1]||top-this.offset.click.top>containment[3])?top:((top-this.offset.click.top>=containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=o.grid[0]?this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX;pageX=containment?((left-this.offset.click.left>=containment[0]||left-this.offset.click.left>containment[2])?left:((left-this.offset.click.left>=containment[0])?left-o.grid[0]:left+o.grid[0])):left;}}
return{top:(pageY-
this.offset.click.top-
this.offset.relative.top-
this.offset.parent.top+
(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)),left:(pageX-
this.offset.click.left-
this.offset.relative.left-
this.offset.parent.left+
(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left))};},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval){this.helper.remove();}
this.helper=null;this.cancelHelperRemoval=false;},_trigger:function(type,event,ui){ui=ui||this._uiHash();$.ui.plugin.call(this,type,[event,ui]);if(type==="drag"){this.positionAbs=this._convertPositionTo("absolute");}
return $.Widget.prototype._trigger.call(this,type,event,ui);},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs};}});$.ui.plugin.add("draggable","connectToSortable",{start:function(event,ui){var inst=$(this).data("ui-draggable"),o=inst.options,uiSortable=$.extend({},ui,{item:inst.element});inst.sortables=[];$(o.connectToSortable).each(function(){var sortable=$.data(this,"ui-sortable");if(sortable&&!sortable.options.disabled){inst.sortables.push({instance:sortable,shouldRevert:sortable.options.revert});sortable.refreshPositions();sortable._trigger("activate",event,uiSortable);}});},stop:function(event,ui){var inst=$(this).data("ui-draggable"),uiSortable=$.extend({},ui,{item:inst.element});$.each(inst.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;inst.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=this.shouldRevert;}
this.instance._mouseStop(event);this.instance.options.helper=this.instance.options._helper;if(inst.options.helper==="original"){this.instance.currentItem.css({top:"auto",left:"auto"});}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",event,uiSortable);}});},drag:function(event,ui){var inst=$(this).data("ui-draggable"),that=this;$.each(inst.sortables,function(){var innermostIntersecting=false,thisSortable=this;this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){innermostIntersecting=true;$.each(inst.sortables,function(){this.instance.positionAbs=inst.positionAbs;this.instance.helperProportions=inst.helperProportions;this.instance.offset.click=inst.offset.click;if(this!==thisSortable&&this.instance._intersectsWith(this.instance.containerCache)&&$.contains(thisSortable.instance.element[0],this.instance.element[0])){innermostIntersecting=false;}
return innermostIntersecting;});}
if(innermostIntersecting){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=$(that).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return ui.helper[0];};event.target=this.instance.currentItem[0];this.instance._mouseCapture(event,true);this.instance._mouseStart(event,true,true);this.instance.offset.click.top=inst.offset.click.top;this.instance.offset.click.left=inst.offset.click.left;this.instance.offset.parent.left-=inst.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=inst.offset.parent.top-this.instance.offset.parent.top;inst._trigger("toSortable",event);inst.dropped=this.instance.element;inst.currentItem=inst.element;this.instance.fromOutside=inst;}
if(this.instance.currentItem){this.instance._mouseDrag(event);}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",event,this.instance._uiHash(this.instance));this.instance._mouseStop(event,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove();}
inst._trigger("fromSortable",event);inst.dropped=false;}}});}});$.ui.plugin.add("draggable","cursor",{start:function(){var t=$("body"),o=$(this).data("ui-draggable").options;if(t.css("cursor")){o._cursor=t.css("cursor");}
t.css("cursor",o.cursor);},stop:function(){var o=$(this).data("ui-draggable").options;if(o._cursor){$("body").css("cursor",o._cursor);}}});$.ui.plugin.add("draggable","opacity",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("ui-draggable").options;if(t.css("opacity")){o._opacity=t.css("opacity");}
t.css("opacity",o.opacity);},stop:function(event,ui){var o=$(this).data("ui-draggable").options;if(o._opacity){$(ui.helper).css("opacity",o._opacity);}}});$.ui.plugin.add("draggable","scroll",{start:function(){var i=$(this).data("ui-draggable");if(i.scrollParent[0]!==document&&i.scrollParent[0].tagName!=="HTML"){i.overflowOffset=i.scrollParent.offset();}},drag:function(event){var i=$(this).data("ui-draggable"),o=i.options,scrolled=false;if(i.scrollParent[0]!==document&&i.scrollParent[0].tagName!=="HTML"){if(!o.axis||o.axis!=="x"){if((i.overflowOffset.top+i.scrollParent[0].offsetHeight)-event.pageY<o.scrollSensitivity){i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop+o.scrollSpeed;}else if(event.pageY-i.overflowOffset.top<o.scrollSensitivity){i.scrollParent[0].scrollTop=scrolled=i.scrollParent[0].scrollTop-o.scrollSpeed;}}
if(!o.axis||o.axis!=="y"){if((i.overflowOffset.left+i.scrollParent[0].offsetWidth)-event.pageX<o.scrollSensitivity){i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft+o.scrollSpeed;}else if(event.pageX-i.overflowOffset.left<o.scrollSensitivity){i.scrollParent[0].scrollLeft=scrolled=i.scrollParent[0].scrollLeft-o.scrollSpeed;}}}else{if(!o.axis||o.axis!=="x"){if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}}
if(!o.axis||o.axis!=="y"){if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(i,event);}}});$.ui.plugin.add("draggable","snap",{start:function(){var i=$(this).data("ui-draggable"),o=i.options;i.snapElements=[];$(o.snap.constructor!==String?(o.snap.items||":data(ui-draggable)"):o.snap).each(function(){var $t=$(this),$o=$t.offset();if(this!==i.element[0]){i.snapElements.push({item:this,width:$t.outerWidth(),height:$t.outerHeight(),top:$o.top,left:$o.left});}});},drag:function(event,ui){var ts,bs,ls,rs,l,r,t,b,i,first,inst=$(this).data("ui-draggable"),o=inst.options,d=o.snapTolerance,x1=ui.offset.left,x2=x1+inst.helperProportions.width,y1=ui.offset.top,y2=y1+inst.helperProportions.height;for(i=inst.snapElements.length-1;i>=0;i--){l=inst.snapElements[i].left;r=l+inst.snapElements[i].width;t=inst.snapElements[i].top;b=t+inst.snapElements[i].height;if(x2<l-d||x1>r+d||y2<t-d||y1>b+d||!$.contains(inst.snapElements[i].item.ownerDocument,inst.snapElements[i].item)){if(inst.snapElements[i].snapping){(inst.options.snap.release&&inst.options.snap.release.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=false;continue;}
if(o.snapMode!=="inner"){ts=Math.abs(t-y2)<=d;bs=Math.abs(b-y1)<=d;ls=Math.abs(l-x2)<=d;rs=Math.abs(r-x1)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t-inst.helperProportions.height,left:0}).top-inst.margins.top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b,left:0}).top-inst.margins.top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l-inst.helperProportions.width}).left-inst.margins.left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r}).left-inst.margins.left;}}
first=(ts||bs||ls||rs);if(o.snapMode!=="outer"){ts=Math.abs(t-y1)<=d;bs=Math.abs(b-y2)<=d;ls=Math.abs(l-x1)<=d;rs=Math.abs(r-x2)<=d;if(ts){ui.position.top=inst._convertPositionTo("relative",{top:t,left:0}).top-inst.margins.top;}
if(bs){ui.position.top=inst._convertPositionTo("relative",{top:b-inst.helperProportions.height,left:0}).top-inst.margins.top;}
if(ls){ui.position.left=inst._convertPositionTo("relative",{top:0,left:l}).left-inst.margins.left;}
if(rs){ui.position.left=inst._convertPositionTo("relative",{top:0,left:r-inst.helperProportions.width}).left-inst.margins.left;}}
if(!inst.snapElements[i].snapping&&(ts||bs||ls||rs||first)){(inst.options.snap.snap&&inst.options.snap.snap.call(inst.element,event,$.extend(inst._uiHash(),{snapItem:inst.snapElements[i].item})));}
inst.snapElements[i].snapping=(ts||bs||ls||rs||first);}}});$.ui.plugin.add("draggable","stack",{start:function(){var min,o=this.data("ui-draggable").options,group=$.makeArray($(o.stack)).sort(function(a,b){return(parseInt($(a).css("zIndex"),10)||0)-(parseInt($(b).css("zIndex"),10)||0);});if(!group.length){return;}
min=parseInt($(group[0]).css("zIndex"),10)||0;$(group).each(function(i){$(this).css("zIndex",min+i);});this.css("zIndex",(min+group.length));}});$.ui.plugin.add("draggable","zIndex",{start:function(event,ui){var t=$(ui.helper),o=$(this).data("ui-draggable").options;if(t.css("zIndex")){o._zIndex=t.css("zIndex");}
t.css("zIndex",o.zIndex);},stop:function(event,ui){var o=$(this).data("ui-draggable").options;if(o._zIndex){$(ui.helper).css("zIndex",o._zIndex);}}});})(jQuery);(function($,undefined){function isOverAxis(x,reference,size){return(x>reference)&&(x<(reference+size));}
$.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:false,addClasses:true,greedy:false,hoverClass:false,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var o=this.options,accept=o.accept;this.isover=false;this.isout=true;this.accept=$.isFunction(accept)?accept:function(d){return d.is(accept);};this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};$.ui.ddmanager.droppables[o.scope]=$.ui.ddmanager.droppables[o.scope]||[];$.ui.ddmanager.droppables[o.scope].push(this);(o.addClasses&&this.element.addClass("ui-droppable"));},_destroy:function(){var i=0,drop=$.ui.ddmanager.droppables[this.options.scope];for(;i<drop.length;i++){if(drop[i]===this){drop.splice(i,1);}}
this.element.removeClass("ui-droppable ui-droppable-disabled");},_setOption:function(key,value){if(key==="accept"){this.accept=$.isFunction(value)?value:function(d){return d.is(value);};}
$.Widget.prototype._setOption.apply(this,arguments);},_activate:function(event){var draggable=$.ui.ddmanager.current;if(this.options.activeClass){this.element.addClass(this.options.activeClass);}
if(draggable){this._trigger("activate",event,this.ui(draggable));}},_deactivate:function(event){var draggable=$.ui.ddmanager.current;if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}
if(draggable){this._trigger("deactivate",event,this.ui(draggable));}},_over:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.hoverClass){this.element.addClass(this.options.hoverClass);}
this._trigger("over",event,this.ui(draggable));}},_out:function(event){var draggable=$.ui.ddmanager.current;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}
this._trigger("out",event,this.ui(draggable));}},_drop:function(event,custom){var draggable=custom||$.ui.ddmanager.current,childrenIntersection=false;if(!draggable||(draggable.currentItem||draggable.element)[0]===this.element[0]){return false;}
this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var inst=$.data(this,"ui-droppable");if(inst.options.greedy&&!inst.options.disabled&&inst.options.scope===draggable.options.scope&&inst.accept.call(inst.element[0],(draggable.currentItem||draggable.element))&&$.ui.intersect(draggable,$.extend(inst,{offset:inst.element.offset()}),inst.options.tolerance)){childrenIntersection=true;return false;}});if(childrenIntersection){return false;}
if(this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){if(this.options.activeClass){this.element.removeClass(this.options.activeClass);}
if(this.options.hoverClass){this.element.removeClass(this.options.hoverClass);}
this._trigger("drop",event,this.ui(draggable));return this.element;}
return false;},ui:function(c){return{draggable:(c.currentItem||c.element),helper:c.helper,position:c.position,offset:c.positionAbs};}});$.ui.intersect=function(draggable,droppable,toleranceMode){if(!droppable.offset){return false;}
var draggableLeft,draggableTop,x1=(draggable.positionAbs||draggable.position.absolute).left,x2=x1+draggable.helperProportions.width,y1=(draggable.positionAbs||draggable.position.absolute).top,y2=y1+draggable.helperProportions.height,l=droppable.offset.left,r=l+droppable.proportions.width,t=droppable.offset.top,b=t+droppable.proportions.height;switch(toleranceMode){case"fit":return(l<=x1&&x2<=r&&t<=y1&&y2<=b);case"intersect":return(l<x1+(draggable.helperProportions.width/2)&&x2-(draggable.helperProportions.width/2)<r&&t<y1+(draggable.helperProportions.height/2)&&y2-(draggable.helperProportions.height/2)<b);case"pointer":draggableLeft=((draggable.positionAbs||draggable.position.absolute).left+(draggable.clickOffset||draggable.offset.click).left);draggableTop=((draggable.positionAbs||draggable.position.absolute).top+(draggable.clickOffset||draggable.offset.click).top);return isOverAxis(draggableTop,t,droppable.proportions.height)&&isOverAxis(draggableLeft,l,droppable.proportions.width);case"touch":return((y1>=t&&y1<=b)||(y2>=t&&y2<=b)||(y1<t&&y2>b))&&((x1>=l&&x1<=r)||(x2>=l&&x2<=r)||(x1<l&&x2>r));default:return false;}};$.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,event){var i,j,m=$.ui.ddmanager.droppables[t.options.scope]||[],type=event?event.type:null,list=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();droppablesLoop:for(i=0;i<m.length;i++){if(m[i].options.disabled||(t&&!m[i].accept.call(m[i].element[0],(t.currentItem||t.element)))){continue;}
for(j=0;j<list.length;j++){if(list[j]===m[i].element[0]){m[i].proportions.height=0;continue droppablesLoop;}}
m[i].visible=m[i].element.css("display")!=="none";if(!m[i].visible){continue;}
if(type==="mousedown"){m[i]._activate.call(m[i],event);}
m[i].offset=m[i].element.offset();m[i].proportions={width:m[i].element[0].offsetWidth,height:m[i].element[0].offsetHeight};}},drop:function(draggable,event){var dropped=false;$.each(($.ui.ddmanager.droppables[draggable.options.scope]||[]).slice(),function(){if(!this.options){return;}
if(!this.options.disabled&&this.visible&&$.ui.intersect(draggable,this,this.options.tolerance)){dropped=this._drop.call(this,event)||dropped;}
if(!this.options.disabled&&this.visible&&this.accept.call(this.element[0],(draggable.currentItem||draggable.element))){this.isout=true;this.isover=false;this._deactivate.call(this,event);}});return dropped;},dragStart:function(draggable,event){draggable.element.parentsUntil("body").bind("scroll.droppable",function(){if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}});},drag:function(draggable,event){if(draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}
$.each($.ui.ddmanager.droppables[draggable.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible){return;}
var parentInstance,scope,parent,intersects=$.ui.intersect(draggable,this,this.options.tolerance),c=!intersects&&this.isover?"isout":(intersects&&!this.isover?"isover":null);if(!c){return;}
if(this.options.greedy){scope=this.options.scope;parent=this.element.parents(":data(ui-droppable)").filter(function(){return $.data(this,"ui-droppable").options.scope===scope;});if(parent.length){parentInstance=$.data(parent[0],"ui-droppable");parentInstance.greedyChild=(c==="isover");}}
if(parentInstance&&c==="isover"){parentInstance.isover=false;parentInstance.isout=true;parentInstance._out.call(parentInstance,event);}
this[c]=true;this[c==="isout"?"isover":"isout"]=false;this[c==="isover"?"_over":"_out"].call(this,event);if(parentInstance&&c==="isout"){parentInstance.isout=false;parentInstance.isover=true;parentInstance._over.call(parentInstance,event);}});},dragStop:function(draggable,event){draggable.element.parentsUntil("body").unbind("scroll.droppable");if(!draggable.options.refreshPositions){$.ui.ddmanager.prepareOffsets(draggable,event);}}};})(jQuery);(function($,undefined){function num(v){return parseInt(v,10)||0;}
function isNumber(value){return!isNaN(parseInt(value,10));}
$.widget("ui.resizable",$.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var n,i,handle,axis,hname,that=this,o=this.options;this.element.addClass("ui-resizable");$.extend(this,{_aspectRatio:!!(o.aspectRatio),aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap($("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize();}
this.handles=o.handles||(!$(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor===String){if(this.handles==="all"){this.handles="n,e,s,w,se,sw,ne,nw";}
n=this.handles.split(",");this.handles={};for(i=0;i<n.length;i++){handle=$.trim(n[i]);hname="ui-resizable-"+handle;axis=$("<div class='ui-resizable-handle "+hname+"'></div>");axis.css({zIndex:o.zIndex});if("se"===handle){axis.addClass("ui-icon ui-icon-gripsmall-diagonal-se");}
this.handles[handle]=".ui-resizable-"+handle;this.element.append(axis);}}
this._renderAxis=function(target){var i,axis,padPos,padWrapper;target=target||this.element;for(i in this.handles){if(this.handles[i].constructor===String){this.handles[i]=$(this.handles[i],this.element).show();}
if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){axis=$(this.handles[i],this.element);padWrapper=/sw|ne|nw|se|n|s/.test(i)?axis.outerHeight():axis.outerWidth();padPos=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join("");target.css(padPos,padWrapper);this._proportionallyResize();}
if(!$(this.handles[i]).length){continue;}}};this._renderAxis(this.element);this._handles=$(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!that.resizing){if(this.className){axis=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i);}
that.axis=axis&&axis[1]?axis[1]:"se";}});if(o.autoHide){this._handles.hide();$(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(o.disabled){return;}
$(this).removeClass("ui-resizable-autohide");that._handles.show();}).mouseleave(function(){if(o.disabled){return;}
if(!that.resizing){$(this).addClass("ui-resizable-autohide");that._handles.hide();}});}
this._mouseInit();},_destroy:function(){this._mouseDestroy();var wrapper,_destroy=function(exp){$(exp).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove();};if(this.elementIsWrapper){_destroy(this.element);wrapper=this.element;this.originalElement.css({position:wrapper.css("position"),width:wrapper.outerWidth(),height:wrapper.outerHeight(),top:wrapper.css("top"),left:wrapper.css("left")}).insertAfter(wrapper);wrapper.remove();}
this.originalElement.css("resize",this.originalResizeStyle);_destroy(this.originalElement);return this;},_mouseCapture:function(event){var i,handle,capture=false;for(i in this.handles){handle=$(this.handles[i])[0];if(handle===event.target||$.contains(handle,event.target)){capture=true;}}
return!this.options.disabled&&capture;},_mouseStart:function(event){var curleft,curtop,cursor,o=this.options,iniPos=this.element.position(),el=this.element;this.resizing=true;if((/absolute/).test(el.css("position"))){el.css({position:"absolute",top:el.css("top"),left:el.css("left")});}else if(el.is(".ui-draggable")){el.css({position:"absolute",top:iniPos.top,left:iniPos.left});}
this._renderProxy();curleft=num(this.helper.css("left"));curtop=num(this.helper.css("top"));if(o.containment){curleft+=$(o.containment).scrollLeft()||0;curtop+=$(o.containment).scrollTop()||0;}
this.offset=this.helper.offset();this.position={left:curleft,top:curtop};this.size=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.originalSize=this._helper?{width:el.outerWidth(),height:el.outerHeight()}:{width:el.width(),height:el.height()};this.originalPosition={left:curleft,top:curtop};this.sizeDiff={width:el.outerWidth()-el.width(),height:el.outerHeight()-el.height()};this.originalMousePosition={left:event.pageX,top:event.pageY};this.aspectRatio=(typeof o.aspectRatio==="number")?o.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);cursor=$(".ui-resizable-"+this.axis).css("cursor");$("body").css("cursor",cursor==="auto"?this.axis+"-resize":cursor);el.addClass("ui-resizable-resizing");this._propagate("start",event);return true;},_mouseDrag:function(event){var data,el=this.helper,props={},smp=this.originalMousePosition,a=this.axis,prevTop=this.position.top,prevLeft=this.position.left,prevWidth=this.size.width,prevHeight=this.size.height,dx=(event.pageX-smp.left)||0,dy=(event.pageY-smp.top)||0,trigger=this._change[a];if(!trigger){return false;}
data=trigger.apply(this,[event,dx,dy]);this._updateVirtualBoundaries(event.shiftKey);if(this._aspectRatio||event.shiftKey){data=this._updateRatio(data,event);}
data=this._respectSize(data,event);this._updateCache(data);this._propagate("resize",event);if(this.position.top!==prevTop){props.top=this.position.top+"px";}
if(this.position.left!==prevLeft){props.left=this.position.left+"px";}
if(this.size.width!==prevWidth){props.width=this.size.width+"px";}
if(this.size.height!==prevHeight){props.height=this.size.height+"px";}
el.css(props);if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize();}
if(!$.isEmptyObject(props)){this._trigger("resize",event,this.ui());}
return false;},_mouseStop:function(event){this.resizing=false;var pr,ista,soffseth,soffsetw,s,left,top,o=this.options,that=this;if(this._helper){pr=this._proportionallyResizeElements;ista=pr.length&&(/textarea/i).test(pr[0].nodeName);soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:that.sizeDiff.height;soffsetw=ista?0:that.sizeDiff.width;s={width:(that.helper.width()-soffsetw),height:(that.helper.height()-soffseth)};left=(parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left))||null;top=(parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top))||null;if(!o.animate){this.element.css($.extend(s,{top:top,left:left}));}
that.helper.height(that.size.height);that.helper.width(that.size.width);if(this._helper&&!o.animate){this._proportionallyResize();}}
$("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",event);if(this._helper){this.helper.remove();}
return false;},_updateVirtualBoundaries:function(forceAspectRatio){var pMinWidth,pMaxWidth,pMinHeight,pMaxHeight,b,o=this.options;b={minWidth:isNumber(o.minWidth)?o.minWidth:0,maxWidth:isNumber(o.maxWidth)?o.maxWidth:Infinity,minHeight:isNumber(o.minHeight)?o.minHeight:0,maxHeight:isNumber(o.maxHeight)?o.maxHeight:Infinity};if(this._aspectRatio||forceAspectRatio){pMinWidth=b.minHeight*this.aspectRatio;pMinHeight=b.minWidth/this.aspectRatio;pMaxWidth=b.maxHeight*this.aspectRatio;pMaxHeight=b.maxWidth/this.aspectRatio;if(pMinWidth>b.minWidth){b.minWidth=pMinWidth;}
if(pMinHeight>b.minHeight){b.minHeight=pMinHeight;}
if(pMaxWidth<b.maxWidth){b.maxWidth=pMaxWidth;}
if(pMaxHeight<b.maxHeight){b.maxHeight=pMaxHeight;}}
this._vBoundaries=b;},_updateCache:function(data){this.offset=this.helper.offset();if(isNumber(data.left)){this.position.left=data.left;}
if(isNumber(data.top)){this.position.top=data.top;}
if(isNumber(data.height)){this.size.height=data.height;}
if(isNumber(data.width)){this.size.width=data.width;}},_updateRatio:function(data){var cpos=this.position,csize=this.size,a=this.axis;if(isNumber(data.height)){data.width=(data.height*this.aspectRatio);}else if(isNumber(data.width)){data.height=(data.width/this.aspectRatio);}
if(a==="sw"){data.left=cpos.left+(csize.width-data.width);data.top=null;}
if(a==="nw"){data.top=cpos.top+(csize.height-data.height);data.left=cpos.left+(csize.width-data.width);}
return data;},_respectSize:function(data){var o=this._vBoundaries,a=this.axis,ismaxw=isNumber(data.width)&&o.maxWidth&&(o.maxWidth<data.width),ismaxh=isNumber(data.height)&&o.maxHeight&&(o.maxHeight<data.height),isminw=isNumber(data.width)&&o.minWidth&&(o.minWidth>data.width),isminh=isNumber(data.height)&&o.minHeight&&(o.minHeight>data.height),dw=this.originalPosition.left+this.originalSize.width,dh=this.position.top+this.size.height,cw=/sw|nw|w/.test(a),ch=/nw|ne|n/.test(a);if(isminw){data.width=o.minWidth;}
if(isminh){data.height=o.minHeight;}
if(ismaxw){data.width=o.maxWidth;}
if(ismaxh){data.height=o.maxHeight;}
if(isminw&&cw){data.left=dw-o.minWidth;}
if(ismaxw&&cw){data.left=dw-o.maxWidth;}
if(isminh&&ch){data.top=dh-o.minHeight;}
if(ismaxh&&ch){data.top=dh-o.maxHeight;}
if(!data.width&&!data.height&&!data.left&&data.top){data.top=null;}else if(!data.width&&!data.height&&!data.top&&data.left){data.left=null;}
return data;},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return;}
var i,j,borders,paddings,prel,element=this.helper||this.element;for(i=0;i<this._proportionallyResizeElements.length;i++){prel=this._proportionallyResizeElements[i];if(!this.borderDif){this.borderDif=[];borders=[prel.css("borderTopWidth"),prel.css("borderRightWidth"),prel.css("borderBottomWidth"),prel.css("borderLeftWidth")];paddings=[prel.css("paddingTop"),prel.css("paddingRight"),prel.css("paddingBottom"),prel.css("paddingLeft")];for(j=0;j<borders.length;j++){this.borderDif[j]=(parseInt(borders[j],10)||0)+(parseInt(paddings[j],10)||0);}}
prel.css({height:(element.height()-this.borderDif[0]-this.borderDif[2])||0,width:(element.width()-this.borderDif[1]-this.borderDif[3])||0});}},_renderProxy:function(){var el=this.element,o=this.options;this.elementOffset=el.offset();if(this._helper){this.helper=this.helper||$("<div style='overflow:hidden;'></div>");this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex});this.helper.appendTo("body").disableSelection();}else{this.helper=this.element;}},_change:{e:function(event,dx){return{width:this.originalSize.width+dx};},w:function(event,dx){var cs=this.originalSize,sp=this.originalPosition;return{left:sp.left+dx,width:cs.width-dx};},n:function(event,dx,dy){var cs=this.originalSize,sp=this.originalPosition;return{top:sp.top+dy,height:cs.height-dy};},s:function(event,dx,dy){return{height:this.originalSize.height+dy};},se:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},sw:function(event,dx,dy){return $.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));},ne:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[event,dx,dy]));},nw:function(event,dx,dy){return $.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[event,dx,dy]));}},_propagate:function(n,event){$.ui.plugin.call(this,n,[event,this.ui()]);(n!=="resize"&&this._trigger(n,event,this.ui()));},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition};}});$.ui.plugin.add("resizable","animate",{stop:function(event){var that=$(this).data("ui-resizable"),o=that.options,pr=that._proportionallyResizeElements,ista=pr.length&&(/textarea/i).test(pr[0].nodeName),soffseth=ista&&$.ui.hasScroll(pr[0],"left")?0:that.sizeDiff.height,soffsetw=ista?0:that.sizeDiff.width,style={width:(that.size.width-soffsetw),height:(that.size.height-soffseth)},left=(parseInt(that.element.css("left"),10)+(that.position.left-that.originalPosition.left))||null,top=(parseInt(that.element.css("top"),10)+(that.position.top-that.originalPosition.top))||null;that.element.animate($.extend(style,top&&left?{top:top,left:left}:{}),{duration:o.animateDuration,easing:o.animateEasing,step:function(){var data={width:parseInt(that.element.css("width"),10),height:parseInt(that.element.css("height"),10),top:parseInt(that.element.css("top"),10),left:parseInt(that.element.css("left"),10)};if(pr&&pr.length){$(pr[0]).css({width:data.width,height:data.height});}
that._updateCache(data);that._propagate("resize",event);}});}});$.ui.plugin.add("resizable","containment",{start:function(){var element,p,co,ch,cw,width,height,that=$(this).data("ui-resizable"),o=that.options,el=that.element,oc=o.containment,ce=(oc instanceof $)?oc.get(0):(/parent/.test(oc))?el.parent().get(0):oc;if(!ce){return;}
that.containerElement=$(ce);if(/document/.test(oc)||oc===document){that.containerOffset={left:0,top:0};that.containerPosition={left:0,top:0};that.parentData={element:$(document),left:0,top:0,width:$(document).width(),height:$(document).height()||document.body.parentNode.scrollHeight};}
else{element=$(ce);p=[];$(["Top","Right","Left","Bottom"]).each(function(i,name){p[i]=num(element.css("padding"+name));});that.containerOffset=element.offset();that.containerPosition=element.position();that.containerSize={height:(element.innerHeight()-p[3]),width:(element.innerWidth()-p[1])};co=that.containerOffset;ch=that.containerSize.height;cw=that.containerSize.width;width=($.ui.hasScroll(ce,"left")?ce.scrollWidth:cw);height=($.ui.hasScroll(ce)?ce.scrollHeight:ch);that.parentData={element:ce,left:co.left,top:co.top,width:width,height:height};}},resize:function(event){var woset,hoset,isParent,isOffsetRelative,that=$(this).data("ui-resizable"),o=that.options,co=that.containerOffset,cp=that.position,pRatio=that._aspectRatio||event.shiftKey,cop={top:0,left:0},ce=that.containerElement;if(ce[0]!==document&&(/static/).test(ce.css("position"))){cop=co;}
if(cp.left<(that._helper?co.left:0)){that.size.width=that.size.width+(that._helper?(that.position.left-co.left):(that.position.left-cop.left));if(pRatio){that.size.height=that.size.width/that.aspectRatio;}
that.position.left=o.helper?co.left:0;}
if(cp.top<(that._helper?co.top:0)){that.size.height=that.size.height+(that._helper?(that.position.top-co.top):that.position.top);if(pRatio){that.size.width=that.size.height*that.aspectRatio;}
that.position.top=that._helper?co.top:0;}
that.offset.left=that.parentData.left+that.position.left;that.offset.top=that.parentData.top+that.position.top;woset=Math.abs((that._helper?that.offset.left-cop.left:(that.offset.left-cop.left))+that.sizeDiff.width);hoset=Math.abs((that._helper?that.offset.top-cop.top:(that.offset.top-co.top))+that.sizeDiff.height);isParent=that.containerElement.get(0)===that.element.parent().get(0);isOffsetRelative=/relative|absolute/.test(that.containerElement.css("position"));if(isParent&&isOffsetRelative){woset-=that.parentData.left;}
if(woset+that.size.width>=that.parentData.width){that.size.width=that.parentData.width-woset;if(pRatio){that.size.height=that.size.width/that.aspectRatio;}}
if(hoset+that.size.height>=that.parentData.height){that.size.height=that.parentData.height-hoset;if(pRatio){that.size.width=that.size.height*that.aspectRatio;}}},stop:function(){var that=$(this).data("ui-resizable"),o=that.options,co=that.containerOffset,cop=that.containerPosition,ce=that.containerElement,helper=$(that.helper),ho=helper.offset(),w=helper.outerWidth()-that.sizeDiff.width,h=helper.outerHeight()-that.sizeDiff.height;if(that._helper&&!o.animate&&(/relative/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}
if(that._helper&&!o.animate&&(/static/).test(ce.css("position"))){$(this).css({left:ho.left-cop.left-co.left,width:w,height:h});}}});$.ui.plugin.add("resizable","alsoResize",{start:function(){var that=$(this).data("ui-resizable"),o=that.options,_store=function(exp){$(exp).each(function(){var el=$(this);el.data("ui-resizable-alsoresize",{width:parseInt(el.width(),10),height:parseInt(el.height(),10),left:parseInt(el.css("left"),10),top:parseInt(el.css("top"),10)});});};if(typeof(o.alsoResize)==="object"&&!o.alsoResize.parentNode){if(o.alsoResize.length){o.alsoResize=o.alsoResize[0];_store(o.alsoResize);}
else{$.each(o.alsoResize,function(exp){_store(exp);});}}else{_store(o.alsoResize);}},resize:function(event,ui){var that=$(this).data("ui-resizable"),o=that.options,os=that.originalSize,op=that.originalPosition,delta={height:(that.size.height-os.height)||0,width:(that.size.width-os.width)||0,top:(that.position.top-op.top)||0,left:(that.position.left-op.left)||0},_alsoResize=function(exp,c){$(exp).each(function(){var el=$(this),start=$(this).data("ui-resizable-alsoresize"),style={},css=c&&c.length?c:el.parents(ui.originalElement[0]).length?["width","height"]:["width","height","top","left"];$.each(css,function(i,prop){var sum=(start[prop]||0)+(delta[prop]||0);if(sum&&sum>=0){style[prop]=sum||null;}});el.css(style);});};if(typeof(o.alsoResize)==="object"&&!o.alsoResize.nodeType){$.each(o.alsoResize,function(exp,c){_alsoResize(exp,c);});}else{_alsoResize(o.alsoResize);}},stop:function(){$(this).removeData("resizable-alsoresize");}});$.ui.plugin.add("resizable","ghost",{start:function(){var that=$(this).data("ui-resizable"),o=that.options,cs=that.size;that.ghost=that.originalElement.clone();that.ghost.css({opacity:0.25,display:"block",position:"relative",height:cs.height,width:cs.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof o.ghost==="string"?o.ghost:"");that.ghost.appendTo(that.helper);},resize:function(){var that=$(this).data("ui-resizable");if(that.ghost){that.ghost.css({position:"relative",height:that.size.height,width:that.size.width});}},stop:function(){var that=$(this).data("ui-resizable");if(that.ghost&&that.helper){that.helper.get(0).removeChild(that.ghost.get(0));}}});$.ui.plugin.add("resizable","grid",{resize:function(){var that=$(this).data("ui-resizable"),o=that.options,cs=that.size,os=that.originalSize,op=that.originalPosition,a=that.axis,grid=typeof o.grid==="number"?[o.grid,o.grid]:o.grid,gridX=(grid[0]||1),gridY=(grid[1]||1),ox=Math.round((cs.width-os.width)/gridX)*gridX,oy=Math.round((cs.height-os.height)/gridY)*gridY,newWidth=os.width+ox,newHeight=os.height+oy,isMaxWidth=o.maxWidth&&(o.maxWidth<newWidth),isMaxHeight=o.maxHeight&&(o.maxHeight<newHeight),isMinWidth=o.minWidth&&(o.minWidth>newWidth),isMinHeight=o.minHeight&&(o.minHeight>newHeight);o.grid=grid;if(isMinWidth){newWidth=newWidth+gridX;}
if(isMinHeight){newHeight=newHeight+gridY;}
if(isMaxWidth){newWidth=newWidth-gridX;}
if(isMaxHeight){newHeight=newHeight-gridY;}
if(/^(se|s|e)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;}else if(/^(ne)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy;}else if(/^(sw)$/.test(a)){that.size.width=newWidth;that.size.height=newHeight;that.position.left=op.left-ox;}else{that.size.width=newWidth;that.size.height=newHeight;that.position.top=op.top-oy;that.position.left=op.left-ox;}}});})(jQuery);(function($,undefined){$.widget("ui.selectable",$.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:true,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var selectees,that=this;this.element.addClass("ui-selectable");this.dragged=false;this.refresh=function(){selectees=$(that.options.filter,that.element[0]);selectees.addClass("ui-selectee");selectees.each(function(){var $this=$(this),pos=$this.offset();$.data(this,"selectable-item",{element:this,$element:$this,left:pos.left,top:pos.top,right:pos.left+$this.outerWidth(),bottom:pos.top+$this.outerHeight(),startselected:false,selected:$this.hasClass("ui-selected"),selecting:$this.hasClass("ui-selecting"),unselecting:$this.hasClass("ui-unselecting")});});};this.refresh();this.selectees=selectees.addClass("ui-selectee");this._mouseInit();this.helper=$("<div class='ui-selectable-helper'></div>");},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item");this.element.removeClass("ui-selectable ui-selectable-disabled");this._mouseDestroy();},_mouseStart:function(event){var that=this,options=this.options;this.opos=[event.pageX,event.pageY];if(this.options.disabled){return;}
this.selectees=$(options.filter,this.element[0]);this._trigger("start",event);$(options.appendTo).append(this.helper);this.helper.css({"left":event.pageX,"top":event.pageY,"width":0,"height":0});if(options.autoRefresh){this.refresh();}
this.selectees.filter(".ui-selected").each(function(){var selectee=$.data(this,"selectable-item");selectee.startselected=true;if(!event.metaKey&&!event.ctrlKey){selectee.$element.removeClass("ui-selected");selectee.selected=false;selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element});}});$(event.target).parents().addBack().each(function(){var doSelect,selectee=$.data(this,"selectable-item");if(selectee){doSelect=(!event.metaKey&&!event.ctrlKey)||!selectee.$element.hasClass("ui-selected");selectee.$element.removeClass(doSelect?"ui-unselecting":"ui-selected").addClass(doSelect?"ui-selecting":"ui-unselecting");selectee.unselecting=!doSelect;selectee.selecting=doSelect;selectee.selected=doSelect;if(doSelect){that._trigger("selecting",event,{selecting:selectee.element});}else{that._trigger("unselecting",event,{unselecting:selectee.element});}
return false;}});},_mouseDrag:function(event){this.dragged=true;if(this.options.disabled){return;}
var tmp,that=this,options=this.options,x1=this.opos[0],y1=this.opos[1],x2=event.pageX,y2=event.pageY;if(x1>x2){tmp=x2;x2=x1;x1=tmp;}
if(y1>y2){tmp=y2;y2=y1;y1=tmp;}
this.helper.css({left:x1,top:y1,width:x2-x1,height:y2-y1});this.selectees.each(function(){var selectee=$.data(this,"selectable-item"),hit=false;if(!selectee||selectee.element===that.element[0]){return;}
if(options.tolerance==="touch"){hit=(!(selectee.left>x2||selectee.right<x1||selectee.top>y2||selectee.bottom<y1));}else if(options.tolerance==="fit"){hit=(selectee.left>x1&&selectee.right<x2&&selectee.top>y1&&selectee.bottom<y2);}
if(hit){if(selectee.selected){selectee.$element.removeClass("ui-selected");selectee.selected=false;}
if(selectee.unselecting){selectee.$element.removeClass("ui-unselecting");selectee.unselecting=false;}
if(!selectee.selecting){selectee.$element.addClass("ui-selecting");selectee.selecting=true;that._trigger("selecting",event,{selecting:selectee.element});}}else{if(selectee.selecting){if((event.metaKey||event.ctrlKey)&&selectee.startselected){selectee.$element.removeClass("ui-selecting");selectee.selecting=false;selectee.$element.addClass("ui-selected");selectee.selected=true;}else{selectee.$element.removeClass("ui-selecting");selectee.selecting=false;if(selectee.startselected){selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;}
that._trigger("unselecting",event,{unselecting:selectee.element});}}
if(selectee.selected){if(!event.metaKey&&!event.ctrlKey&&!selectee.startselected){selectee.$element.removeClass("ui-selected");selectee.selected=false;selectee.$element.addClass("ui-unselecting");selectee.unselecting=true;that._trigger("unselecting",event,{unselecting:selectee.element});}}}});return false;},_mouseStop:function(event){var that=this;this.dragged=false;$(".ui-unselecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-unselecting");selectee.unselecting=false;selectee.startselected=false;that._trigger("unselected",event,{unselected:selectee.element});});$(".ui-selecting",this.element[0]).each(function(){var selectee=$.data(this,"selectable-item");selectee.$element.removeClass("ui-selecting").addClass("ui-selected");selectee.selecting=false;selectee.selected=true;selectee.startselected=true;that._trigger("selected",event,{selected:selectee.element});});this._trigger("stop",event);this.helper.remove();return false;}});})(jQuery);(function($,undefined){function isOverAxis(x,reference,size){return(x>reference)&&(x<(reference+size));}
function isFloating(item){return(/left|right/).test(item.css("float"))||(/inline|table-cell/).test(item.css("display"));}
$.widget("ui.sortable",$.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var o=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?o.axis==="x"||isFloating(this.items[0].item):false;this.offset=this.element.offset();this._mouseInit();this.ready=true;},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var i=this.items.length-1;i>=0;i--){this.items[i].item.removeData(this.widgetName+"-item");}
return this;},_setOption:function(key,value){if(key==="disabled"){this.options[key]=value;this.widget().toggleClass("ui-sortable-disabled",!!value);}else{$.Widget.prototype._setOption.apply(this,arguments);}},_mouseCapture:function(event,overrideHandle){var currentItem=null,validHandle=false,that=this;if(this.reverting){return false;}
if(this.options.disabled||this.options.type==="static"){return false;}
this._refreshItems(event);$(event.target).parents().each(function(){if($.data(this,that.widgetName+"-item")===that){currentItem=$(this);return false;}});if($.data(event.target,that.widgetName+"-item")===that){currentItem=$(event.target);}
if(!currentItem){return false;}
if(this.options.handle&&!overrideHandle){$(this.options.handle,currentItem).find("*").addBack().each(function(){if(this===event.target){validHandle=true;}});if(!validHandle){return false;}}
this.currentItem=currentItem;this._removeCurrentsFromItems();return true;},_mouseStart:function(event,overrideHandle,noActivation){var i,body,o=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(event);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};$.extend(this.offset,{click:{left:event.pageX-this.offset.left,top:event.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(event);this.originalPageX=event.pageX;this.originalPageY=event.pageY;(o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!==this.currentItem[0]){this.currentItem.hide();}
this._createPlaceholder();if(o.containment){this._setContainment();}
if(o.cursor&&o.cursor!=="auto"){body=this.document.find("body");this.storedCursor=body.css("cursor");body.css("cursor",o.cursor);this.storedStylesheet=$("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(body);}
if(o.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity");}
this.helper.css("opacity",o.opacity);}
if(o.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex");}
this.helper.css("zIndex",o.zIndex);}
if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){this.overflowOffset=this.scrollParent.offset();}
this._trigger("start",event,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions();}
if(!noActivation){for(i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("activate",event,this._uiHash(this));}}
if($.ui.ddmanager){$.ui.ddmanager.current=this;}
if($.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}
this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(event);return true;},_mouseDrag:function(event){var i,item,itemElement,intersection,o=this.options,scrolled=false;this.position=this._generatePosition(event);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs;}
if(this.options.scroll){if(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-event.pageY<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop+o.scrollSpeed;}else if(event.pageY-this.overflowOffset.top<o.scrollSensitivity){this.scrollParent[0].scrollTop=scrolled=this.scrollParent[0].scrollTop-o.scrollSpeed;}
if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-event.pageX<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft+o.scrollSpeed;}else if(event.pageX-this.overflowOffset.left<o.scrollSensitivity){this.scrollParent[0].scrollLeft=scrolled=this.scrollParent[0].scrollLeft-o.scrollSpeed;}}else{if(event.pageY-$(document).scrollTop()<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()-o.scrollSpeed);}else if($(window).height()-(event.pageY-$(document).scrollTop())<o.scrollSensitivity){scrolled=$(document).scrollTop($(document).scrollTop()+o.scrollSpeed);}
if(event.pageX-$(document).scrollLeft()<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()-o.scrollSpeed);}else if($(window).width()-(event.pageX-$(document).scrollLeft())<o.scrollSensitivity){scrolled=$(document).scrollLeft($(document).scrollLeft()+o.scrollSpeed);}}
if(scrolled!==false&&$.ui.ddmanager&&!o.dropBehaviour){$.ui.ddmanager.prepareOffsets(this,event);}}
this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y"){this.helper[0].style.left=this.position.left+"px";}
if(!this.options.axis||this.options.axis!=="x"){this.helper[0].style.top=this.position.top+"px";}
for(i=this.items.length-1;i>=0;i--){item=this.items[i];itemElement=item.item[0];intersection=this._intersectsWithPointer(item);if(!intersection){continue;}
if(item.instance!==this.currentContainer){continue;}
if(itemElement!==this.currentItem[0]&&this.placeholder[intersection===1?"next":"prev"]()[0]!==itemElement&&!$.contains(this.placeholder[0],itemElement)&&(this.options.type==="semi-dynamic"?!$.contains(this.element[0],itemElement):true)){this.direction=intersection===1?"down":"up";if(this.options.tolerance==="pointer"||this._intersectsWithSides(item)){this._rearrange(event,item);}else{break;}
this._trigger("change",event,this._uiHash());break;}}
this._contactContainers(event);if($.ui.ddmanager){$.ui.ddmanager.drag(this,event);}
this._trigger("sort",event,this._uiHash());this.lastPositionAbs=this.positionAbs;return false;},_mouseStop:function(event,noPropagation){if(!event){return;}
if($.ui.ddmanager&&!this.options.dropBehaviour){$.ui.ddmanager.drop(this,event);}
if(this.options.revert){var that=this,cur=this.placeholder.offset(),axis=this.options.axis,animation={};if(!axis||axis==="x"){animation.left=cur.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft);}
if(!axis||axis==="y"){animation.top=cur.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop);}
this.reverting=true;$(this.helper).animate(animation,parseInt(this.options.revert,10)||500,function(){that._clear(event);});}else{this._clear(event,noPropagation);}
return false;},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper==="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}
for(var i=this.containers.length-1;i>=0;i--){this.containers[i]._trigger("deactivate",null,this._uiHash(this));if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",null,this._uiHash(this));this.containers[i].containerCache.over=0;}}}
if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0]);}
if(this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove();}
$.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){$(this.domPosition.prev).after(this.currentItem);}else{$(this.domPosition.parent).prepend(this.currentItem);}}
return this;},serialize:function(o){var items=this._getItemsAsjQuery(o&&o.connected),str=[];o=o||{};$(items).each(function(){var res=($(o.item||this).attr(o.attribute||"id")||"").match(o.expression||(/(.+)[\-=_](.+)/));if(res){str.push((o.key||res[1]+"[]")+"="+(o.key&&o.expression?res[1]:res[2]));}});if(!str.length&&o.key){str.push(o.key+"=");}
return str.join("&");},toArray:function(o){var items=this._getItemsAsjQuery(o&&o.connected),ret=[];o=o||{};items.each(function(){ret.push($(o.item||this).attr(o.attribute||"id")||"");});return ret;},_intersectsWith:function(item){var x1=this.positionAbs.left,x2=x1+this.helperProportions.width,y1=this.positionAbs.top,y2=y1+this.helperProportions.height,l=item.left,r=l+item.width,t=item.top,b=t+item.height,dyClick=this.offset.click.top,dxClick=this.offset.click.left,isOverElementHeight=(this.options.axis==="x")||((y1+dyClick)>t&&(y1+dyClick)<b),isOverElementWidth=(this.options.axis==="y")||((x1+dxClick)>l&&(x1+dxClick)<r),isOverElement=isOverElementHeight&&isOverElementWidth;if(this.options.tolerance==="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>item[this.floating?"width":"height"])){return isOverElement;}else{return(l<x1+(this.helperProportions.width/2)&&x2-(this.helperProportions.width/2)<r&&t<y1+(this.helperProportions.height/2)&&y2-(this.helperProportions.height/2)<b);}},_intersectsWithPointer:function(item){var isOverElementHeight=(this.options.axis==="x")||isOverAxis(this.positionAbs.top+this.offset.click.top,item.top,item.height),isOverElementWidth=(this.options.axis==="y")||isOverAxis(this.positionAbs.left+this.offset.click.left,item.left,item.width),isOverElement=isOverElementHeight&&isOverElementWidth,verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(!isOverElement){return false;}
return this.floating?(((horizontalDirection&&horizontalDirection==="right")||verticalDirection==="down")?2:1):(verticalDirection&&(verticalDirection==="down"?2:1));},_intersectsWithSides:function(item){var isOverBottomHalf=isOverAxis(this.positionAbs.top+this.offset.click.top,item.top+(item.height/2),item.height),isOverRightHalf=isOverAxis(this.positionAbs.left+this.offset.click.left,item.left+(item.width/2),item.width),verticalDirection=this._getDragVerticalDirection(),horizontalDirection=this._getDragHorizontalDirection();if(this.floating&&horizontalDirection){return((horizontalDirection==="right"&&isOverRightHalf)||(horizontalDirection==="left"&&!isOverRightHalf));}else{return verticalDirection&&((verticalDirection==="down"&&isOverBottomHalf)||(verticalDirection==="up"&&!isOverBottomHalf));}},_getDragVerticalDirection:function(){var delta=this.positionAbs.top-this.lastPositionAbs.top;return delta!==0&&(delta>0?"down":"up");},_getDragHorizontalDirection:function(){var delta=this.positionAbs.left-this.lastPositionAbs.left;return delta!==0&&(delta>0?"right":"left");},refresh:function(event){this._refreshItems(event);this.refreshPositions();return this;},_connectWith:function(){var options=this.options;return options.connectWith.constructor===String?[options.connectWith]:options.connectWith;},_getItemsAsjQuery:function(connected){var i,j,cur,inst,items=[],queries=[],connectWith=this._connectWith();if(connectWith&&connected){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element):$(inst.options.items,inst.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),inst]);}}}}
queries.push([$.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):$(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(i=queries.length-1;i>=0;i--){queries[i][0].each(function(){items.push(this);});}
return $(items);},_removeCurrentsFromItems:function(){var list=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=$.grep(this.items,function(item){for(var j=0;j<list.length;j++){if(list[j]===item.item[0]){return false;}}
return true;});},_refreshItems:function(event){this.items=[];this.containers=[this];var i,j,cur,inst,targetData,_queries,item,queriesLength,items=this.items,queries=[[$.isFunction(this.options.items)?this.options.items.call(this.element[0],event,{item:this.currentItem}):$(this.options.items,this.element),this]],connectWith=this._connectWith();if(connectWith&&this.ready){for(i=connectWith.length-1;i>=0;i--){cur=$(connectWith[i]);for(j=cur.length-1;j>=0;j--){inst=$.data(cur[j],this.widgetFullName);if(inst&&inst!==this&&!inst.options.disabled){queries.push([$.isFunction(inst.options.items)?inst.options.items.call(inst.element[0],event,{item:this.currentItem}):$(inst.options.items,inst.element),inst]);this.containers.push(inst);}}}}
for(i=queries.length-1;i>=0;i--){targetData=queries[i][1];_queries=queries[i][0];for(j=0,queriesLength=_queries.length;j<queriesLength;j++){item=$(_queries[j]);item.data(this.widgetName+"-item",targetData);items.push({item:item,instance:targetData,width:0,height:0,left:0,top:0});}}},refreshPositions:function(fast){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset();}
var i,item,t,p;for(i=this.items.length-1;i>=0;i--){item=this.items[i];if(item.instance!==this.currentContainer&&this.currentContainer&&item.item[0]!==this.currentItem[0]){continue;}
t=this.options.toleranceElement?$(this.options.toleranceElement,item.item):item.item;if(!fast){item.width=t.outerWidth();item.height=t.outerHeight();}
p=t.offset();item.left=p.left;item.top=p.top;}
if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this);}else{for(i=this.containers.length-1;i>=0;i--){p=this.containers[i].element.offset();this.containers[i].containerCache.left=p.left;this.containers[i].containerCache.top=p.top;this.containers[i].containerCache.width=this.containers[i].element.outerWidth();this.containers[i].containerCache.height=this.containers[i].element.outerHeight();}}
return this;},_createPlaceholder:function(that){that=that||this;var className,o=that.options;if(!o.placeholder||o.placeholder.constructor===String){className=o.placeholder;o.placeholder={element:function(){var nodeName=that.currentItem[0].nodeName.toLowerCase(),element=$("<"+nodeName+">",that.document[0]).addClass(className||that.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");if(nodeName==="tr"){that.currentItem.children().each(function(){$("<td>&#160;</td>",that.document[0]).attr("colspan",$(this).attr("colspan")||1).appendTo(element);});}else if(nodeName==="img"){element.attr("src",that.currentItem.attr("src"));}
if(!className){element.css("visibility","hidden");}
return element;},update:function(container,p){if(className&&!o.forcePlaceholderSize){return;}
if(!p.height()){p.height(that.currentItem.innerHeight()-parseInt(that.currentItem.css("paddingTop")||0,10)-parseInt(that.currentItem.css("paddingBottom")||0,10));}
if(!p.width()){p.width(that.currentItem.innerWidth()-parseInt(that.currentItem.css("paddingLeft")||0,10)-parseInt(that.currentItem.css("paddingRight")||0,10));}}};}
that.placeholder=$(o.placeholder.element.call(that.element,that.currentItem));that.currentItem.after(that.placeholder);o.placeholder.update(that,that.placeholder);},_contactContainers:function(event){var i,j,dist,itemWithLeastDistance,posProperty,sizeProperty,base,cur,nearBottom,floating,innermostContainer=null,innermostIndex=null;for(i=this.containers.length-1;i>=0;i--){if($.contains(this.currentItem[0],this.containers[i].element[0])){continue;}
if(this._intersectsWith(this.containers[i].containerCache)){if(innermostContainer&&$.contains(this.containers[i].element[0],innermostContainer.element[0])){continue;}
innermostContainer=this.containers[i];innermostIndex=i;}else{if(this.containers[i].containerCache.over){this.containers[i]._trigger("out",event,this._uiHash(this));this.containers[i].containerCache.over=0;}}}
if(!innermostContainer){return;}
if(this.containers.length===1){if(!this.containers[innermostIndex].containerCache.over){this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}}else{dist=10000;itemWithLeastDistance=null;floating=innermostContainer.floating||isFloating(this.currentItem);posProperty=floating?"left":"top";sizeProperty=floating?"width":"height";base=this.positionAbs[posProperty]+this.offset.click[posProperty];for(j=this.items.length-1;j>=0;j--){if(!$.contains(this.containers[innermostIndex].element[0],this.items[j].item[0])){continue;}
if(this.items[j].item[0]===this.currentItem[0]){continue;}
if(floating&&!isOverAxis(this.positionAbs.top+this.offset.click.top,this.items[j].top,this.items[j].height)){continue;}
cur=this.items[j].item.offset()[posProperty];nearBottom=false;if(Math.abs(cur-base)>Math.abs(cur+this.items[j][sizeProperty]-base)){nearBottom=true;cur+=this.items[j][sizeProperty];}
if(Math.abs(cur-base)<dist){dist=Math.abs(cur-base);itemWithLeastDistance=this.items[j];this.direction=nearBottom?"up":"down";}}
if(!itemWithLeastDistance&&!this.options.dropOnEmpty){return;}
if(this.currentContainer===this.containers[innermostIndex]){return;}
itemWithLeastDistance?this._rearrange(event,itemWithLeastDistance,null,true):this._rearrange(event,null,this.containers[innermostIndex].element,true);this._trigger("change",event,this._uiHash());this.containers[innermostIndex]._trigger("change",event,this._uiHash(this));this.currentContainer=this.containers[innermostIndex];this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[innermostIndex]._trigger("over",event,this._uiHash(this));this.containers[innermostIndex].containerCache.over=1;}},_createHelper:function(event){var o=this.options,helper=$.isFunction(o.helper)?$(o.helper.apply(this.element[0],[event,this.currentItem])):(o.helper==="clone"?this.currentItem.clone():this.currentItem);if(!helper.parents("body").length){$(o.appendTo!=="parent"?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(helper[0]);}
if(helper[0]===this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")};}
if(!helper[0].style.width||o.forceHelperSize){helper.width(this.currentItem.width());}
if(!helper[0].style.height||o.forceHelperSize){helper.height(this.currentItem.height());}
return helper;},_adjustOffsetFromHelper:function(obj){if(typeof obj==="string"){obj=obj.split(" ");}
if($.isArray(obj)){obj={left:+obj[0],top:+obj[1]||0};}
if("left"in obj){this.offset.click.left=obj.left+this.margins.left;}
if("right"in obj){this.offset.click.left=this.helperProportions.width-obj.right+this.margins.left;}
if("top"in obj){this.offset.click.top=obj.top+this.margins.top;}
if("bottom"in obj){this.offset.click.top=this.helperProportions.height-obj.bottom+this.margins.top;}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var po=this.offsetParent.offset();if(this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0])){po.left+=this.scrollParent.scrollLeft();po.top+=this.scrollParent.scrollTop();}
if(this.offsetParent[0]===document.body||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&$.ui.ie)){po={top:0,left:0};}
return{top:po.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:po.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)};},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var p=this.currentItem.position();return{top:p.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:p.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()};}else{return{top:0,left:0};}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)};},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()};},_setContainment:function(){var ce,co,over,o=this.options;if(o.containment==="parent"){o.containment=this.helper[0].parentNode;}
if(o.containment==="document"||o.containment==="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,$(o.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,($(o.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];}
if(!(/^(document|window|parent)$/).test(o.containment)){ce=$(o.containment)[0];co=$(o.containment).offset();over=($(ce).css("overflow")!=="hidden");this.containment=[co.left+(parseInt($(ce).css("borderLeftWidth"),10)||0)+(parseInt($(ce).css("paddingLeft"),10)||0)-this.margins.left,co.top+(parseInt($(ce).css("borderTopWidth"),10)||0)+(parseInt($(ce).css("paddingTop"),10)||0)-this.margins.top,co.left+(over?Math.max(ce.scrollWidth,ce.offsetWidth):ce.offsetWidth)-(parseInt($(ce).css("borderLeftWidth"),10)||0)-(parseInt($(ce).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,co.top+(over?Math.max(ce.scrollHeight,ce.offsetHeight):ce.offsetHeight)-(parseInt($(ce).css("borderTopWidth"),10)||0)-(parseInt($(ce).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top];}},_convertPositionTo:function(d,pos){if(!pos){pos=this.position;}
var mod=d==="absolute"?1:-1,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);return{top:(pos.top+
this.offset.relative.top*mod+
this.offset.parent.top*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop()))*mod)),left:(pos.left+
this.offset.relative.left*mod+
this.offset.parent.left*mod-
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())*mod))};},_generatePosition:function(event){var top,left,o=this.options,pageX=event.pageX,pageY=event.pageY,scroll=this.cssPosition==="absolute"&&!(this.scrollParent[0]!==document&&$.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,scrollIsRootNode=(/(html|body)/i).test(scroll[0].tagName);if(this.cssPosition==="relative"&&!(this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0])){this.offset.relative=this._getRelativeOffset();}
if(this.originalPosition){if(this.containment){if(event.pageX-this.offset.click.left<this.containment[0]){pageX=this.containment[0]+this.offset.click.left;}
if(event.pageY-this.offset.click.top<this.containment[1]){pageY=this.containment[1]+this.offset.click.top;}
if(event.pageX-this.offset.click.left>this.containment[2]){pageX=this.containment[2]+this.offset.click.left;}
if(event.pageY-this.offset.click.top>this.containment[3]){pageY=this.containment[3]+this.offset.click.top;}}
if(o.grid){top=this.originalPageY+Math.round((pageY-this.originalPageY)/o.grid[1])*o.grid[1];pageY=this.containment?((top-this.offset.click.top>=this.containment[1]&&top-this.offset.click.top<=this.containment[3])?top:((top-this.offset.click.top>=this.containment[1])?top-o.grid[1]:top+o.grid[1])):top;left=this.originalPageX+Math.round((pageX-this.originalPageX)/o.grid[0])*o.grid[0];pageX=this.containment?((left-this.offset.click.left>=this.containment[0]&&left-this.offset.click.left<=this.containment[2])?left:((left-this.offset.click.left>=this.containment[0])?left-o.grid[0]:left+o.grid[0])):left;}}
return{top:(pageY-
this.offset.click.top-
this.offset.relative.top-
this.offset.parent.top+
((this.cssPosition==="fixed"?-this.scrollParent.scrollTop():(scrollIsRootNode?0:scroll.scrollTop())))),left:(pageX-
this.offset.click.left-
this.offset.relative.left-
this.offset.parent.left+
((this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():scrollIsRootNode?0:scroll.scrollLeft())))};},_rearrange:function(event,i,a,hardRefresh){a?a[0].appendChild(this.placeholder[0]):i.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction==="down"?i.item[0]:i.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var counter=this.counter;this._delay(function(){if(counter===this.counter){this.refreshPositions(!hardRefresh);}});},_clear:function(event,noPropagation){this.reverting=false;var i,delayedTriggers=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem);}
this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(i in this._storedCSS){if(this._storedCSS[i]==="auto"||this._storedCSS[i]==="static"){this._storedCSS[i]="";}}
this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper");}else{this.currentItem.show();}
if(this.fromOutside&&!noPropagation){delayedTriggers.push(function(event){this._trigger("receive",event,this._uiHash(this.fromOutside));});}
if((this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!noPropagation){delayedTriggers.push(function(event){this._trigger("update",event,this._uiHash());});}
if(this!==this.currentContainer){if(!noPropagation){delayedTriggers.push(function(event){this._trigger("remove",event,this._uiHash());});delayedTriggers.push((function(c){return function(event){c._trigger("receive",event,this._uiHash(this));};}).call(this,this.currentContainer));delayedTriggers.push((function(c){return function(event){c._trigger("update",event,this._uiHash(this));};}).call(this,this.currentContainer));}}
for(i=this.containers.length-1;i>=0;i--){if(!noPropagation){delayedTriggers.push((function(c){return function(event){c._trigger("deactivate",event,this._uiHash(this));};}).call(this,this.containers[i]));}
if(this.containers[i].containerCache.over){delayedTriggers.push((function(c){return function(event){c._trigger("out",event,this._uiHash(this));};}).call(this,this.containers[i]));this.containers[i].containerCache.over=0;}}
if(this.storedCursor){this.document.find("body").css("cursor",this.storedCursor);this.storedStylesheet.remove();}
if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity);}
if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex);}
this.dragging=false;if(this.cancelHelperRemoval){if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event);}
this._trigger("stop",event,this._uiHash());}
this.fromOutside=false;return false;}
if(!noPropagation){this._trigger("beforeStop",event,this._uiHash());}
this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!==this.currentItem[0]){this.helper.remove();}
this.helper=null;if(!noPropagation){for(i=0;i<delayedTriggers.length;i++){delayedTriggers[i].call(this,event);}
this._trigger("stop",event,this._uiHash());}
this.fromOutside=false;return true;},_trigger:function(){if($.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel();}},_uiHash:function(_inst){var inst=_inst||this;return{helper:inst.helper,placeholder:inst.placeholder||$([]),position:inst.position,originalPosition:inst.originalPosition,offset:inst.positionAbs,item:inst.currentItem,sender:_inst?_inst.element:null};}});})(jQuery);(function($,undefined){var dataSpace="ui-effects-";$.effects={effect:{}};
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
(function(jQuery,undefined){var stepHooks="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",rplusequals=/^([\-+])=\s*(\d+\.?\d*)/,stringParsers=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1],execResult[2],execResult[3],execResult[4]];}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(execResult){return[execResult[1]*2.55,execResult[2]*2.55,execResult[3]*2.55,execResult[4]];}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(execResult){return[parseInt(execResult[1],16),parseInt(execResult[2],16),parseInt(execResult[3],16)];}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(execResult){return[parseInt(execResult[1]+execResult[1],16),parseInt(execResult[2]+execResult[2],16),parseInt(execResult[3]+execResult[3],16)];}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(execResult){return[execResult[1],execResult[2]/100,execResult[3]/100,execResult[4]];}}],color=jQuery.Color=function(color,green,blue,alpha){return new jQuery.Color.fn.parse(color,green,blue,alpha);},spaces={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},propTypes={"byte":{floor:true,max:255},"percent":{max:1},"degrees":{mod:360,floor:true}},support=color.support={},supportElem=jQuery("<p>")[0],colors,each=jQuery.each;supportElem.style.cssText="background-color:rgba(1,1,1,.5)";support.rgba=supportElem.style.backgroundColor.indexOf("rgba")>-1;each(spaces,function(spaceName,space){space.cache="_"+spaceName;space.props.alpha={idx:3,type:"percent",def:1};});function clamp(value,prop,allowEmpty){var type=propTypes[prop.type]||{};if(value==null){return(allowEmpty||!prop.def)?null:prop.def;}
value=type.floor?~~value:parseFloat(value);if(isNaN(value)){return prop.def;}
if(type.mod){return(value+type.mod)%type.mod;}
return 0>value?0:type.max<value?type.max:value;}
function stringParse(string){var inst=color(),rgba=inst._rgba=[];string=string.toLowerCase();each(stringParsers,function(i,parser){var parsed,match=parser.re.exec(string),values=match&&parser.parse(match),spaceName=parser.space||"rgba";if(values){parsed=inst[spaceName](values);inst[spaces[spaceName].cache]=parsed[spaces[spaceName].cache];rgba=inst._rgba=parsed._rgba;return false;}});if(rgba.length){if(rgba.join()==="0,0,0,0"){jQuery.extend(rgba,colors.transparent);}
return inst;}
return colors[string];}
color.fn=jQuery.extend(color.prototype,{parse:function(red,green,blue,alpha){if(red===undefined){this._rgba=[null,null,null,null];return this;}
if(red.jquery||red.nodeType){red=jQuery(red).css(green);green=undefined;}
var inst=this,type=jQuery.type(red),rgba=this._rgba=[];if(green!==undefined){red=[red,green,blue,alpha];type="array";}
if(type==="string"){return this.parse(stringParse(red)||colors._default);}
if(type==="array"){each(spaces.rgba.props,function(key,prop){rgba[prop.idx]=clamp(red[prop.idx],prop);});return this;}
if(type==="object"){if(red instanceof color){each(spaces,function(spaceName,space){if(red[space.cache]){inst[space.cache]=red[space.cache].slice();}});}else{each(spaces,function(spaceName,space){var cache=space.cache;each(space.props,function(key,prop){if(!inst[cache]&&space.to){if(key==="alpha"||red[key]==null){return;}
inst[cache]=space.to(inst._rgba);}
inst[cache][prop.idx]=clamp(red[key],prop,true);});if(inst[cache]&&jQuery.inArray(null,inst[cache].slice(0,3))<0){inst[cache][3]=1;if(space.from){inst._rgba=space.from(inst[cache]);}}});}
return this;}},is:function(compare){var is=color(compare),same=true,inst=this;each(spaces,function(_,space){var localCache,isCache=is[space.cache];if(isCache){localCache=inst[space.cache]||space.to&&space.to(inst._rgba)||[];each(space.props,function(_,prop){if(isCache[prop.idx]!=null){same=(isCache[prop.idx]===localCache[prop.idx]);return same;}});}
return same;});return same;},_space:function(){var used=[],inst=this;each(spaces,function(spaceName,space){if(inst[space.cache]){used.push(spaceName);}});return used.pop();},transition:function(other,distance){var end=color(other),spaceName=end._space(),space=spaces[spaceName],startColor=this.alpha()===0?color("transparent"):this,start=startColor[space.cache]||space.to(startColor._rgba),result=start.slice();end=end[space.cache];each(space.props,function(key,prop){var index=prop.idx,startValue=start[index],endValue=end[index],type=propTypes[prop.type]||{};if(endValue===null){return;}
if(startValue===null){result[index]=endValue;}else{if(type.mod){if(endValue-startValue>type.mod/2){startValue+=type.mod;}else if(startValue-endValue>type.mod/2){startValue-=type.mod;}}
result[index]=clamp((endValue-startValue)*distance+startValue,prop);}});return this[spaceName](result);},blend:function(opaque){if(this._rgba[3]===1){return this;}
var rgb=this._rgba.slice(),a=rgb.pop(),blend=color(opaque)._rgba;return color(jQuery.map(rgb,function(v,i){return(1-a)*blend[i]+a*v;}));},toRgbaString:function(){var prefix="rgba(",rgba=jQuery.map(this._rgba,function(v,i){return v==null?(i>2?1:0):v;});if(rgba[3]===1){rgba.pop();prefix="rgb(";}
return prefix+rgba.join()+")";},toHslaString:function(){var prefix="hsla(",hsla=jQuery.map(this.hsla(),function(v,i){if(v==null){v=i>2?1:0;}
if(i&&i<3){v=Math.round(v*100)+"%";}
return v;});if(hsla[3]===1){hsla.pop();prefix="hsl(";}
return prefix+hsla.join()+")";},toHexString:function(includeAlpha){var rgba=this._rgba.slice(),alpha=rgba.pop();if(includeAlpha){rgba.push(~~(alpha*255));}
return"#"+jQuery.map(rgba,function(v){v=(v||0).toString(16);return v.length===1?"0"+v:v;}).join("");},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString();}});color.fn.parse.prototype=color.fn;function hue2rgb(p,q,h){h=(h+1)%1;if(h*6<1){return p+(q-p)*h*6;}
if(h*2<1){return q;}
if(h*3<2){return p+(q-p)*((2/3)-h)*6;}
return p;}
spaces.hsla.to=function(rgba){if(rgba[0]==null||rgba[1]==null||rgba[2]==null){return[null,null,null,rgba[3]];}
var r=rgba[0]/255,g=rgba[1]/255,b=rgba[2]/255,a=rgba[3],max=Math.max(r,g,b),min=Math.min(r,g,b),diff=max-min,add=max+min,l=add*0.5,h,s;if(min===max){h=0;}else if(r===max){h=(60*(g-b)/diff)+360;}else if(g===max){h=(60*(b-r)/diff)+120;}else{h=(60*(r-g)/diff)+240;}
if(diff===0){s=0;}else if(l<=0.5){s=diff/add;}else{s=diff/(2-add);}
return[Math.round(h)%360,s,l,a==null?1:a];};spaces.hsla.from=function(hsla){if(hsla[0]==null||hsla[1]==null||hsla[2]==null){return[null,null,null,hsla[3]];}
var h=hsla[0]/360,s=hsla[1],l=hsla[2],a=hsla[3],q=l<=0.5?l*(1+s):l+s-l*s,p=2*l-q;return[Math.round(hue2rgb(p,q,h+(1/3))*255),Math.round(hue2rgb(p,q,h)*255),Math.round(hue2rgb(p,q,h-(1/3))*255),a];};each(spaces,function(spaceName,space){var props=space.props,cache=space.cache,to=space.to,from=space.from;color.fn[spaceName]=function(value){if(to&&!this[cache]){this[cache]=to(this._rgba);}
if(value===undefined){return this[cache].slice();}
var ret,type=jQuery.type(value),arr=(type==="array"||type==="object")?value:arguments,local=this[cache].slice();each(props,function(key,prop){var val=arr[type==="object"?key:prop.idx];if(val==null){val=local[prop.idx];}
local[prop.idx]=clamp(val,prop);});if(from){ret=color(from(local));ret[cache]=local;return ret;}else{return color(local);}};each(props,function(key,prop){if(color.fn[key]){return;}
color.fn[key]=function(value){var vtype=jQuery.type(value),fn=(key==="alpha"?(this._hsla?"hsla":"rgba"):spaceName),local=this[fn](),cur=local[prop.idx],match;if(vtype==="undefined"){return cur;}
if(vtype==="function"){value=value.call(this,cur);vtype=jQuery.type(value);}
if(value==null&&prop.empty){return this;}
if(vtype==="string"){match=rplusequals.exec(value);if(match){value=cur+parseFloat(match[2])*(match[1]==="+"?1:-1);}}
local[prop.idx]=value;return this[fn](local);};});});color.hook=function(hook){var hooks=hook.split(" ");each(hooks,function(i,hook){jQuery.cssHooks[hook]={set:function(elem,value){var parsed,curElem,backgroundColor="";if(value!=="transparent"&&(jQuery.type(value)!=="string"||(parsed=stringParse(value)))){value=color(parsed||value);if(!support.rgba&&value._rgba[3]!==1){curElem=hook==="backgroundColor"?elem.parentNode:elem;while((backgroundColor===""||backgroundColor==="transparent")&&curElem&&curElem.style){try{backgroundColor=jQuery.css(curElem,"backgroundColor");curElem=curElem.parentNode;}catch(e){}}
value=value.blend(backgroundColor&&backgroundColor!=="transparent"?backgroundColor:"_default");}
value=value.toRgbaString();}
try{elem.style[hook]=value;}catch(e){}}};jQuery.fx.step[hook]=function(fx){if(!fx.colorInit){fx.start=color(fx.elem,hook);fx.end=color(fx.end);fx.colorInit=true;}
jQuery.cssHooks[hook].set(fx.elem,fx.start.transition(fx.end,fx.pos));};});};color.hook(stepHooks);jQuery.cssHooks.borderColor={expand:function(value){var expanded={};each(["Top","Right","Bottom","Left"],function(i,part){expanded["border"+part+"Color"]=value;});return expanded;}};colors=jQuery.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"};})(jQuery);(function(){var classAnimationActions=["add","remove","toggle"],shorthandStyles={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};$.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(_,prop){$.fx.step[prop]=function(fx){if(fx.end!=="none"&&!fx.setAttr||fx.pos===1&&!fx.setAttr){jQuery.style(fx.elem,prop,fx.end);fx.setAttr=true;}};});function getElementStyles(elem){var key,len,style=elem.ownerDocument.defaultView?elem.ownerDocument.defaultView.getComputedStyle(elem,null):elem.currentStyle,styles={};if(style&&style.length&&style[0]&&style[style[0]]){len=style.length;while(len--){key=style[len];if(typeof style[key]==="string"){styles[$.camelCase(key)]=style[key];}}}else{for(key in style){if(typeof style[key]==="string"){styles[key]=style[key];}}}
return styles;}
function styleDifference(oldStyle,newStyle){var diff={},name,value;for(name in newStyle){value=newStyle[name];if(oldStyle[name]!==value){if(!shorthandStyles[name]){if($.fx.step[name]||!isNaN(parseFloat(value))){diff[name]=value;}}}}
return diff;}
if(!$.fn.addBack){$.fn.addBack=function(selector){return this.add(selector==null?this.prevObject:this.prevObject.filter(selector));};}
$.effects.animateClass=function(value,duration,easing,callback){var o=$.speed(duration,easing,callback);return this.queue(function(){var animated=$(this),baseClass=animated.attr("class")||"",applyClassChange,allAnimations=o.children?animated.find("*").addBack():animated;allAnimations=allAnimations.map(function(){var el=$(this);return{el:el,start:getElementStyles(this)};});applyClassChange=function(){$.each(classAnimationActions,function(i,action){if(value[action]){animated[action+"Class"](value[action]);}});};applyClassChange();allAnimations=allAnimations.map(function(){this.end=getElementStyles(this.el[0]);this.diff=styleDifference(this.start,this.end);return this;});animated.attr("class",baseClass);allAnimations=allAnimations.map(function(){var styleInfo=this,dfd=$.Deferred(),opts=$.extend({},o,{queue:false,complete:function(){dfd.resolve(styleInfo);}});this.el.animate(this.diff,opts);return dfd.promise();});$.when.apply($,allAnimations.get()).done(function(){applyClassChange();$.each(arguments,function(){var el=this.el;$.each(this.diff,function(key){el.css(key,"");});});o.complete.call(animated[0]);});});};$.fn.extend({addClass:(function(orig){return function(classNames,speed,easing,callback){return speed?$.effects.animateClass.call(this,{add:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.addClass),removeClass:(function(orig){return function(classNames,speed,easing,callback){return arguments.length>1?$.effects.animateClass.call(this,{remove:classNames},speed,easing,callback):orig.apply(this,arguments);};})($.fn.removeClass),toggleClass:(function(orig){return function(classNames,force,speed,easing,callback){if(typeof force==="boolean"||force===undefined){if(!speed){return orig.apply(this,arguments);}else{return $.effects.animateClass.call(this,(force?{add:classNames}:{remove:classNames}),speed,easing,callback);}}else{return $.effects.animateClass.call(this,{toggle:classNames},force,speed,easing);}};})($.fn.toggleClass),switchClass:function(remove,add,speed,easing,callback){return $.effects.animateClass.call(this,{add:add,remove:remove},speed,easing,callback);}});})();(function(){$.extend($.effects,{version:"1.10.3",save:function(element,set){for(var i=0;i<set.length;i++){if(set[i]!==null){element.data(dataSpace+set[i],element[0].style[set[i]]);}}},restore:function(element,set){var val,i;for(i=0;i<set.length;i++){if(set[i]!==null){val=element.data(dataSpace+set[i]);if(val===undefined){val="";}
element.css(set[i],val);}}},setMode:function(el,mode){if(mode==="toggle"){mode=el.is(":hidden")?"show":"hide";}
return mode;},getBaseline:function(origin,original){var y,x;switch(origin[0]){case"top":y=0;break;case"middle":y=0.5;break;case"bottom":y=1;break;default:y=origin[0]/original.height;}
switch(origin[1]){case"left":x=0;break;case"center":x=0.5;break;case"right":x=1;break;default:x=origin[1]/original.width;}
return{x:x,y:y};},createWrapper:function(element){if(element.parent().is(".ui-effects-wrapper")){return element.parent();}
var props={width:element.outerWidth(true),height:element.outerHeight(true),"float":element.css("float")},wrapper=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),size={width:element.width(),height:element.height()},active=document.activeElement;try{active.id;}catch(e){active=document.body;}
element.wrap(wrapper);if(element[0]===active||$.contains(element[0],active)){$(active).focus();}
wrapper=element.parent();if(element.css("position")==="static"){wrapper.css({position:"relative"});element.css({position:"relative"});}else{$.extend(props,{position:element.css("position"),zIndex:element.css("z-index")});$.each(["top","left","bottom","right"],function(i,pos){props[pos]=element.css(pos);if(isNaN(parseInt(props[pos],10))){props[pos]="auto";}});element.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"});}
element.css(size);return wrapper.css(props).show();},removeWrapper:function(element){var active=document.activeElement;if(element.parent().is(".ui-effects-wrapper")){element.parent().replaceWith(element);if(element[0]===active||$.contains(element[0],active)){$(active).focus();}}
return element;},setTransition:function(element,list,factor,value){value=value||{};$.each(list,function(i,x){var unit=element.cssUnit(x);if(unit[0]>0){value[x]=unit[0]*factor+unit[1];}});return value;}});function _normalizeArguments(effect,options,speed,callback){if($.isPlainObject(effect)){options=effect;effect=effect.effect;}
effect={effect:effect};if(options==null){options={};}
if($.isFunction(options)){callback=options;speed=null;options={};}
if(typeof options==="number"||$.fx.speeds[options]){callback=speed;speed=options;options={};}
if($.isFunction(speed)){callback=speed;speed=null;}
if(options){$.extend(effect,options);}
speed=speed||options.duration;effect.duration=$.fx.off?0:typeof speed==="number"?speed:speed in $.fx.speeds?$.fx.speeds[speed]:$.fx.speeds._default;effect.complete=callback||options.complete;return effect;}
function standardAnimationOption(option){if(!option||typeof option==="number"||$.fx.speeds[option]){return true;}
if(typeof option==="string"&&!$.effects.effect[option]){return true;}
if($.isFunction(option)){return true;}
if(typeof option==="object"&&!option.effect){return true;}
return false;}
$.fn.extend({effect:function(){var args=_normalizeArguments.apply(this,arguments),mode=args.mode,queue=args.queue,effectMethod=$.effects.effect[args.effect];if($.fx.off||!effectMethod){if(mode){return this[mode](args.duration,args.complete);}else{return this.each(function(){if(args.complete){args.complete.call(this);}});}}
function run(next){var elem=$(this),complete=args.complete,mode=args.mode;function done(){if($.isFunction(complete)){complete.call(elem[0]);}
if($.isFunction(next)){next();}}
if(elem.is(":hidden")?mode==="hide":mode==="show"){elem[mode]();done();}else{effectMethod.call(elem[0],args,done);}}
return queue===false?this.each(run):this.queue(queue||"fx",run);},show:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="show";return this.effect.call(this,args);}};})($.fn.show),hide:(function(orig){return function(option){if(standardAnimationOption(option)){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="hide";return this.effect.call(this,args);}};})($.fn.hide),toggle:(function(orig){return function(option){if(standardAnimationOption(option)||typeof option==="boolean"){return orig.apply(this,arguments);}else{var args=_normalizeArguments.apply(this,arguments);args.mode="toggle";return this.effect.call(this,args);}};})($.fn.toggle),cssUnit:function(key){var style=this.css(key),val=[];$.each(["em","px","%","pt"],function(i,unit){if(style.indexOf(unit)>0){val=[parseFloat(style),unit];}});return val;}});})();(function(){var baseEasings={};$.each(["Quad","Cubic","Quart","Quint","Expo"],function(i,name){baseEasings[name]=function(p){return Math.pow(p,i+2);};});$.extend(baseEasings,{Sine:function(p){return 1-Math.cos(p*Math.PI/2);},Circ:function(p){return 1-Math.sqrt(1-p*p);},Elastic:function(p){return p===0||p===1?p:-Math.pow(2,8*(p-1))*Math.sin(((p-1)*80-7.5)*Math.PI/15);},Back:function(p){return p*p*(3*p-2);},Bounce:function(p){var pow2,bounce=4;while(p<((pow2=Math.pow(2,--bounce))-1)/11){}
return 1/Math.pow(4,3-bounce)-7.5625*Math.pow((pow2*3-2)/22-p,2);}});$.each(baseEasings,function(name,easeIn){$.easing["easeIn"+name]=easeIn;$.easing["easeOut"+name]=function(p){return 1-easeIn(1-p);};$.easing["easeInOut"+name]=function(p){return p<0.5?easeIn(p*2)/2:1-easeIn(p*-2+2)/2;};});})();})(jQuery);(function($,undefined){var rvertical=/up|down|vertical/,rpositivemotion=/up|left|vertical|horizontal/;$.effects.effect.blind=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),direction=o.direction||"up",vertical=rvertical.test(direction),ref=vertical?"height":"width",ref2=vertical?"top":"left",motion=rpositivemotion.test(direction),animation={},show=mode==="show",wrapper,distance,margin;if(el.parent().is(".ui-effects-wrapper")){$.effects.save(el.parent(),props);}else{$.effects.save(el,props);}
el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});distance=wrapper[ref]();margin=parseFloat(wrapper.css(ref2))||0;animation[ref]=show?distance:0;if(!motion){el.css(vertical?"bottom":"right",0).css(vertical?"top":"left","auto").css({position:"absolute"});animation[ref2]=show?margin:distance+margin;}
if(show){wrapper.css(ref,0);if(!motion){wrapper.css(ref2,margin+distance);}}
wrapper.animate(animation,{duration:o.duration,easing:o.easing,queue:false,complete:function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.bounce=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"effect"),hide=mode==="hide",show=mode==="show",direction=o.direction||"up",distance=o.distance,times=o.times||5,anims=times*2+(show||hide?1:0),speed=o.duration/anims,easing=o.easing,ref=(direction==="up"||direction==="down")?"top":"left",motion=(direction==="up"||direction==="left"),i,upAnim,downAnim,queue=el.queue(),queuelen=queue.length;if(show||hide){props.push("opacity");}
$.effects.save(el,props);el.show();$.effects.createWrapper(el);if(!distance){distance=el[ref==="top"?"outerHeight":"outerWidth"]()/3;}
if(show){downAnim={opacity:1};downAnim[ref]=0;el.css("opacity",0).css(ref,motion?-distance*2:distance*2).animate(downAnim,speed,easing);}
if(hide){distance=distance/Math.pow(2,times-1);}
downAnim={};downAnim[ref]=0;for(i=0;i<times;i++){upAnim={};upAnim[ref]=(motion?"-=":"+=")+distance;el.animate(upAnim,speed,easing).animate(downAnim,speed,easing);distance=hide?distance*2:distance/2;}
if(hide){upAnim={opacity:0};upAnim[ref]=(motion?"-=":"+=")+distance;el.animate(upAnim,speed,easing);}
el.queue(function(){if(hide){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();});if(queuelen>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));}
el.dequeue();};})(jQuery);(function($,undefined){$.effects.effect.clip=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",direction=o.direction||"vertical",vert=direction==="vertical",size=vert?"height":"width",position=vert?"top":"left",animation={},wrapper,animate,distance;$.effects.save(el,props);el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});animate=(el[0].tagName==="IMG")?wrapper:el;distance=animate[size]();if(show){animate.css(size,0);animate.css(position,distance/2);}
animation[size]=show?distance:0;animation[position]=show?0:distance/2;animate.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(!show){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.drop=function(o,done){var el=$(this),props=["position","top","bottom","left","right","opacity","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",direction=o.direction||"left",ref=(direction==="up"||direction==="down")?"top":"left",motion=(direction==="up"||direction==="left")?"pos":"neg",animation={opacity:show?1:0},distance;$.effects.save(el,props);el.show();$.effects.createWrapper(el);distance=o.distance||el[ref==="top"?"outerHeight":"outerWidth"](true)/2;if(show){el.css("opacity",0).css(ref,motion==="pos"?-distance:distance);}
animation[ref]=(show?(motion==="pos"?"+=":"-="):(motion==="pos"?"-=":"+="))+
distance;el.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.explode=function(o,done){var rows=o.pieces?Math.round(Math.sqrt(o.pieces)):3,cells=rows,el=$(this),mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",offset=el.show().css("visibility","hidden").offset(),width=Math.ceil(el.outerWidth()/cells),height=Math.ceil(el.outerHeight()/rows),pieces=[],i,j,left,top,mx,my;function childComplete(){pieces.push(this);if(pieces.length===rows*cells){animComplete();}}
for(i=0;i<rows;i++){top=offset.top+i*height;my=i-(rows-1)/2;for(j=0;j<cells;j++){left=offset.left+j*width;mx=j-(cells-1)/2;el.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-j*width,top:-i*height}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:width,height:height,left:left+(show?mx*width:0),top:top+(show?my*height:0),opacity:show?0:1}).animate({left:left+(show?0:mx*width),top:top+(show?0:my*height),opacity:show?1:0},o.duration||500,o.easing,childComplete);}}
function animComplete(){el.css({visibility:"visible"});$(pieces).remove();if(!show){el.hide();}
done();}};})(jQuery);(function($,undefined){$.effects.effect.fade=function(o,done){var el=$(this),mode=$.effects.setMode(el,o.mode||"toggle");el.animate({opacity:mode},{queue:false,duration:o.duration,easing:o.easing,complete:done});};})(jQuery);(function($,undefined){$.effects.effect.fold=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"hide"),show=mode==="show",hide=mode==="hide",size=o.size||15,percent=/([0-9]+)%/.exec(size),horizFirst=!!o.horizFirst,widthFirst=show!==horizFirst,ref=widthFirst?["width","height"]:["height","width"],duration=o.duration/2,wrapper,distance,animation1={},animation2={};$.effects.save(el,props);el.show();wrapper=$.effects.createWrapper(el).css({overflow:"hidden"});distance=widthFirst?[wrapper.width(),wrapper.height()]:[wrapper.height(),wrapper.width()];if(percent){size=parseInt(percent[1],10)/100*distance[hide?0:1];}
if(show){wrapper.css(horizFirst?{height:0,width:size}:{height:size,width:0});}
animation1[ref[0]]=show?distance[0]:size;animation2[ref[1]]=show?distance[1]:0;wrapper.animate(animation1,duration,o.easing).animate(animation2,duration,o.easing,function(){if(hide){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();});};})(jQuery);(function($,undefined){$.effects.effect.highlight=function(o,done){var elem=$(this),props=["backgroundImage","backgroundColor","opacity"],mode=$.effects.setMode(elem,o.mode||"show"),animation={backgroundColor:elem.css("backgroundColor")};if(mode==="hide"){animation.opacity=0;}
$.effects.save(elem,props);elem.show().css({backgroundImage:"none",backgroundColor:o.color||"#ffff99"}).animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide"){elem.hide();}
$.effects.restore(elem,props);done();}});};})(jQuery);(function($,undefined){$.effects.effect.pulsate=function(o,done){var elem=$(this),mode=$.effects.setMode(elem,o.mode||"show"),show=mode==="show",hide=mode==="hide",showhide=(show||mode==="hide"),anims=((o.times||5)*2)+(showhide?1:0),duration=o.duration/anims,animateTo=0,queue=elem.queue(),queuelen=queue.length,i;if(show||!elem.is(":visible")){elem.css("opacity",0).show();animateTo=1;}
for(i=1;i<anims;i++){elem.animate({opacity:animateTo},duration,o.easing);animateTo=1-animateTo;}
elem.animate({opacity:animateTo},duration,o.easing);elem.queue(function(){if(hide){elem.hide();}
done();});if(queuelen>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));}
elem.dequeue();};})(jQuery);(function($,undefined){$.effects.effect.puff=function(o,done){var elem=$(this),mode=$.effects.setMode(elem,o.mode||"hide"),hide=mode==="hide",percent=parseInt(o.percent,10)||150,factor=percent/100,original={height:elem.height(),width:elem.width(),outerHeight:elem.outerHeight(),outerWidth:elem.outerWidth()};$.extend(o,{effect:"scale",queue:false,fade:true,mode:mode,complete:done,percent:hide?percent:100,from:hide?original:{height:original.height*factor,width:original.width*factor,outerHeight:original.outerHeight*factor,outerWidth:original.outerWidth*factor}});elem.effect(o);};$.effects.effect.scale=function(o,done){var el=$(this),options=$.extend(true,{},o),mode=$.effects.setMode(el,o.mode||"effect"),percent=parseInt(o.percent,10)||(parseInt(o.percent,10)===0?0:(mode==="hide"?0:100)),direction=o.direction||"both",origin=o.origin,original={height:el.height(),width:el.width(),outerHeight:el.outerHeight(),outerWidth:el.outerWidth()},factor={y:direction!=="horizontal"?(percent/100):1,x:direction!=="vertical"?(percent/100):1};options.effect="size";options.queue=false;options.complete=done;if(mode!=="effect"){options.origin=origin||["middle","center"];options.restore=true;}
options.from=o.from||(mode==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:original);options.to={height:original.height*factor.y,width:original.width*factor.x,outerHeight:original.outerHeight*factor.y,outerWidth:original.outerWidth*factor.x};if(options.fade){if(mode==="show"){options.from.opacity=0;options.to.opacity=1;}
if(mode==="hide"){options.from.opacity=1;options.to.opacity=0;}}
el.effect(options);};$.effects.effect.size=function(o,done){var original,baseline,factor,el=$(this),props0=["position","top","bottom","left","right","width","height","overflow","opacity"],props1=["position","top","bottom","left","right","overflow","opacity"],props2=["width","height","overflow"],cProps=["fontSize"],vProps=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],hProps=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],mode=$.effects.setMode(el,o.mode||"effect"),restore=o.restore||mode!=="effect",scale=o.scale||"both",origin=o.origin||["middle","center"],position=el.css("position"),props=restore?props0:props1,zero={height:0,width:0,outerHeight:0,outerWidth:0};if(mode==="show"){el.show();}
original={height:el.height(),width:el.width(),outerHeight:el.outerHeight(),outerWidth:el.outerWidth()};if(o.mode==="toggle"&&mode==="show"){el.from=o.to||zero;el.to=o.from||original;}else{el.from=o.from||(mode==="show"?zero:original);el.to=o.to||(mode==="hide"?zero:original);}
factor={from:{y:el.from.height/original.height,x:el.from.width/original.width},to:{y:el.to.height/original.height,x:el.to.width/original.width}};if(scale==="box"||scale==="both"){if(factor.from.y!==factor.to.y){props=props.concat(vProps);el.from=$.effects.setTransition(el,vProps,factor.from.y,el.from);el.to=$.effects.setTransition(el,vProps,factor.to.y,el.to);}
if(factor.from.x!==factor.to.x){props=props.concat(hProps);el.from=$.effects.setTransition(el,hProps,factor.from.x,el.from);el.to=$.effects.setTransition(el,hProps,factor.to.x,el.to);}}
if(scale==="content"||scale==="both"){if(factor.from.y!==factor.to.y){props=props.concat(cProps).concat(props2);el.from=$.effects.setTransition(el,cProps,factor.from.y,el.from);el.to=$.effects.setTransition(el,cProps,factor.to.y,el.to);}}
$.effects.save(el,props);el.show();$.effects.createWrapper(el);el.css("overflow","hidden").css(el.from);if(origin){baseline=$.effects.getBaseline(origin,original);el.from.top=(original.outerHeight-el.outerHeight())*baseline.y;el.from.left=(original.outerWidth-el.outerWidth())*baseline.x;el.to.top=(original.outerHeight-el.to.outerHeight)*baseline.y;el.to.left=(original.outerWidth-el.to.outerWidth)*baseline.x;}
el.css(el.from);if(scale==="content"||scale==="both"){vProps=vProps.concat(["marginTop","marginBottom"]).concat(cProps);hProps=hProps.concat(["marginLeft","marginRight"]);props2=props0.concat(vProps).concat(hProps);el.find("*[width]").each(function(){var child=$(this),c_original={height:child.height(),width:child.width(),outerHeight:child.outerHeight(),outerWidth:child.outerWidth()};if(restore){$.effects.save(child,props2);}
child.from={height:c_original.height*factor.from.y,width:c_original.width*factor.from.x,outerHeight:c_original.outerHeight*factor.from.y,outerWidth:c_original.outerWidth*factor.from.x};child.to={height:c_original.height*factor.to.y,width:c_original.width*factor.to.x,outerHeight:c_original.height*factor.to.y,outerWidth:c_original.width*factor.to.x};if(factor.from.y!==factor.to.y){child.from=$.effects.setTransition(child,vProps,factor.from.y,child.from);child.to=$.effects.setTransition(child,vProps,factor.to.y,child.to);}
if(factor.from.x!==factor.to.x){child.from=$.effects.setTransition(child,hProps,factor.from.x,child.from);child.to=$.effects.setTransition(child,hProps,factor.to.x,child.to);}
child.css(child.from);child.animate(child.to,o.duration,o.easing,function(){if(restore){$.effects.restore(child,props2);}});});}
el.animate(el.to,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(el.to.opacity===0){el.css("opacity",el.from.opacity);}
if(mode==="hide"){el.hide();}
$.effects.restore(el,props);if(!restore){if(position==="static"){el.css({position:"relative",top:el.to.top,left:el.to.left});}else{$.each(["top","left"],function(idx,pos){el.css(pos,function(_,str){var val=parseInt(str,10),toRef=idx?el.to.left:el.to.top;if(str==="auto"){return toRef+"px";}
return val+toRef+"px";});});}}
$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.shake=function(o,done){var el=$(this),props=["position","top","bottom","left","right","height","width"],mode=$.effects.setMode(el,o.mode||"effect"),direction=o.direction||"left",distance=o.distance||20,times=o.times||3,anims=times*2+1,speed=Math.round(o.duration/anims),ref=(direction==="up"||direction==="down")?"top":"left",positiveMotion=(direction==="up"||direction==="left"),animation={},animation1={},animation2={},i,queue=el.queue(),queuelen=queue.length;$.effects.save(el,props);el.show();$.effects.createWrapper(el);animation[ref]=(positiveMotion?"-=":"+=")+distance;animation1[ref]=(positiveMotion?"+=":"-=")+distance*2;animation2[ref]=(positiveMotion?"-=":"+=")+distance*2;el.animate(animation,speed,o.easing);for(i=1;i<times;i++){el.animate(animation1,speed,o.easing).animate(animation2,speed,o.easing);}
el.animate(animation1,speed,o.easing).animate(animation,speed/2,o.easing).queue(function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();});if(queuelen>1){queue.splice.apply(queue,[1,0].concat(queue.splice(queuelen,anims+1)));}
el.dequeue();};})(jQuery);(function($,undefined){$.effects.effect.slide=function(o,done){var el=$(this),props=["position","top","bottom","left","right","width","height"],mode=$.effects.setMode(el,o.mode||"show"),show=mode==="show",direction=o.direction||"left",ref=(direction==="up"||direction==="down")?"top":"left",positiveMotion=(direction==="up"||direction==="left"),distance,animation={};$.effects.save(el,props);el.show();distance=o.distance||el[ref==="top"?"outerHeight":"outerWidth"](true);$.effects.createWrapper(el).css({overflow:"hidden"});if(show){el.css(ref,positiveMotion?(isNaN(distance)?"-"+distance:-distance):distance);}
animation[ref]=(show?(positiveMotion?"+=":"-="):(positiveMotion?"-=":"+="))+
distance;el.animate(animation,{queue:false,duration:o.duration,easing:o.easing,complete:function(){if(mode==="hide"){el.hide();}
$.effects.restore(el,props);$.effects.removeWrapper(el);done();}});};})(jQuery);(function($,undefined){$.effects.effect.transfer=function(o,done){var elem=$(this),target=$(o.to),targetFixed=target.css("position")==="fixed",body=$("body"),fixTop=targetFixed?body.scrollTop():0,fixLeft=targetFixed?body.scrollLeft():0,endPosition=target.offset(),animation={top:endPosition.top-fixTop,left:endPosition.left-fixLeft,height:target.innerHeight(),width:target.innerWidth()},startPosition=elem.offset(),transfer=$("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(o.className).css({top:startPosition.top-fixTop,left:startPosition.left-fixLeft,height:elem.innerHeight(),width:elem.innerWidth(),position:targetFixed?"fixed":"absolute"}).animate(animation,o.duration,o.easing,function(){transfer.remove();done();});};})(jQuery);;(function($){$.event.special.textchange={setup:function(data,namespaces){$(this).data('lastValue',this.contentEditable==='true'?$(this).html():$(this).val());$(this).bind('keyup.textchange',$.event.special.textchange.handler);$(this).bind('cut.textchange paste.textchange input.textchange',$.event.special.textchange.delayedHandler);},teardown:function(namespaces){$(this).unbind('.textchange');},handler:function(event){$.event.special.textchange.triggerIfChanged($(this));},delayedHandler:function(event){var element=$(this);setTimeout(function(){$.event.special.textchange.triggerIfChanged(element);},25);},triggerIfChanged:function(element){var current=element[0].contentEditable==='true'?element.html():element.val();if(current!==element.data('lastValue')){element.trigger('textchange',[element.data('lastValue')]);element.data('lastValue',current);}}};$.event.special.hastext={setup:function(data,namespaces){$(this).bind('textchange',$.event.special.hastext.handler);},teardown:function(namespaces){$(this).unbind('textchange',$.event.special.hastext.handler);},handler:function(event,lastValue){if((lastValue==='')&&lastValue!==$(this).val()){$(this).trigger('hastext');}}};$.event.special.notext={setup:function(data,namespaces){$(this).bind('textchange',$.event.special.notext.handler);},teardown:function(namespaces){$(this).unbind('textchange',$.event.special.notext.handler);},handler:function(event,lastValue){if($(this).val()===''&&$(this).val()!==lastValue){$(this).trigger('notext');}}};})(jQuery);;;(function($){"use strict";var feature={};feature.fileapi=$("<input type='file'/>").get(0).files!==undefined;feature.formdata=window.FormData!==undefined;$.fn.ajaxSubmit=function(options){if(!this.length){log('ajaxSubmit: skipping submit process - no element selected');return this;}
var method,action,url,$form=this;if(typeof options=='function'){options={success:options};}
method=this.attr('method');action=this.attr('action');url=(typeof action==='string')?$.trim(action):'';url=url||window.location.href||'';if(url){url=(url.match(/^([^#]+)/)||[])[1];}
options=$.extend(true,{url:url,success:$.ajaxSettings.success,type:method||'GET',iframeSrc:/^https/i.test(window.location.href||'')?'javascript:false':'about:blank'},options);var veto={};this.trigger('form-pre-serialize',[this,options,veto]);if(veto.veto){log('ajaxSubmit: submit vetoed via form-pre-serialize trigger');return this;}
if(options.beforeSerialize&&options.beforeSerialize(this,options)===false){log('ajaxSubmit: submit aborted via beforeSerialize callback');return this;}
var traditional=options.traditional;if(traditional===undefined){traditional=$.ajaxSettings.traditional;}
var elements=[];var qx,a=this.formToArray(options.semantic,elements);if(options.data){options.extraData=options.data;qx=$.param(options.data,traditional);}
if(options.beforeSubmit&&options.beforeSubmit(a,this,options)===false){log('ajaxSubmit: submit aborted via beforeSubmit callback');return this;}
this.trigger('form-submit-validate',[a,this,options,veto]);if(veto.veto){log('ajaxSubmit: submit vetoed via form-submit-validate trigger');return this;}
var q=$.param(a,traditional);if(qx){q=(q?(q+'&'+qx):qx);}
if(options.type.toUpperCase()=='GET'){options.url+=(options.url.indexOf('?')>=0?'&':'?')+q;options.data=null;}
else{options.data=q;}
var callbacks=[];if(options.resetForm){callbacks.push(function(){$form.resetForm();});}
if(options.clearForm){callbacks.push(function(){$form.clearForm(options.includeHidden);});}
if(!options.dataType&&options.target){var oldSuccess=options.success||function(){};callbacks.push(function(data){var fn=options.replaceTarget?'replaceWith':'html';$(options.target)[fn](data).each(oldSuccess,arguments);});}
else if(options.success){callbacks.push(options.success);}
options.success=function(data,status,xhr){var context=options.context||options;for(var i=0,max=callbacks.length;i<max;i++){callbacks[i].apply(context,[data,status,xhr||$form,$form]);}};var fileInputs=$('input:file:enabled[value]',this);var hasFileInputs=fileInputs.length>0;var mp='multipart/form-data';var multipart=($form.attr('enctype')==mp||$form.attr('encoding')==mp);var fileAPI=feature.fileapi&&feature.formdata;log("fileAPI :"+fileAPI);var shouldUseFrame=(hasFileInputs||multipart)&&!fileAPI;if(options.iframe!==false&&(options.iframe||shouldUseFrame)){if(options.closeKeepAlive){$.get(options.closeKeepAlive,function(){fileUploadIframe(a);});}
else{fileUploadIframe(a);}}
else if((hasFileInputs||multipart)&&fileAPI){fileUploadXhr(a);}
else{$.ajax(options);}
for(var k=0;k<elements.length;k++)
elements[k]=null;this.trigger('form-submit-notify',[this,options]);return this;function fileUploadXhr(a){var formdata=new FormData();for(var i=0;i<a.length;i++){formdata.append(a[i].name,a[i].value);}
if(options.extraData){for(var p in options.extraData)
if(options.extraData.hasOwnProperty(p))
formdata.append(p,options.extraData[p]);}
options.data=null;var s=$.extend(true,{},$.ajaxSettings,options,{contentType:false,processData:false,cache:false,type:'POST'});if(options.uploadProgress){s.xhr=function(){var xhr=jQuery.ajaxSettings.xhr();if(xhr.upload){xhr.upload.onprogress=function(event){var percent=0;var position=event.loaded||event.position;var total=event.total;if(event.lengthComputable){percent=Math.ceil(position/total*100);}
options.uploadProgress(event,position,total,percent);};}
return xhr;};}
s.data=null;var beforeSend=s.beforeSend;s.beforeSend=function(xhr,o){o.data=formdata;if(beforeSend)
beforeSend.call(o,xhr,options);};$.ajax(s);}
function fileUploadIframe(a){var form=$form[0],el,i,s,g,id,$io,io,xhr,sub,n,timedOut,timeoutHandle;var useProp=!!$.fn.prop;if($(':input[name=submit],:input[id=submit]',form).length){alert('Error: Form elements must not have name or id of "submit".');return;}
if(a){for(i=0;i<elements.length;i++){el=$(elements[i]);if(useProp)
el.prop('disabled',false);else
el.removeAttr('disabled');}}
s=$.extend(true,{},$.ajaxSettings,options);s.context=s.context||s;id='jqFormIO'+(new Date().getTime());if(s.iframeTarget){$io=$(s.iframeTarget);n=$io.attr('name');if(!n)
$io.attr('name',id);else
id=n;}
else{$io=$('<iframe name="'+id+'" src="'+s.iframeSrc+'" />');$io.css({position:'absolute',top:'-1000px',left:'-1000px'});}
io=$io[0];xhr={aborted:0,responseText:null,responseXML:null,status:0,statusText:'n/a',getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(status){var e=(status==='timeout'?'timeout':'aborted');log('aborting upload... '+e);this.aborted=1;$io.attr('src',s.iframeSrc);xhr.error=e;if(s.error)
s.error.call(s.context,xhr,e,status);if(g)
$.event.trigger("ajaxError",[xhr,s,e]);if(s.complete)
s.complete.call(s.context,xhr,e);}};g=s.global;if(g&&0===$.active++){$.event.trigger("ajaxStart");}
if(g){$.event.trigger("ajaxSend",[xhr,s]);}
if(s.beforeSend&&s.beforeSend.call(s.context,xhr,s)===false){if(s.global){$.active--;}
return;}
if(xhr.aborted){return;}
sub=form.clk;if(sub){n=sub.name;if(n&&!sub.disabled){s.extraData=s.extraData||{};s.extraData[n]=sub.value;if(sub.type=="image"){s.extraData[n+'.x']=form.clk_x;s.extraData[n+'.y']=form.clk_y;}}}
var CLIENT_TIMEOUT_ABORT=1;var SERVER_ABORT=2;function getDoc(frame){var doc=frame.contentWindow?frame.contentWindow.document:frame.contentDocument?frame.contentDocument:frame.document;return doc;}
var csrf_token=$('meta[name=csrf-token]').attr('content');var csrf_param=$('meta[name=csrf-param]').attr('content');if(csrf_param&&csrf_token){s.extraData=s.extraData||{};s.extraData[csrf_param]=csrf_token;}
function doSubmit(){var t=$form.attr('target'),a=$form.attr('action');form.setAttribute('target',id);if(!method){form.setAttribute('method','POST');}
if(a!=s.url){form.setAttribute('action',s.url);}
if(!s.skipEncodingOverride&&(!method||/post/i.test(method))){$form.attr({encoding:'multipart/form-data',enctype:'multipart/form-data'});}
if(s.timeout){timeoutHandle=setTimeout(function(){timedOut=true;cb(CLIENT_TIMEOUT_ABORT);},s.timeout);}
function checkState(){try{var state=getDoc(io).readyState;log('state = '+state);if(state&&state.toLowerCase()=='uninitialized')
setTimeout(checkState,50);}
catch(e){log('Server abort: ',e,' (',e.name,')');cb(SERVER_ABORT);if(timeoutHandle)
clearTimeout(timeoutHandle);timeoutHandle=undefined;}}
var extraInputs=[];try{if(s.extraData){for(var n in s.extraData){if(s.extraData.hasOwnProperty(n)){extraInputs.push($('<input type="hidden" name="'+n+'">').attr('value',s.extraData[n]).appendTo(form)[0]);}}}
if(!s.iframeTarget){$io.appendTo('body');if(io.attachEvent)
io.attachEvent('onload',cb);else
io.addEventListener('load',cb,false);}
setTimeout(checkState,15);form.submit();}
finally{form.setAttribute('action',a);if(t){form.setAttribute('target',t);}else{$form.removeAttr('target');}
$(extraInputs).remove();}}
if(s.forceSync){doSubmit();}
else{setTimeout(doSubmit,10);}
var data,doc,domCheckCount=50,callbackProcessed;function cb(e){if(xhr.aborted||callbackProcessed){return;}
try{doc=getDoc(io);}
catch(ex){log('cannot access response document: ',ex);e=SERVER_ABORT;}
if(e===CLIENT_TIMEOUT_ABORT&&xhr){xhr.abort('timeout');return;}
else if(e==SERVER_ABORT&&xhr){xhr.abort('server abort');return;}
if(!doc||doc.location.href==s.iframeSrc){if(!timedOut)
return;}
if(io.detachEvent)
io.detachEvent('onload',cb);else
io.removeEventListener('load',cb,false);var status='success',errMsg;try{if(timedOut){throw'timeout';}
var isXml=s.dataType=='xml'||doc.XMLDocument||$.isXMLDoc(doc);log('isXml='+isXml);if(!isXml&&window.opera&&(doc.body===null||!doc.body.innerHTML)){if(--domCheckCount){log('requeing onLoad callback, DOM not available');setTimeout(cb,250);return;}}
var docRoot=doc.body?doc.body:doc.documentElement;xhr.responseText=docRoot?docRoot.innerHTML:null;xhr.responseXML=doc.XMLDocument?doc.XMLDocument:doc;if(isXml)
s.dataType='xml';xhr.getResponseHeader=function(header){var headers={'content-type':s.dataType};return headers[header];};if(docRoot){xhr.status=Number(docRoot.getAttribute('status'))||xhr.status;xhr.statusText=docRoot.getAttribute('statusText')||xhr.statusText;}
var dt=(s.dataType||'').toLowerCase();var scr=/(json|script|text)/.test(dt);if(scr||s.textarea){var ta=doc.getElementsByTagName('textarea')[0];if(ta){xhr.responseText=ta.value;xhr.status=Number(ta.getAttribute('status'))||xhr.status;xhr.statusText=ta.getAttribute('statusText')||xhr.statusText;}
else if(scr){var pre=doc.getElementsByTagName('pre')[0];var b=doc.getElementsByTagName('body')[0];if(pre){xhr.responseText=pre.textContent?pre.textContent:pre.innerText;}
else if(b){xhr.responseText=b.textContent?b.textContent:b.innerText;}}}
else if(dt=='xml'&&!xhr.responseXML&&xhr.responseText){xhr.responseXML=toXml(xhr.responseText);}
try{data=httpData(xhr,dt,s);}
catch(e){status='parsererror';xhr.error=errMsg=(e||status);}}
catch(e){log('error caught: ',e);status='error';xhr.error=errMsg=(e||status);}
if(xhr.aborted){log('upload aborted');status=null;}
if(xhr.status){status=(xhr.status>=200&&xhr.status<300||xhr.status===304)?'success':'error';}
if(status==='success'){if(s.success)
s.success.call(s.context,data,'success',xhr);if(g)
$.event.trigger("ajaxSuccess",[xhr,s]);}
else if(status){if(errMsg===undefined)
errMsg=xhr.statusText;if(s.error)
s.error.call(s.context,xhr,status,errMsg);if(g)
$.event.trigger("ajaxError",[xhr,s,errMsg]);}
if(g)
$.event.trigger("ajaxComplete",[xhr,s]);if(g&&!--$.active){$.event.trigger("ajaxStop");}
if(s.complete)
s.complete.call(s.context,xhr,status);callbackProcessed=true;if(s.timeout)
clearTimeout(timeoutHandle);setTimeout(function(){if(!s.iframeTarget)
$io.remove();xhr.responseXML=null;},100);}
var toXml=$.parseXML||function(s,doc){if(window.ActiveXObject){doc=new ActiveXObject('Microsoft.XMLDOM');doc.async='false';doc.loadXML(s);}
else{doc=(new DOMParser()).parseFromString(s,'text/xml');}
return(doc&&doc.documentElement&&doc.documentElement.nodeName!='parsererror')?doc:null;};var parseJSON=$.parseJSON||function(s){return window['eval']('('+s+')');};var httpData=function(xhr,type,s){var ct=xhr.getResponseHeader('content-type')||'',xml=type==='xml'||!type&&ct.indexOf('xml')>=0,data=xml?xhr.responseXML:xhr.responseText;if(xml&&data.documentElement.nodeName==='parsererror'){if($.error)
$.error('parsererror');}
if(s&&s.dataFilter){data=s.dataFilter(data,type);}
if(typeof data==='string'){if(type==='json'||!type&&ct.indexOf('json')>=0){data=parseJSON(data);}else if(type==="script"||!type&&ct.indexOf("javascript")>=0){$.globalEval(data);}}
return data;};}};$.fn.ajaxForm=function(options){options=options||{};options.delegation=options.delegation&&$.isFunction($.fn.on);if(!options.delegation&&this.length===0){var o={s:this.selector,c:this.context};if(!$.isReady&&o.s){log('DOM not ready, queuing ajaxForm');$(function(){$(o.s,o.c).ajaxForm(options);});return this;}
log('terminating; zero elements found by selector'+($.isReady?'':' (DOM not ready)'));return this;}
if(options.delegation){$(document).off('submit.form-plugin',this.selector,doAjaxSubmit).off('click.form-plugin',this.selector,captureSubmittingElement).on('submit.form-plugin',this.selector,options,doAjaxSubmit).on('click.form-plugin',this.selector,options,captureSubmittingElement);return this;}
return this.ajaxFormUnbind().bind('submit.form-plugin',options,doAjaxSubmit).bind('click.form-plugin',options,captureSubmittingElement);};function doAjaxSubmit(e){var options=e.data;if(!e.isDefaultPrevented()){e.preventDefault();$(this).ajaxSubmit(options);}}
function captureSubmittingElement(e){var target=e.target;var $el=$(target);if(!($el.is(":submit,input:image"))){var t=$el.closest(':submit');if(t.length===0){return;}
target=t[0];}
var form=this;form.clk=target;if(target.type=='image'){if(e.offsetX!==undefined){form.clk_x=e.offsetX;form.clk_y=e.offsetY;}else if(typeof $.fn.offset=='function'){var offset=$el.offset();form.clk_x=e.pageX-offset.left;form.clk_y=e.pageY-offset.top;}else{form.clk_x=e.pageX-target.offsetLeft;form.clk_y=e.pageY-target.offsetTop;}}
setTimeout(function(){form.clk=form.clk_x=form.clk_y=null;},100);}
$.fn.ajaxFormUnbind=function(){return this.unbind('submit.form-plugin click.form-plugin');};$.fn.formToArray=function(semantic,elements){var a=[];if(this.length===0){return a;}
var form=this[0];var els=semantic?form.getElementsByTagName('*'):form.elements;if(!els){return a;}
var i,j,n,v,el,max,jmax;for(i=0,max=els.length;i<max;i++){el=els[i];n=el.name;if(!n){continue;}
if(semantic&&form.clk&&el.type=="image"){if(!el.disabled&&form.clk==el){a.push({name:n,value:$(el).val(),type:el.type});a.push({name:n+'.x',value:form.clk_x},{name:n+'.y',value:form.clk_y});}
continue;}
v=$.fieldValue(el,true);if(v&&v.constructor==Array){if(elements)
elements.push(el);for(j=0,jmax=v.length;j<jmax;j++){a.push({name:n,value:v[j]});}}
else if(feature.fileapi&&el.type=='file'&&!el.disabled){if(elements)
elements.push(el);var files=el.files;if(files.length){for(j=0;j<files.length;j++){a.push({name:n,value:files[j],type:el.type});}}
else{a.push({name:n,value:'',type:el.type});}}
else if(v!==null&&typeof v!='undefined'){if(elements)
elements.push(el);a.push({name:n,value:v,type:el.type,required:el.required});}}
if(!semantic&&form.clk){var $input=$(form.clk),input=$input[0];n=input.name;if(n&&!input.disabled&&input.type=='image'){a.push({name:n,value:$input.val()});a.push({name:n+'.x',value:form.clk_x},{name:n+'.y',value:form.clk_y});}}
return a;};$.fn.formSerialize=function(semantic){return $.param(this.formToArray(semantic));};$.fn.fieldSerialize=function(successful){var a=[];this.each(function(){var n=this.name;if(!n){return;}
var v=$.fieldValue(this,successful);if(v&&v.constructor==Array){for(var i=0,max=v.length;i<max;i++){a.push({name:n,value:v[i]});}}
else if(v!==null&&typeof v!='undefined'){a.push({name:this.name,value:v});}});return $.param(a);};$.fn.fieldValue=function(successful){for(var val=[],i=0,max=this.length;i<max;i++){var el=this[i];var v=$.fieldValue(el,successful);if(v===null||typeof v=='undefined'||(v.constructor==Array&&!v.length)){continue;}
if(v.constructor==Array)
$.merge(val,v);else
val.push(v);}
return val;};$.fieldValue=function(el,successful){var n=el.name,t=el.type,tag=el.tagName.toLowerCase();if(successful===undefined){successful=true;}
if(successful&&(!n||el.disabled||t=='reset'||t=='button'||(t=='checkbox'||t=='radio')&&!el.checked||(t=='submit'||t=='image')&&el.form&&el.form.clk!=el||tag=='select'&&el.selectedIndex==-1)){return null;}
if(tag=='select'){var index=el.selectedIndex;if(index<0){return null;}
var a=[],ops=el.options;var one=(t=='select-one');var max=(one?index+1:ops.length);for(var i=(one?index:0);i<max;i++){var op=ops[i];if(op.selected){var v=op.value;if(!v){v=(op.attributes&&op.attributes['value']&&!(op.attributes['value'].specified))?op.text:op.value;}
if(one){return v;}
a.push(v);}}
return a;}
return $(el).val();};$.fn.clearForm=function(includeHidden){return this.each(function(){$('input,select,textarea',this).clearFields(includeHidden);});};$.fn.clearFields=$.fn.clearInputs=function(includeHidden){var re=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var t=this.type,tag=this.tagName.toLowerCase();if(re.test(t)||tag=='textarea'){this.value='';}
else if(t=='checkbox'||t=='radio'){this.checked=false;}
else if(tag=='select'){this.selectedIndex=-1;}
else if(includeHidden){if((includeHidden===true&&/hidden/.test(t))||(typeof includeHidden=='string'&&$(this).is(includeHidden)))
this.value='';}});};$.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=='function'||(typeof this.reset=='object'&&!this.reset.nodeType)){this.reset();}});};$.fn.enable=function(b){if(b===undefined){b=true;}
return this.each(function(){this.disabled=!b;});};$.fn.selected=function(select){if(select===undefined){select=true;}
return this.each(function(){var t=this.type;if(t=='checkbox'||t=='radio'){this.checked=select;}
else if(this.tagName.toLowerCase()=='option'){var $sel=$(this).parent('select');if(select&&$sel[0]&&$sel[0].type=='select-one'){$sel.find('option').selected(false);}
this.selected=select;}});};$.fn.ajaxSubmit.debug=false;function log(){if(!$.fn.ajaxSubmit.debug)
return;var msg='[jquery.form] '+Array.prototype.join.call(arguments,'');if(window.console&&window.console.log){window.console.log(msg);}
else if(window.opera&&window.opera.postError){window.opera.postError(msg);}}})(jQuery);;(function($){window.log=function(){log.history=log.history||[];log.history.push(arguments);if(this.console){console.log(Array.prototype.slice.call(arguments))}};$.fn.snippet=function(language,settings){if(typeof language=="object"){settings=language;}
if(typeof language=="string"){language=language.toLowerCase();}
var defaults={style:"random",showNum:true,transparent:false,collapse:false,menu:true,showMsg:"Expand Code",hideMsg:"Collapse Code",clipboard:"",startCollapsed:true,startText:false,box:"",boxColor:"",boxFill:""};var styleArr=["acid","berries-dark","berries-light","bipolar","blacknblue","bright","contrast","darkblue","darkness","desert","dull","easter","emacs","golden","greenlcd","ide-anjuta","ide-codewarrior","ide-devcpp","ide-eclipse","ide-kdev","ide-msvcpp","kwrite","matlab","navy","nedit","neon","night","pablo","peachpuff","print","rand01","the","typical","vampire","vim","vim-dark","whatis","whitengrey","zellner"];if(settings){$.extend(defaults,settings)}
return this.each(function(){var useStyle=defaults.style.toLowerCase();if(defaults.style=="random"){var randomnumber=Math.floor(Math.random()*(styleArr.length));useStyle=styleArr[randomnumber];}
var o=$(this);var node=this.nodeName.toLowerCase();if(node=="pre"){if(o.data('orgHtml')==undefined||o.data('orgHtml')==null){var orgHtml=o.html();o.data('orgHtml',orgHtml);}
if(!o.parent().hasClass("snippet-wrap")){if(typeof language!="string"){if(o.attr('class').length>0){var errclass=" class=\""+o.attr('class')+"\""}else{var errclass="";}
if(o.attr('id').length>0){var errid=" id=\""+o.attr('id')+"\""}else{var errid="";}
var error="Snippet Error: You must specify a language on inital usage of Snippet. Reference <pre"+errclass+errid+">";console.log(error);return false;}
o.addClass("sh_"+language).addClass("snippet-formatted").wrap("<div class='snippet-container' style='"+o.attr('style')+";'><div class='sh_"+useStyle+" snippet-wrap'></div></div>");o.removeAttr('style');sh_highlightDocument();if(defaults.showNum){var newhtml=o.html();newhtml=newhtml.replace(/\n/g,"</li><li>");newhtml="<ol class='snippet-num'><li>"+newhtml+"</li></ol>";while(newhtml.indexOf("<li></li></ol>")!=-1){newhtml=newhtml.replace("<li></li></ol>","</ol>");}}
else{var newhtml=o.html();newhtml=newhtml.replace(/\n/g,"</li><li>");newhtml="<ul class='snippet-no-num'><li>"+newhtml+"</li></ul>";while(newhtml.indexOf("<li></li></ul>")!=-1){newhtml=newhtml.replace("<li></li></ul>","</ul>");}}
newhtml=newhtml.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;");o.html(newhtml);while(o.find("li").eq(0).html()==""){o.find("li").eq(0).remove();}
o.find("li").each(function(){if($(this).html().length<2){var rep=($(this).html()).replace(/\s/g,"");if(rep==""){if($.browser.opera){$(this).html("&nbsp;");}else{$(this).html("<span style='display:none;'>&nbsp;</span>");}}}});var txtOnly="<pre class='snippet-textonly sh_sourceCode' style='display:none;'>"+o.data('orgHtml')+"</pre>";var controls="<div class='snippet-menu sh_sourceCode' style='display:none;'><pre>"
+"<a class='snippet-copy' href='#'>ÐÐ¾Ð¿Ð¸ÑÐ¾Ð²Ð°ÑÑ</a>"
+"<a class='snippet-text' href='#'>Ð¢ÐµÐºÑÑ</a>"
+"<a class='snippet-window' href='#'>Pop-Up</a>"
+"</pre></div>";o.parent().append(txtOnly);o.parent().prepend(controls);o.parent().hover(function(){$(this).find('.snippet-menu').fadeIn("fast");},function(){$(this).find('.snippet-menu').fadeOut("fast");});if(defaults.clipboard!=""&&defaults.clipboard!=false){var cpy=o.parent().find('a.snippet-copy');cpy.show();cpy.parents('.snippet-menu').show();var txt=o.parents('.snippet-wrap').find('.snippet-textonly').text();ZeroClipboard.setMoviePath(defaults.clipboard);var clip=new ZeroClipboard.Client();clip.setText(txt);clip.glue(cpy[0],cpy.parents('.snippet-menu')[0]);clip.addEventListener('complete',function(client,text){if(text.length>500){text=text.substr(0,500)+"...\n\n("+(text.length-500)+" ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð² Ð½Ðµ Ð¿Ð¾ÐºÐ°Ð·Ð°Ð½Ð¾)";}
alert("Ð¡ÐºÐ¾Ð¿Ð¸ÑÐ¾Ð²Ð°Ð½Ð¾ Ð² Ð±ÑÑÐµÑ Ð¾Ð±Ð¼ÐµÐ½Ð°:\n\n "+text);});cpy.parents('.snippet-menu').hide();}else{o.parent().find('a.snippet-copy').hide();}
o.parent().find("a.snippet-text").click(function(){var org=$(this).parents('.snippet-wrap').find('.snippet-formatted');var txt=$(this).parents('.snippet-wrap').find('.snippet-textonly');org.toggle();txt.toggle();if(txt.is(':visible')){$(this).html("HTML");}else{$(this).html("Ð¢ÐµÐºÑÑ");}
$(this).blur();return false;});o.parent().find("a.snippet-window").click(function(){var txt=$(this).parents('.snippet-wrap').find('.snippet-textonly').html();snippetPopup(txt);$(this).blur();return false;});if(!defaults.menu){o.prev('.snippet-menu').find('pre,.snippet-clipboard').hide();}
if(defaults.collapse){var styleClass=o.parent().attr('class');var collapseShow="<div class='snippet-reveal "+styleClass+"'><pre class='sh_sourceCode'><a href='#' class='snippet-toggle'>"+defaults.showMsg+"</a></pre></div>";var collapseHide="<div class='sh_sourceCode snippet-hide'><pre><a href='#' class='snippet-revealed snippet-toggle'>"+defaults.hideMsg+"</a></pre></div>";o.parents('.snippet-container').append(collapseShow);o.parent().append(collapseHide);var root=o.parents('.snippet-container');if(defaults.startCollapsed){root.find('.snippet-reveal').show();root.find('.snippet-wrap').eq(0).hide();}else{root.find('.snippet-reveal').hide();root.find('.snippet-wrap').eq(0).show();}
root.find('a.snippet-toggle').click(function(){root.find('.snippet-wrap').toggle();return false;});}
if(defaults.transparent){var styleObj={"background-color":"transparent","box-shadow":"none","-moz-box-shadow":"none","-webkit-box-shadow":"none"}
o.css(styleObj);o.next(".snippet-textonly").css(styleObj);o.parents('.snippet-container').find('.snippet-reveal pre').css(styleObj);}
if(defaults.startText){o.hide();o.next(".snippet-textonly").show();o.parent().find(".snippet-text").html("html");}
if(defaults.box!=""){var spacer="<span class='box-sp'>&nbsp;</span>";var boxNums=defaults.box.split(',');for(var i=0;i<boxNums.length;i++){var boxNum=boxNums[i];if(boxNum.indexOf('-')==-1){boxNum=parseFloat(boxNum)-1;o.find("li").eq(boxNum).addClass('box').prepend(spacer);}else{var numStart=parseFloat(boxNum.split('-')[0])-1;var numEnd=parseFloat(boxNum.split('-')[1])-1;if(numStart<numEnd){o.find("li").eq(numStart).addClass('box box-top').prepend(spacer);o.find("li").eq(numEnd).addClass('box box-bot').prepend(spacer);for(var x=numStart+1;x<numEnd;x++){o.find("li").eq(x).addClass('box box-mid').prepend(spacer);}}else if(numStart==numEnd){o.find("li").eq(numStart).addClass('box').prepend(spacer);}}}
if(defaults.boxColor!=""){o.find("li.box").css('border-color',defaults.boxColor);}
if(defaults.boxFill!=""){o.find("li.box, li.box-top, li.box-mid, li.box-bot").addClass('box-bg').css('background-color',defaults.boxFill);}
if($.browser.webkit){o.find(".snippet-num li.box").css('margin-left','-3.3em');o.find(".snippet-num li .box-sp").css('width','21px');}}
o.parents('.snippet-container').find("a").addClass("sh_url");}
else{o.parent().attr("class","sh_"+useStyle+" snippet-wrap");o.parents('.snippet-container').find('.snippet-reveal').attr("class","sh_"+useStyle+" snippet-wrap snippet-reveal");o.find("li.box, li.box-top, li.box-mid, li.box-bot").removeAttr('style').removeAttr('class');o.find("li .box-sp").remove();if(defaults.transparent){var styleObj={"background-color":"transparent","box-shadow":"none","-moz-box-shadow":"none","-webkit-box-shadow":"none"}
o.css(styleObj);o.next(".snippet-textonly").css(styleObj);o.parents('.snippet-container').find('.snippet-hide pre').css(styleObj);}
else{var styleObj={"background-color":"","box-shadow":"","-moz-box-shadow":"","-webkit-box-shadow":""}
o.css(styleObj);o.next(".snippet-textonly").css(styleObj);o.parents('.snippet-container').find('.snippet-reveal pre').css(styleObj);}
if(defaults.showNum){var list=o.find("li").eq(0).parent();if(list.hasClass("snippet-no-num")){list.wrap("<ol class='snippet-num'></ol>");var li=o.find("li").eq(0);li.unwrap();}}
else{var list=o.find("li").eq(0).parent();if(list.hasClass("snippet-num")){list.wrap("<ul class='snippet-no-num'></ul>");var li=o.find("li").eq(0);li.unwrap();}}
if(defaults.box!=""){var spacer="<span class='box-sp'>&nbsp;</span>";var boxNums=defaults.box.split(',');for(var i=0;i<boxNums.length;i++){var boxNum=boxNums[i];if(boxNum.indexOf('-')==-1){boxNum=parseFloat(boxNum)-1;o.find("li").eq(boxNum).addClass('box').prepend(spacer);}else{var numStart=parseFloat(boxNum.split('-')[0])-1;var numEnd=parseFloat(boxNum.split('-')[1])-1;if(numStart<numEnd){o.find("li").eq(numStart).addClass('box box-top').prepend(spacer);o.find("li").eq(numEnd).addClass('box box-bot').prepend(spacer);for(var x=numStart+1;x<numEnd;x++){o.find("li").eq(x).addClass('box box-mid').prepend(spacer);}}else if(numStart==numEnd){o.find("li").eq(numStart).addClass('box').prepend(spacer);}}}
if(defaults.boxColor!=""){o.find("li.box").css('border-color',defaults.boxColor);}
if(defaults.boxFill!=""){o.find("li.box").addClass('box-bg').css('background-color',defaults.boxFill);}
if($.browser.webkit){o.find(".snippet-num li.box").css('margin-left','-3.3em');o.find(".snippet-num li .box-sp").css('width','21px');}}
sh_highlightDocument();if(!defaults.menu){o.prev('.snippet-menu').find('pre,.snippet-clipboard').hide();}else{o.prev('.snippet-menu').find('pre,.snippet-clipboard').show();}}}else{var error="Snippet Error: Sorry, Snippet only formats '<pre>' elements. '<"+node+">' elements are currently unsupported.";console.log(error);return false;}});};})(jQuery);function snippetPopup(content){top.consoleRef=window.open('','myconsole','width=600,height=300'
+',left=50,top=50'
+',menubar=0'
+',toolbar=0'
+',location=0'
+',status=0'
+',scrollbars=1'
+',resizable=1');top.consoleRef.document.writeln('<html><head><title>Snippet :: Code View :: '+location.href+'</title></head>'
+'<body bgcolor=white onLoad="self.focus()">'
+'<pre>'+content+'</pre>'
+'</body></html>');top.consoleRef.document.close();}
var ZeroClipboard={version:"1.0.7",clients:{},moviePath:'/js/ZeroClipboard.swf',nextId:1,$:function(thingy){if(typeof(thingy)=='string')thingy=document.getElementById(thingy);if(!thingy.addClass){thingy.hide=function(){this.style.display='none';};thingy.show=function(){this.style.display='';};thingy.addClass=function(name){this.removeClass(name);this.className+=' '+name;};thingy.removeClass=function(name){var classes=this.className.split(/\s+/);var idx=-1;for(var k=0;k<classes.length;k++){if(classes[k]==name){idx=k;k=classes.length;}}
if(idx>-1){classes.splice(idx,1);this.className=classes.join(' ');}
return this;};thingy.hasClass=function(name){return!!this.className.match(new RegExp("\\s*"+name+"\\s*"));};}
return thingy;},setMoviePath:function(path){this.moviePath=path;},dispatch:function(id,eventName,args){var client=this.clients[id];if(client){client.receiveEvent(eventName,args);}},register:function(id,client){this.clients[id]=client;},getDOMObjectPosition:function(obj,stopObj){var info={left:0,top:0,width:obj.width?obj.width:obj.offsetWidth,height:obj.height?obj.height:obj.offsetHeight};while(obj&&(obj!=stopObj)){info.left+=obj.offsetLeft;info.top+=obj.offsetTop;obj=obj.offsetParent;}
return info;},Client:function(elem){this.handlers={};this.id=ZeroClipboard.nextId++;this.movieId='ZeroClipboardMovie_'+this.id;ZeroClipboard.register(this.id,this);if(elem)this.glue(elem);}};ZeroClipboard.Client.prototype={id:0,ready:false,movie:null,clipText:'',handCursorEnabled:true,cssEffects:true,handlers:null,glue:function(elem,appendElem,stylesToAdd){this.domElement=ZeroClipboard.$(elem);var zIndex=99;if(this.domElement.style.zIndex){zIndex=parseInt(this.domElement.style.zIndex,10)+1;}
if(typeof(appendElem)=='string'){appendElem=ZeroClipboard.$(appendElem);}
else if(typeof(appendElem)=='undefined'){appendElem=document.getElementsByTagName('body')[0];}
var box=ZeroClipboard.getDOMObjectPosition(this.domElement,appendElem);this.div=document.createElement('div');this.div.className="snippet-clipboard";var style=this.div.style;style.position='absolute';style.left=''+box.left+'px';style.top=''+box.top+'px';style.width=''+box.width+'px';style.height=''+box.height+'px';style.zIndex=zIndex;if(typeof(stylesToAdd)=='object'){for(addedStyle in stylesToAdd){style[addedStyle]=stylesToAdd[addedStyle];}}
appendElem.appendChild(this.div);this.div.innerHTML=this.getHTML(box.width,box.height);},getHTML:function(width,height){var html='';var flashvars='id='+this.id+'&width='+width+'&height='+height;if(navigator.userAgent.match(/MSIE/)){var protocol=location.href.match(/^https/i)?'https://':'http://';html+='<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+protocol+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+width+'" height="'+height+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+flashvars+'"/><param name="wmode" value="transparent"/></object>';}
else{html+='<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+width+'" height="'+height+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+flashvars+'" wmode="transparent" />';}
return html;},hide:function(){if(this.div){this.div.style.left='-2000px';}},show:function(){this.reposition();},destroy:function(){if(this.domElement&&this.div){this.hide();this.div.innerHTML='';var body=document.getElementsByTagName('body')[0];try{body.removeChild(this.div);}catch(e){;}
this.domElement=null;this.div=null;}},reposition:function(elem){if(elem){this.domElement=ZeroClipboard.$(elem);if(!this.domElement)this.hide();}
if(this.domElement&&this.div){var box=ZeroClipboard.getDOMObjectPosition(this.domElement);var style=this.div.style;style.left=''+box.left+'px';style.top=''+box.top+'px';}},setText:function(newText){this.clipText=newText;if(this.ready){this.movie.setText(newText);}},addEventListener:function(eventName,func){eventName=eventName.toString().toLowerCase().replace(/^on/,'');if(!this.handlers[eventName]){this.handlers[eventName]=[];}
this.handlers[eventName].push(func);},setHandCursor:function(enabled){this.handCursorEnabled=enabled;if(this.ready){this.movie.setHandCursor(enabled);}},setCSSEffects:function(enabled){this.cssEffects=!!enabled;},receiveEvent:function(eventName,args){eventName=eventName.toString().toLowerCase().replace(/^on/,'');switch(eventName){case'load':this.movie=document.getElementById(this.movieId);if(!this.movie){var self=this;setTimeout(function(){self.receiveEvent('load',null);},1);return;}
if(!this.ready&&navigator.userAgent.match(/Firefox/)&&navigator.userAgent.match(/Windows/)){var self=this;setTimeout(function(){self.receiveEvent('load',null);},100);this.ready=true;return;}
this.ready=true;try{this.movie.setText(this.clipText);}catch(e){}
try{this.movie.setHandCursor(this.handCursorEnabled);}catch(e){}
break;case'mouseover':if(this.domElement&&this.cssEffects){this.domElement.addClass('hover');if(this.recoverActive){this.domElement.addClass('active');}}
break;case'mouseout':if(this.domElement&&this.cssEffects){this.recoverActive=false;if(this.domElement.hasClass('active')){this.domElement.removeClass('active');this.recoverActive=true;}
this.domElement.removeClass('hover');}
break;case'mousedown':if(this.domElement&&this.cssEffects){this.domElement.addClass('active');}
break;case'mouseup':if(this.domElement&&this.cssEffects){this.domElement.removeClass('active');this.recoverActive=false;}
break;}
if(this.handlers[eventName]){for(var idx=0,len=this.handlers[eventName].length;idx<len;idx++){var func=this.handlers[eventName][idx];if(typeof(func)=='function'){func(this,args);}
else if((typeof(func)=='object')&&(func.length==2)){func[0][func[1]](this,args);}
else if(typeof(func)=='string'){window[func](this,args);}}}}};if(!this.sh_languages){this.sh_languages={}}var sh_requests={};function sh_isEmailAddress(a){if(/^mailto:/.test(a)){return false}return a.indexOf("@")!==-1}function sh_setHref(b,c,d){var a=d.substring(b[c-2].pos,b[c-1].pos);if(a.length>=2&&a.charAt(0)==="<"&&a.charAt(a.length-1)===">"){a=a.substr(1,a.length-2)}if(sh_isEmailAddress(a)){a="mailto:"+a}b[c-2].node.href=a}function sh_konquerorExec(b){var a=[""];a.index=b.length;a.input=b;return a}function sh_highlightString(B,o){if(/Konqueror/.test(navigator.userAgent)){if(!o.konquered){for(var F=0;F<o.length;F++){for(var H=0;H<o[F].length;H++){var G=o[F][H][0];if(G.source==="$"){G.exec=sh_konquerorExec}}}o.konquered=true}}var N=document.createElement("a");var q=document.createElement("span");var A=[];var j=0;var n=[];var C=0;var k=null;var x=function(i,a){var p=i.length;if(p===0){return}if(!a){var Q=n.length;if(Q!==0){var r=n[Q-1];if(!r[3]){a=r[1]}}}if(k!==a){if(k){A[j++]={pos:C};if(k==="sh_url"){sh_setHref(A,j,B)}}if(a){var P;if(a==="sh_url"){P=N.cloneNode(false)}else{P=q.cloneNode(false)}P.className=a;A[j++]={node:P,pos:C}}}C+=p;k=a};var t=/\r\n|\r|\n/g;t.lastIndex=0;var d=B.length;while(C<d){var v=C;var l;var w;var h=t.exec(B);if(h===null){l=d;w=d}else{l=h.index;w=t.lastIndex}var g=B.substring(v,l);var M=[];for(;;){var I=C-v;var D;var y=n.length;if(y===0){D=0}else{D=n[y-1][2]}var O=o[D];var z=O.length;var m=M[D];if(!m){m=M[D]=[]}var E=null;var u=-1;for(var K=0;K<z;K++){var f;if(K<m.length&&(m[K]===null||I<=m[K].index)){f=m[K]}else{var c=O[K][0];c.lastIndex=I;f=c.exec(g);m[K]=f}if(f!==null&&(E===null||f.index<E.index)){E=f;u=K;if(f.index===I){break}}}if(E===null){x(g.substring(I),null);break}else{if(E.index>I){x(g.substring(I,E.index),null)}var e=O[u];var J=e[1];var b;if(J instanceof Array){for(var L=0;L<J.length;L++){b=E[L+1];x(b,J[L])}}else{b=E[0];x(b,J)}switch(e[2]){case-1:break;case-2:n.pop();break;case-3:n.length=0;break;default:n.push(e);break}}}if(k){A[j++]={pos:C};if(k==="sh_url"){sh_setHref(A,j,B)}k=null}C=w}return A}function sh_getClasses(d){var a=[];var b=d.className;if(b&&b.length>0){var e=b.split(" ");for(var c=0;c<e.length;c++){if(e[c].length>0){a.push(e[c])}}}return a}function sh_addClass(c,a){var d=sh_getClasses(c);for(var b=0;b<d.length;b++){if(a.toLowerCase()===d[b].toLowerCase()){return}}d.push(a);c.className=d.join(" ")}function sh_extractTagsFromNodeList(c,a){var f=c.length;for(var d=0;d<f;d++){var e=c.item(d);switch(e.nodeType){case 1:if(e.nodeName.toLowerCase()==="br"){var b;if(/MSIE/.test(navigator.userAgent)){b="\r"}else{b="\n"}a.text.push(b);a.pos++}else{a.tags.push({node:e.cloneNode(false),pos:a.pos});sh_extractTagsFromNodeList(e.childNodes,a);a.tags.push({pos:a.pos})}break;case 3:case 4:a.text.push(e.data);a.pos+=e.length;break}}}function sh_extractTags(c,b){var a={};a.text=[];a.tags=b;a.pos=0;sh_extractTagsFromNodeList(c.childNodes,a);return a.text.join("")}function sh_mergeTags(d,f){var a=d.length;if(a===0){return f}var c=f.length;if(c===0){return d}var i=[];var e=0;var b=0;while(e<a&&b<c){var h=d[e];var g=f[b];if(h.pos<=g.pos){i.push(h);e++}else{i.push(g);if(f[b+1].pos<=h.pos){b++;i.push(f[b]);b++}else{i.push({pos:h.pos});f[b]={node:g.node.cloneNode(false),pos:h.pos}}}}while(e<a){i.push(d[e]);e++}while(b<c){i.push(f[b]);b++}return i}function sh_insertTags(k,h){var g=document;var l=document.createDocumentFragment();var e=0;var d=k.length;var b=0;var j=h.length;var c=l;while(b<j||e<d){var i;var a;if(e<d){i=k[e];a=i.pos}else{a=j}if(a<=b){if(i.node){var f=i.node;c.appendChild(f);c=f}else{c=c.parentNode}e++}else{c.appendChild(g.createTextNode(h.substring(b,a)));b=a}}return l}function sh_highlightElement(d,g){sh_addClass(d,"sh_sourceCode");var c=[];var e=sh_extractTags(d,c);var f=sh_highlightString(e,g);var b=sh_mergeTags(c,f);var a=sh_insertTags(b,e);while(d.hasChildNodes()){d.removeChild(d.firstChild)}d.appendChild(a)}function sh_getXMLHttpRequest(){if(window.ActiveXObject){return new ActiveXObject("Msxml2.XMLHTTP")}else{if(window.XMLHttpRequest){return new XMLHttpRequest()}}throw"No XMLHttpRequest implementation available"}function sh_load(language,element,prefix,suffix){if(language in sh_requests){sh_requests[language].push(element);return}sh_requests[language]=[element];var request=sh_getXMLHttpRequest();var url=prefix+"sh_"+language+suffix;request.open("GET",url,true);request.onreadystatechange=function(){if(request.readyState===4){try{if(!request.status||request.status===200){eval(request.responseText);var elements=sh_requests[language];for(var i=0;i<elements.length;i++){sh_highlightElement(elements[i],sh_languages[language])}}else{throw"HTTP error: status "+request.status}}finally{request=null}}};request.send(null)}
function sh_highlightDocument(prefix,suffix){var nodeList=document.getElementsByTagName('pre');for(var i=0;i<nodeList.length;i++){var element=nodeList.item(i);var htmlClasses=element.className.toLowerCase();var htmlClass=htmlClasses.replace(/sh_sourcecode/g,'');if(htmlClass.indexOf("sh_")!=-1){htmlClass=htmlClass.match(/(\bsh_)\w+\b/g)[0];}
if(htmlClasses.indexOf('sh_sourcecode')!=-1){continue;}
if(htmlClass.substr(0,3)==='sh_'){var language=htmlClass.substring(3);if(language in sh_languages){sh_highlightElement(element,sh_languages[language]);}else if(typeof(prefix)==='string'&&typeof(suffix)==='string'){sh_load(language,element,prefix,suffix);}else{console.log('Found <pre> element with class="'+htmlClass+'", but no such language exists');continue;}
break;}}}
if(!this.sh_languages){this.sh_languages={}}sh_languages.c=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",10,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",13],[/'/g,"sh_string",14],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/$/g,null,-2],[/</g,"sh_string",11],[/"/g,"sh_string",12],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.cpp=[[[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:class|const_cast|delete|dynamic_cast|explicit|false|friend|inline|mutable|namespace|new|operator|private|protected|public|reinterpret_cast|static_cast|template|this|throw|true|try|typeid|typename|using|virtual)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",10,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",13],[/'/g,"sh_string",14],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/$/g,null,-2],[/</g,"sh_string",11],[/"/g,"sh_string",12],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.csharp=[[[/\b(?:using)\b/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))(?:[FfDdMmUulL]+)?\b/g,"sh_number",-1],[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:abstract|event|new|struct|as|explicit|null|switch|base|extern|this|false|operator|throw|break|finally|out|true|fixed|override|try|case|params|typeof|catch|for|private|foreach|protected|checked|goto|public|unchecked|class|if|readonly|unsafe|const|implicit|ref|continue|in|return|virtual|default|interface|sealed|volatile|delegate|internal|do|is|sizeof|while|lock|stackalloc|else|static|enum|namespace|get|partial|set|value|where|yield)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",10,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",13],[/'/g,"sh_string",14],[/\b(?:bool|byte|sbyte|char|decimal|double|float|int|uint|long|ulong|object|short|ushort|string|void)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/$/g,null,-2],[/</g,"sh_string",11],[/"/g,"sh_string",12],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.css=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/(?:\.|#)[A-Za-z0-9_]+/g,"sh_selector",-1],[/\{/g,"sh_cbracket",10,1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\}/g,"sh_cbracket",-2],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/[A-Za-z0-9_-]+[ \t]*:/g,"sh_property",-1],[/[.%A-Za-z0-9_-]+/g,"sh_value",-1],[/#(?:[A-Za-z0-9_]+)/g,"sh_string",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.flex=[[[/^%\{/g,"sh_preproc",1,1],[/^%[sx]/g,"sh_preproc",16,1],[/^%option/g,"sh_preproc",17,1],[/^%(?:array|pointer|[aceknopr])/g,"sh_preproc",-1],[/[A-Za-z_][A-Za-z0-9_-]*/g,"sh_preproc",19,1],[/^%%/g,"sh_preproc",20,1]],[[/^%\}/g,"sh_preproc",-2],[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:class|const_cast|delete|dynamic_cast|explicit|false|friend|inline|mutable|namespace|new|operator|private|protected|public|reinterpret_cast|static_cast|template|this|throw|true|try|typeid|typename|using|virtual)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",2],[/\/\//g,"sh_comment",8],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",11,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",14],[/'/g,"sh_string",15],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",3,1],[/<!DOCTYPE/g,"sh_preproc",5,1],[/<!--/g,"sh_comment",6],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",7,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",7,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",4]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",4]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",6]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",4]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",3,1],[/<!DOCTYPE/g,"sh_preproc",5,1],[/<!--/g,"sh_comment",6],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",7,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",7,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/$/g,null,-2],[/</g,"sh_string",12],[/"/g,"sh_string",13],[/\/\/\//g,"sh_comment",2],[/\/\//g,"sh_comment",8],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/$/g,null,-2],[/[A-Za-z_][A-Za-z0-9_-]*/g,"sh_function",-1]],[[/$/g,null,-2],[/[A-Za-z_][A-Za-z0-9_-]*/g,"sh_keyword",-1],[/"/g,"sh_string",18],[/=/g,"sh_symbol",-1]],[[/$/g,null,-2],[/"/g,"sh_string",-2]],[[/$/g,null,-2],[/\{[A-Za-z_][A-Za-z0-9_-]*\}/g,"sh_type",-1],[/"/g,"sh_string",13],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1]],[[/^%%/g,"sh_preproc",21,1],[/<[A-Za-z_][A-Za-z0-9_-]*>/g,"sh_function",-1],[/"/g,"sh_string",13],[/\\./g,"sh_preproc",-1],[/\{[A-Za-z_][A-Za-z0-9_-]*\}/g,"sh_type",-1],[/\/\*/g,"sh_comment",22],[/\{/g,"sh_cbracket",23,1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1]],[[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:class|const_cast|delete|dynamic_cast|explicit|false|friend|inline|mutable|namespace|new|operator|private|protected|public|reinterpret_cast|static_cast|template|this|throw|true|try|typeid|typename|using|virtual)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",2],[/\/\//g,"sh_comment",8],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",11,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",14],[/'/g,"sh_string",15],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/\*\//g,"sh_comment",-2],[/\/\*/g,"sh_comment",22]],[[/\}/g,"sh_cbracket",-2],[/\{/g,"sh_cbracket",23,1],[/\$./g,"sh_variable",-1],[/(\b(?:class|struct|typename))([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:class|const_cast|delete|dynamic_cast|explicit|false|friend|inline|mutable|namespace|new|operator|private|protected|public|reinterpret_cast|static_cast|template|this|throw|true|try|typeid|typename|using|virtual)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",2],[/\/\//g,"sh_comment",8],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(\bstruct)([ \t]+)([A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/^[ \t]*#(?:[ \t]*include)/g,"sh_preproc",11,1],[/^[ \t]*#(?:[ \t]*[A-Za-z0-9_]*)/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",14],[/'/g,"sh_string",15],[/\b(?:__asm|__cdecl|__declspec|__export|__far16|__fastcall|__fortran|__import|__pascal|__rtti|__stdcall|_asm|_cdecl|__except|_export|_far16|_fastcall|__finally|_fortran|_import|_pascal|_stdcall|__thread|__try|asm|auto|break|case|catch|cdecl|const|continue|default|do|else|enum|extern|for|goto|if|pascal|register|return|sizeof|static|struct|switch|typedef|union|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:bool|char|double|float|int|long|short|signed|unsigned|void|wchar_t)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.html=[[[/<\?xml/g,"sh_preproc",1,1],[/<!DOCTYPE/g,"sh_preproc",3,1],[/<!--/g,"sh_comment",4],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",5,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",5,1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",4]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.java=[[[/\b(?:import|package)\b/g,"sh_preproc",-1],[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",10],[/'/g,"sh_string",11],[/(\b(?:class|interface))([ \t]+)([$A-Za-z0-9_]+)/g,["sh_keyword","sh_normal","sh_classname"],-1],[/\b(?:abstract|assert|break|case|catch|class|const|continue|default|do|else|extends|false|final|finally|for|goto|if|implements|instanceof|interface|native|new|null|private|protected|public|return|static|strictfp|super|switch|synchronized|throw|throws|true|this|transient|try|volatile|while)\b/g,"sh_keyword",-1],[/\b(?:int|byte|boolean|char|long|float|double|short|void)\b/g,"sh_type",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1],[/([A-Za-z](?:[^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]|[_])*)((?:<.*>)?)(\s+(?=[*&]*[A-Za-z][^`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\s]*\s*[`~!@#$%&*()_=+{}|;:",<.>\/?'\\[\]\^\-\[\]]+))/g,["sh_usertype","sh_usertype","sh_normal"],-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.javascript=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/\b(?:abstract|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|final|finally|for|function|goto|if|implements|in|instanceof|interface|native|new|null|private|protected|prototype|public|return|static|super|switch|synchronized|throw|throws|this|transient|true|try|typeof|var|volatile|while|with)\b/g,"sh_keyword",-1],[/(\+\+|--|\)|\])(\s*)(\/=?(?![*\/]))/g,["sh_symbol","sh_normal","sh_symbol"],-1],[/(0x[A-Fa-f0-9]+|(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?)(\s*)(\/(?![*\/]))/g,["sh_number","sh_normal","sh_symbol"],-1],[/([A-Za-z$_][A-Za-z0-9$_]*\s*)(\/=?(?![*\/]))/g,["sh_normal","sh_symbol"],-1],[/\/(?:\\.|[^*\\\/])(?:\\.|[^\\\/])*\/[gim]*/g,"sh_regexp",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",10],[/'/g,"sh_string",11],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/\b(?:Math|Infinity|NaN|undefined|arguments)\b/g,"sh_predef_var",-1],[/\b(?:Array|Boolean|Date|Error|EvalError|Function|Number|Object|RangeError|ReferenceError|RegExp|String|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt)\b/g,"sh_predef_func",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.javascript_dom=[[[/\/\/\//g,"sh_comment",1],[/\/\//g,"sh_comment",7],[/\/\*\*/g,"sh_comment",8],[/\/\*/g,"sh_comment",9],[/\b(?:abstract|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|final|finally|for|function|goto|if|implements|in|instanceof|interface|native|new|null|private|protected|prototype|public|return|static|super|switch|synchronized|throw|throws|this|transient|true|try|typeof|var|volatile|while|with)\b/g,"sh_keyword",-1],[/(\+\+|--|\)|\])(\s*)(\/=?(?![*\/]))/g,["sh_symbol","sh_normal","sh_symbol"],-1],[/(0x[A-Fa-f0-9]+|(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?)(\s*)(\/(?![*\/]))/g,["sh_number","sh_normal","sh_symbol"],-1],[/([A-Za-z$_][A-Za-z0-9$_]*\s*)(\/=?(?![*\/]))/g,["sh_normal","sh_symbol"],-1],[/\/(?:\\.|[^*\\\/])(?:\\.|[^\\\/])*\/[gim]*/g,"sh_regexp",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",10],[/'/g,"sh_string",11],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/\b(?:Math|Infinity|NaN|undefined|arguments)\b/g,"sh_predef_var",-1],[/\b(?:Array|Boolean|Date|Error|EvalError|Function|Number|Object|RangeError|ReferenceError|RegExp|String|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt)\b/g,"sh_predef_func",-1],[/\b(?:applicationCache|closed|Components|content|controllers|crypto|defaultStatus|dialogArguments|directories|document|frameElement|frames|fullScreen|globalStorage|history|innerHeight|innerWidth|length|location|locationbar|menubar|name|navigator|opener|outerHeight|outerWidth|pageXOffset|pageYOffset|parent|personalbar|pkcs11|returnValue|screen|availTop|availLeft|availHeight|availWidth|colorDepth|height|left|pixelDepth|top|width|screenX|screenY|scrollbars|scrollMaxX|scrollMaxY|scrollX|scrollY|self|sessionStorage|sidebar|status|statusbar|toolbar|top|window)\b/g,"sh_predef_var",-1],[/\b(?:alert|addEventListener|atob|back|blur|btoa|captureEvents|clearInterval|clearTimeout|close|confirm|dump|escape|find|focus|forward|getAttention|getComputedStyle|getSelection|home|moveBy|moveTo|open|openDialog|postMessage|print|prompt|releaseEvents|removeEventListener|resizeBy|resizeTo|scroll|scrollBy|scrollByLines|scrollByPages|scrollTo|setInterval|setTimeout|showModalDialog|sizeToContent|stop|unescape|updateCommands|onabort|onbeforeunload|onblur|onchange|onclick|onclose|oncontextmenu|ondragdrop|onerror|onfocus|onkeydown|onkeypress|onkeyup|onload|onmousedown|onmousemove|onmouseout|onmouseover|onmouseup|onpaint|onreset|onresize|onscroll|onselect|onsubmit|onunload)\b/g,"sh_predef_func",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",5]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",3]],[[/$/g,null,-2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",2,1],[/<!DOCTYPE/g,"sh_preproc",4,1],[/<!--/g,"sh_comment",5],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",6,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",6,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.perl=[[[/\b(?:import)\b/g,"sh_preproc",-1],[/(s)(\{(?:\\\}|[^}])*\}\{(?:\\\}|[^}])*\})([ixsmogce]*)/g,["sh_keyword","sh_regexp","sh_keyword"],-1],[/(s)(\((?:\\\)|[^)])*\)\((?:\\\)|[^)])*\))([ixsmogce]*)/g,["sh_keyword","sh_regexp","sh_keyword"],-1],[/(s)(\[(?:\\\]|[^\]])*\]\[(?:\\\]|[^\]])*\])([ixsmogce]*)/g,["sh_keyword","sh_regexp","sh_keyword"],-1],[/(s)(<.*><.*>)([ixsmogce]*)/g,["sh_keyword","sh_regexp","sh_keyword"],-1],[/(q(?:q?))(\{(?:\\\}|[^}])*\})/g,["sh_keyword","sh_string"],-1],[/(q(?:q?))(\((?:\\\)|[^)])*\))/g,["sh_keyword","sh_string"],-1],[/(q(?:q?))(\[(?:\\\]|[^\]])*\])/g,["sh_keyword","sh_string"],-1],[/(q(?:q?))(<.*>)/g,["sh_keyword","sh_string"],-1],[/(q(?:q?))([^A-Za-z0-9 \t])(.*\2)/g,["sh_keyword","sh_string","sh_string"],-1],[/(s)([^A-Za-z0-9 \t])(.*\2.*\2)([ixsmogce]*(?=[ \t]*(?:\)|;)))/g,["sh_keyword","sh_regexp","sh_regexp","sh_keyword"],-1],[/(s)([^A-Za-z0-9 \t])(.*\2[ \t]*)([^A-Za-z0-9 \t])(.*\4)([ixsmogce]*(?=[ \t]*(?:\)|;)))/g,["sh_keyword","sh_regexp","sh_regexp","sh_regexp","sh_regexp","sh_keyword"],-1],[/#/g,"sh_comment",1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/(?:m|qr)(?=\{)/g,"sh_keyword",2],[/(?:m|qr)(?=#)/g,"sh_keyword",4],[/(?:m|qr)(?=\|)/g,"sh_keyword",6],[/(?:m|qr)(?=@)/g,"sh_keyword",8],[/(?:m|qr)(?=<)/g,"sh_keyword",10],[/(?:m|qr)(?=\[)/g,"sh_keyword",12],[/(?:m|qr)(?=\\)/g,"sh_keyword",14],[/(?:m|qr)(?=\/)/g,"sh_keyword",16],[/"/g,"sh_string",18],[/'/g,"sh_string",19],[/</g,"sh_string",20],[/\/[^\n]*\//g,"sh_string",-1],[/\b(?:chomp|chop|chr|crypt|hex|i|index|lc|lcfirst|length|oct|ord|pack|q|qq|reverse|rindex|sprintf|substr|tr|uc|ucfirst|m|s|g|qw|abs|atan2|cos|exp|hex|int|log|oct|rand|sin|sqrt|srand|my|local|our|delete|each|exists|keys|values|pack|read|syscall|sysread|syswrite|unpack|vec|undef|unless|return|length|grep|sort|caller|continue|dump|eval|exit|goto|last|next|redo|sub|wantarray|pop|push|shift|splice|unshift|split|switch|join|defined|foreach|last|chop|chomp|bless|dbmclose|dbmopen|ref|tie|tied|untie|while|next|map|eq|die|cmp|lc|uc|and|do|if|else|elsif|for|use|require|package|import|chdir|chmod|chown|chroot|fcntl|glob|ioctl|link|lstat|mkdir|open|opendir|readlink|rename|rmdir|stat|symlink|umask|unlink|utime|binmode|close|closedir|dbmclose|dbmopen|die|eof|fileno|flock|format|getc|print|printf|read|readdir|rewinddir|seek|seekdir|select|syscall|sysread|sysseek|syswrite|tell|telldir|truncate|warn|write|alarm|exec|fork|getpgrp|getppid|getpriority|kill|pipe|qx|setpgrp|setpriority|sleep|system|times|x|wait|waitpid)\b/g,"sh_keyword",-1],[/^\=(?:head1|head2|item)/g,"sh_comment",21],[/(?:\$[#]?|@|%)[\/A-Za-z0-9_]+/g,"sh_variable",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2]],[[/\{/g,"sh_regexp",3]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\\{|\\\}|\}/g,"sh_regexp",-3]],[[/#/g,"sh_regexp",5]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\#|#/g,"sh_regexp",-3]],[[/\|/g,"sh_regexp",7]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\\||\|/g,"sh_regexp",-3]],[[/@/g,"sh_regexp",9]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\@|@/g,"sh_regexp",-3]],[[/</g,"sh_regexp",11]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\<|\\>|>/g,"sh_regexp",-3]],[[/\[/g,"sh_regexp",13]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\]|\]/g,"sh_regexp",-3]],[[/\\/g,"sh_regexp",15]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\\\|\\/g,"sh_regexp",-3]],[[/\//g,"sh_regexp",17]],[[/[ \t]+#.*/g,"sh_comment",-1],[/\$(?:[A-Za-z0-9_]+|\{[A-Za-z0-9_]+\})/g,"sh_variable",-1],[/\\\/|\//g,"sh_regexp",-3]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/\=cut/g,"sh_comment",-2]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.php=[[[/\b(?:include|include_once|require|require_once)\b/g,"sh_preproc",-1],[/\/\//g,"sh_comment",1],[/#/g,"sh_comment",1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",2],[/'/g,"sh_string",3],[/\b(?:and|or|xor|__FILE__|exception|php_user_filter|__LINE__|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|each|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|for|foreach|function|global|if|isset|list|new|old_function|print|return|static|switch|unset|use|var|while|__FUNCTION__|__CLASS__|__METHOD__)\b/g,"sh_keyword",-1],[/\/\/\//g,"sh_comment",4],[/\/\//g,"sh_comment",1],[/\/\*\*/g,"sh_comment",9],[/\/\*/g,"sh_comment",10],[/(?:\$[#]?|@|%)[A-Za-z0-9_]+/g,"sh_variable",-1],[/<\?php|~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\{|\}/g,"sh_cbracket",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",5,1],[/<!DOCTYPE/g,"sh_preproc",6,1],[/<!--/g,"sh_comment",7],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",8,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",8,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",7]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",5,1],[/<!DOCTYPE/g,"sh_preproc",6,1],[/<!--/g,"sh_comment",7],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",8,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",8,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.python=[[[/\b(?:import|from)\b/g,"sh_preproc",-1],[/#/g,"sh_comment",1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/\b(?:and|assert|break|class|continue|def|del|elif|else|except|exec|finally|for|global|if|in|is|lambda|not|or|pass|print|raise|return|try|while)\b/g,"sh_keyword",-1],[/^(?:[\s]*'{3})/g,"sh_comment",2],[/^(?:[\s]*\"{3})/g,"sh_comment",3],[/^(?:[\s]*'(?:[^\\']|\\.)*'[\s]*|[\s]*\"(?:[^\\\"]|\\.)*\"[\s]*)$/g,"sh_comment",-1],[/(?:[\s]*'{3})/g,"sh_string",4],[/(?:[\s]*\"{3})/g,"sh_string",5],[/"/g,"sh_string",6],[/'/g,"sh_string",7],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\||\{|\}/g,"sh_symbol",-1],[/(?:[A-Za-z]|_)[A-Za-z0-9_]*(?=[ \t]*\()/g,"sh_function",-1]],[[/$/g,null,-2]],[[/(?:'{3})/g,"sh_comment",-2]],[[/(?:\"{3})/g,"sh_comment",-2]],[[/(?:'{3})/g,"sh_string",-2]],[[/(?:\"{3})/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.ruby=[[[/\b(?:require)\b/g,"sh_preproc",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1],[/"/g,"sh_string",1],[/'/g,"sh_string",2],[/</g,"sh_string",3],[/\/[^\n]*\//g,"sh_regexp",-1],[/(%r)(\{(?:\\\}|#\{[A-Za-z0-9]+\}|[^}])*\})/g,["sh_symbol","sh_regexp"],-1],[/\b(?:alias|begin|BEGIN|break|case|defined|do|else|elsif|end|END|ensure|for|if|in|include|loop|next|raise|redo|rescue|retry|return|super|then|undef|unless|until|when|while|yield|false|nil|self|true|__FILE__|__LINE__|and|not|or|def|class|module|catch|fail|load|throw)\b/g,"sh_keyword",-1],[/(?:^\=begin)/g,"sh_comment",4],[/(?:\$[#]?|@@|@)(?:[A-Za-z0-9_]+|'|\"|\/)/g,"sh_type",-1],[/[A-Za-z0-9]+(?:\?|!)/g,"sh_normal",-1],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/(#)(\{)/g,["sh_symbol","sh_cbracket"],-1],[/#/g,"sh_comment",5],[/\{|\}/g,"sh_cbracket",-1]],[[/$/g,null,-2],[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/$/g,null,-2],[/\\(?:\\|')/g,null,-1],[/'/g,"sh_string",-2]],[[/$/g,null,-2],[/>/g,"sh_string",-2]],[[/^(?:\=end)/g,"sh_comment",-2]],[[/$/g,null,-2]]];if(!this.sh_languages){this.sh_languages={}}sh_languages.sql=[[[/\b(?:VARCHAR|TINYINT|TEXT|DATE|SMALLINT|MEDIUMINT|INT|BIGINT|FLOAT|DOUBLE|DECIMAL|DATETIME|TIMESTAMP|TIME|YEAR|UNSIGNED|CHAR|TINYBLOB|TINYTEXT|BLOB|MEDIUMBLOB|MEDIUMTEXT|LONGBLOB|LONGTEXT|ENUM|BOOL|BINARY|VARBINARY)\b/gi,"sh_type",-1],[/\b(?:ALL|ASC|AS|ALTER|AND|ADD|AUTO_INCREMENT|BETWEEN|BINARY|BOTH|BY|BOOLEAN|CHANGE|CHECK|COLUMNS|COLUMN|CROSS|CREATE|DATABASES|DATABASE|DATA|DELAYED|DESCRIBE|DESC|DISTINCT|DELETE|DROP|DEFAULT|ENCLOSED|ESCAPED|EXISTS|EXPLAIN|FIELDS|FIELD|FLUSH|FOR|FOREIGN|FUNCTION|FROM|GROUP|GRANT|HAVING|IGNORE|INDEX|INFILE|INSERT|INNER|INTO|IDENTIFIED|IN|IS|IF|JOIN|KEYS|KILL|KEY|LEADING|LIKE|LIMIT|LINES|LOAD|LOCAL|LOCK|LOW_PRIORITY|LEFT|LANGUAGE|MODIFY|NATURAL|NOT|NULL|NEXTVAL|OPTIMIZE|OPTION|OPTIONALLY|ORDER|OUTFILE|OR|OUTER|ON|PROCEDURE|PROCEDURAL|PRIMARY|READ|REFERENCES|REGEXP|RENAME|REPLACE|RETURN|REVOKE|RLIKE|RIGHT|SHOW|SONAME|STATUS|STRAIGHT_JOIN|SELECT|SETVAL|SET|TABLES|TERMINATED|TO|TRAILING|TRUNCATE|TABLE|TEMPORARY|TRIGGER|TRUSTED|UNIQUE|UNLOCK|USE|USING|UPDATE|VALUES|VARIABLES|VIEW|WITH|WRITE|WHERE|ZEROFILL|TYPE|XOR)\b/gi,"sh_keyword",-1],[/"/g,"sh_string",1],[/'/g,"sh_string",2],[/`/g,"sh_string",3],[/#/g,"sh_comment",4],[/\/\/\//g,"sh_comment",5],[/\/\//g,"sh_comment",4],[/\/\*\*/g,"sh_comment",11],[/\/\*/g,"sh_comment",12],[/--/g,"sh_comment",4],[/~|!|%|\^|\*|\(|\)|-|\+|=|\[|\]|\\|:|;|,|\.|\/|\?|&|<|>|\|/g,"sh_symbol",-1],[/\b[+-]?(?:(?:0x[A-Fa-f0-9]+)|(?:(?:[\d]*\.)?[\d]+(?:[eE][+-]?[\d]+)?))u?(?:(?:int(?:8|16|32|64))|L)?\b/g,"sh_number",-1]],[[/"/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/'/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/`/g,"sh_string",-2],[/\\./g,"sh_specialchar",-1]],[[/$/g,null,-2]],[[/$/g,null,-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",6,1],[/<!DOCTYPE/g,"sh_preproc",8,1],[/<!--/g,"sh_comment",9],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",10,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",10,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",7]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",7]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",9]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",7]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/<\?xml/g,"sh_preproc",6,1],[/<!DOCTYPE/g,"sh_preproc",8,1],[/<!--/g,"sh_comment",9],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",10,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z][A-Za-z0-9]*/g,"sh_keyword",10,1],[/@[A-Za-z]+/g,"sh_type",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]],[[/\*\//g,"sh_comment",-2],[/(?:<?)[A-Za-z0-9_\.\/\-_~]+@[A-Za-z0-9_\.\/\-_~]+(?:>?)|(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_~]+(?:>?)/g,"sh_url",-1],[/(?:TODO|FIXME|BUG)(?:[:]?)/g,"sh_todo",-1]]];if(!this.sh_languages){this.sh_languages={};}
sh_languages['url']=[[{'regex':/(?:<?)[A-Za-z0-9_\.\/\-_]+@[A-Za-z0-9_\.\/\-_]+(?:>?)/g,'style':'sh_url'},{'regex':/(?:<?)[A-Za-z0-9_]+:\/\/[A-Za-z0-9_\.\/\-_]+(?:>?)/g,'style':'sh_url'}]];if(!this.sh_languages){this.sh_languages={}}sh_languages.xml=[[[/<\?xml/g,"sh_preproc",1,1],[/<!DOCTYPE/g,"sh_preproc",3,1],[/<!--/g,"sh_comment",4],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)(?:\/)?>/g,"sh_keyword",-1],[/<(?:\/)?[A-Za-z](?:[A-Za-z0-9_:.-]*)/g,"sh_keyword",5,1],[/&(?:[A-Za-z0-9]+);/g,"sh_preproc",-1]],[[/\?>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/\\(?:\\|")/g,null,-1],[/"/g,"sh_string",-2]],[[/>/g,"sh_preproc",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]],[[/-->/g,"sh_comment",-2],[/<!--/g,"sh_comment",4]],[[/(?:\/)?>/g,"sh_keyword",-2],[/([^=" \t>]+)([ \t]*)(=?)/g,["sh_type","sh_normal","sh_symbol"],-1],[/"/g,"sh_string",2]]];;(function(jQuery){jQuery.hotkeys={version:"0.8+",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",224:"meta"},shiftNums:{"`":"~","1":"!","2":"@","3":"#","4":"$","5":"%","6":"^","7":"&","8":"*","9":"(","0":")","-":"_","=":"+",";":": ","'":"\"",",":"<",".":">","/":"?","\\":"|"}};function keyHandler(handleObj){var origHandler=handleObj.handler,keys=(handleObj.namespace||"").toLowerCase().split(" ");keys=jQuery.map(keys,function(key){return key.split(".");});if(keys.length===1&&(keys[0]===""||keys[0]==="autocomplete")){return;}
handleObj.handler=function(event){if(this!==event.target&&(/textarea|select/i.test(event.target.nodeName)||event.target.type==="text"||$(event.target).prop('contenteditable')=='true')){return;}
var special=event.type!=="keypress"&&jQuery.hotkeys.specialKeys[event.which],character=String.fromCharCode(event.which).toLowerCase(),key,modif="",possible={};if(event.altKey&&special!=="alt"){modif+="alt_";}
if(event.ctrlKey&&special!=="ctrl"){modif+="ctrl_";}
if(event.metaKey&&!event.ctrlKey&&special!=="meta"){modif+="meta_";}
if(event.shiftKey&&special!=="shift"){modif+="shift_";}
if(special){possible[modif+special]=true;}else{possible[modif+character]=true;possible[modif+jQuery.hotkeys.shiftNums[character]]=true;if(modif==="shift_"){possible[jQuery.hotkeys.shiftNums[character]]=true;}}
for(var i=0,l=keys.length;i<l;i++){if(possible[keys[i]]){return origHandler.apply(this,arguments);}}};}
jQuery.each(["keydown","keyup","keypress"],function(){jQuery.event.special[this]={add:keyHandler};});})(jQuery);;(function($,document,undefined){var pluses=/\+/g;function raw(s){return s;}
function decoded(s){return unRfc2068(decodeURIComponent(s.replace(pluses,' ')));}
function unRfc2068(value){if(value.indexOf('"')===0){value=value.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,'\\');}
return value;}
function fromJSON(value){return config.json?JSON.parse(value):value;}
var config=$.cookie=function(key,value,options){if(value!==undefined){options=$.extend({},config.defaults,options);if(value===null){options.expires=-1;}
if(typeof options.expires==='number'){var days=options.expires,t=options.expires=new Date();t.setDate(t.getDate()+days);}
value=config.json?JSON.stringify(value):String(value);return(document.cookie=[encodeURIComponent(key),'=',config.raw?value:encodeURIComponent(value),options.expires?'; expires='+options.expires.toUTCString():'',options.path?'; path='+options.path:'',options.domain?'; domain='+options.domain:'',options.secure?'; secure':''].join(''));}
var decode=config.raw?raw:decoded;var cookies=document.cookie.split('; ');var result=key?null:{};for(var i=0,l=cookies.length;i<l;i++){var parts=cookies[i].split('=');var name=decode(parts.shift());var cookie=decode(parts.join('='));if(key&&key===name){result=fromJSON(cookie);break;}
if(!key){result[name]=fromJSON(cookie);}}
return result;};config.defaults={};$.removeCookie=function(key,options){if($.cookie(key)!==null){$.cookie(key,null,options);return true;}
return false;};})(jQuery,document);;(function($){$.fn.extend({evaSelect:function(options){if(!$.browser.msie||($.browser.msie&&$.browser.version>6)){return this.each(function(){if($(this).hasClass('EVAready')){return;}
var currentSelected=$(this).find(':selected');color='light';if($(this).hasClass('dark'))
{color='dark';}
$(this).wrap('<div class="evaInt_select '+color+'">');$(this).wrap('<div class="selS">');var selectBoxSpan=$(this).closest('.evaInt_select');selectBoxSpan.prepend('<p class="selTxt">'+currentSelected.text()+'</p>')
var selectBoxWidth=parseInt($(this).width())-parseInt(selectBoxSpan.css('padding-left'))-parseInt(selectBoxSpan.css('padding-right'));var selectBoxSpanInner=selectBoxSpan.find('.selTxt');selectBoxWidthSelect=selectBoxWidth;selectBoxWidthRoot=selectBoxWidth;if($(this).attr('width')!=undefined){selectBoxSpan.css("width",$(this).attr("width"));$(this).removeAttr('width');}
$(this).change(function(){selectBoxSpanInner.text($('option:selected',this).text()).parent().addClass('changed');});$(this).addClass('EVAready');});}},evaFile:function(options){if(!$.browser.msie||($.browser.msie&&$.browser.version>6)){return this.each(function(){if($(this).hasClass('EVAready')){return;}
color='light';if($(this).hasClass('dark'))
{color='dark';}
var formtitle=$(this).attr('data-formtitle');if(void 0===$(this).attr('data-formtitle'))formtitle="Ð¤Ð°Ð¹Ð» Ð½Ðµ Ð²ÑÐ±ÑÐ°Ð½";$(this).wrap('<div class="evaInt_upload '+color+'">');$(this).wrap('<div class="upU">');var selectBoxSpan=$(this).closest('.evaInt_upload');selectBoxSpan.prepend('<p class="upTxt" title="'+formtitle+'">'+formtitle+'</p>')
var selectBoxWidth=parseInt($(this).width())-parseInt(selectBoxSpan.css('padding-left'))-parseInt(selectBoxSpan.css('padding-right'));var selectBoxSpanInner=selectBoxSpan.find('.upTxt');selectBoxWidthSelect=selectBoxWidth;selectBoxWidthRoot=selectBoxWidth;if($(this).attr('width')!=undefined){selectBoxSpan.css("width",$(this).attr("width"));$(this).removeAttr('width');}
$(this).change(function(){var name=this.value;reWin=/.*\\(.*)/;var fileTitle=name.replace(reWin,"$1");reUnix=/.*\/(.*)/;fileTitle=fileTitle.replace(reUnix,"$1");selectBoxSpan.find('.upTxt').html(fileTitle);});$(this).addClass('EVAready');});}}});})(jQuery);;(function($,window,document,undefined){var $window=$(window);$.fn.lazyload=function(options){var elements=this;var $container;var settings={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:window,data_attribute:"original",skip_invisible:true,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};function update(){var counter=0;elements.each(function(){var $this=$(this);if(settings.skip_invisible&&!$this.is(":visible")){return;}
if($.abovethetop(this,settings)||$.leftofbegin(this,settings)){}else if(!$.belowthefold(this,settings)&&!$.rightoffold(this,settings)){$this.trigger("appear");counter=0;}else{if(++counter>settings.failure_limit){return false;}}});}
if(options){if(undefined!==options.failurelimit){options.failure_limit=options.failurelimit;delete options.failurelimit;}
if(undefined!==options.effectspeed){options.effect_speed=options.effectspeed;delete options.effectspeed;}
$.extend(settings,options);}
$container=(settings.container===undefined||settings.container===window)?$window:$(settings.container);if(0===settings.event.indexOf("scroll")){$container.bind(settings.event,function(){return update();});}
this.each(function(){var self=this;var $self=$(self);self.loaded=false;if($self.attr("src")===undefined||$self.attr("src")===false){if($self.is("img")){$self.attr("src",settings.placeholder);}}
$self.one("appear",function(){if(!this.loaded){if(settings.appear){var elements_left=elements.length;settings.appear.call(self,elements_left,settings);}
$("<img />").bind("load",function(){var original=$self.attr("data-"+settings.data_attribute);$self.hide();if($self.is("img")){$self.attr("src",original);}else{$self.css("background-image","url('"+original+"')");}
$self[settings.effect](settings.effect_speed);self.loaded=true;var temp=$.grep(elements,function(element){return!element.loaded;});elements=$(temp);if(settings.load){var elements_left=elements.length;settings.load.call(self,elements_left,settings);}}).attr("src",$self.attr("data-"+settings.data_attribute));}});if(0!==settings.event.indexOf("scroll")){$self.bind(settings.event,function(){if(!self.loaded){$self.trigger("appear");}});}});$window.bind("resize",function(){update();});if((/(?:iphone|ipod|ipad).*os 5/gi).test(navigator.appVersion)){$window.bind("pageshow",function(event){if(event.originalEvent&&event.originalEvent.persisted){elements.each(function(){$(this).trigger("appear");});}});}
$(document).ready(function(){update();});return this;};$.belowthefold=function(element,settings){var fold;if(settings.container===undefined||settings.container===window){fold=(window.innerHeight?window.innerHeight:$window.height())+$window.scrollTop();}else{fold=$(settings.container).offset().top+$(settings.container).height();}
return fold<=$(element).offset().top-settings.threshold;};$.rightoffold=function(element,settings){var fold;if(settings.container===undefined||settings.container===window){fold=$window.width()+$window.scrollLeft();}else{fold=$(settings.container).offset().left+$(settings.container).width();}
return fold<=$(element).offset().left-settings.threshold;};$.abovethetop=function(element,settings){var fold;if(settings.container===undefined||settings.container===window){fold=$window.scrollTop();}else{fold=$(settings.container).offset().top;}
return fold>=$(element).offset().top+settings.threshold+$(element).height();};$.leftofbegin=function(element,settings){var fold;if(settings.container===undefined||settings.container===window){fold=$window.scrollLeft();}else{fold=$(settings.container).offset().left;}
return fold>=$(element).offset().left+settings.threshold+$(element).width();};$.inviewport=function(element,settings){return!$.rightoffold(element,settings)&&!$.leftofbegin(element,settings)&&!$.belowthefold(element,settings)&&!$.abovethetop(element,settings);};$.extend($.expr[":"],{"below-the-fold":function(a){return $.belowthefold(a,{threshold:0});},"above-the-top":function(a){return!$.belowthefold(a,{threshold:0});},"right-of-screen":function(a){return $.rightoffold(a,{threshold:0});},"left-of-screen":function(a){return!$.rightoffold(a,{threshold:0});},"in-viewport":function(a){return $.inviewport(a,{threshold:0});},"above-the-fold":function(a){return!$.belowthefold(a,{threshold:0});},"right-of-fold":function(a){return $.rightoffold(a,{threshold:0});},"left-of-fold":function(a){return!$.rightoffold(a,{threshold:0});}});})(jQuery,window,document);;(function($){$.fn.antiscroll=function(options){return this.each(function(){if($(this).data('antiscroll')){$(this).data('antiscroll').destroy();}
$(this).data('antiscroll',new $.Antiscroll(this,options));});};$.Antiscroll=Antiscroll;function Antiscroll(el,opts){this.el=$(el);this.options=opts||{};this.x=(false!==this.options.x)||this.options.forceHorizontal;this.y=(false!==this.options.y)||this.options.forceVertical;this.autoHide=false!==this.options.autoHide;this.padding=undefined==this.options.padding?2:this.options.padding;this.inner=this.el.find('.antiscroll-inner');this.inner.css({'width':'+='+(this.y?scrollbarSize():0),'height':'+='+(this.x?scrollbarSize():0)});this.refresh();};Antiscroll.prototype.refresh=function(){var needHScroll=this.inner.get(0).scrollWidth>this.el.width()+(this.y?scrollbarSize():0),needVScroll=this.inner.get(0).scrollHeight>this.el.height()+(this.x?scrollbarSize():0);if(this.x){if(!this.horizontal&&needHScroll){this.horizontal=new Scrollbar.Horizontal(this);}else if(this.horizontal&&!needHScroll){this.horizontal.destroy();this.horizontal=null;}else if(this.horizontal){this.horizontal.update();}}
if(this.y){if(!this.vertical&&needVScroll){this.vertical=new Scrollbar.Vertical(this);}else if(this.vertical&&!needVScroll){this.vertical.destroy();this.vertical=null;}else if(this.vertical){this.vertical.update();}}};Antiscroll.prototype.destroy=function(){if(this.horizontal){this.horizontal.destroy();this.horizontal=null}
if(this.vertical){this.vertical.destroy();this.vertical=null}
return this;};Antiscroll.prototype.rebuild=function(){this.destroy();this.inner.attr('style','');Antiscroll.call(this,this.el,this.options);return this;};function Scrollbar(pane){this.pane=pane;this.pane.el.append(this.el);this.innerEl=this.pane.inner.get(0);this.dragging=false;this.enter=false;this.shown=false;this.pane.el.mouseenter($.proxy(this,'mouseenter'));this.pane.el.mouseleave($.proxy(this,'mouseleave'));this.el.mousedown($.proxy(this,'mousedown'));this.innerPaneScrollListener=$.proxy(this,'scroll');this.pane.inner.scroll(this.innerPaneScrollListener);this.innerPaneMouseWheelListener=$.proxy(this,'mousewheel');this.pane.inner.bind('mousewheel',this.innerPaneMouseWheelListener);var initialDisplay=this.pane.options.initialDisplay;if(initialDisplay!==false){this.show();if(this.pane.autoHide){this.hiding=setTimeout($.proxy(this,'hide'),parseInt(initialDisplay,10)||3000);}}};Scrollbar.prototype.destroy=function(){this.el.remove();this.pane.inner.unbind('scroll',this.innerPaneScrollListener);this.pane.inner.unbind('mousewheel',this.innerPaneMouseWheelListener);return this;};Scrollbar.prototype.mouseenter=function(){this.enter=true;this.show();};Scrollbar.prototype.mouseleave=function(){this.enter=false;if(!this.dragging){if(this.pane.autoHide){this.hide();}}};Scrollbar.prototype.scroll=function(){if(!this.shown){this.show();if(!this.enter&&!this.dragging){if(this.pane.autoHide){this.hiding=setTimeout($.proxy(this,'hide'),1500);}}}
this.update();};Scrollbar.prototype.mousedown=function(ev){ev.preventDefault();this.dragging=true;this.startPageY=ev.pageY-parseInt(this.el.css('top'),10);this.startPageX=ev.pageX-parseInt(this.el.css('left'),10);this.el[0].ownerDocument.onselectstart=function(){return false;};var pane=this.pane,move=$.proxy(this,'mousemove'),self=this
$(this.el[0].ownerDocument).mousemove(move).mouseup(function(){self.dragging=false;this.onselectstart=null;$(this).unbind('mousemove',move);if(!self.enter){self.hide();}});};Scrollbar.prototype.show=function(duration){if(!this.shown&&this.update()){this.el.addClass('antiscroll-scrollbar-shown');if(this.hiding){clearTimeout(this.hiding);this.hiding=null;}
this.shown=true;}};Scrollbar.prototype.hide=function(){if(this.pane.autoHide!==false&&this.shown){this.el.removeClass('antiscroll-scrollbar-shown');this.shown=false;}};Scrollbar.Horizontal=function(pane){this.el=$('<div class="antiscroll-scrollbar antiscroll-scrollbar-horizontal">',pane.el);Scrollbar.call(this,pane);};inherits(Scrollbar.Horizontal,Scrollbar);Scrollbar.Horizontal.prototype.update=function(){var paneWidth=this.pane.el.width(),trackWidth=paneWidth-this.pane.padding*2,innerEl=this.pane.inner.get(0)
this.el.css('width',trackWidth*paneWidth/innerEl.scrollWidth).css('left',trackWidth*innerEl.scrollLeft/innerEl.scrollWidth);return paneWidth<innerEl.scrollWidth;};Scrollbar.Horizontal.prototype.mousemove=function(ev){var trackWidth=this.pane.el.width()-this.pane.padding*2,pos=ev.pageX-this.startPageX,barWidth=this.el.width(),innerEl=this.pane.inner.get(0)
var y=Math.min(Math.max(pos,0),trackWidth-barWidth);innerEl.scrollLeft=(innerEl.scrollWidth-this.pane.el.width())*y/(trackWidth-barWidth);};Scrollbar.Horizontal.prototype.mousewheel=function(ev,delta,x,y){if((x<0&&0==this.pane.inner.get(0).scrollLeft)||(x>0&&(this.innerEl.scrollLeft+Math.ceil(this.pane.el.width())==this.innerEl.scrollWidth))){ev.preventDefault();return false;}};Scrollbar.Vertical=function(pane){this.el=$('<div class="antiscroll-scrollbar antiscroll-scrollbar-vertical">',pane.el);Scrollbar.call(this,pane);};inherits(Scrollbar.Vertical,Scrollbar);Scrollbar.Vertical.prototype.update=function(){var paneHeight=this.pane.el.height(),trackHeight=paneHeight-this.pane.padding*2,innerEl=this.innerEl;var scrollbarHeight=trackHeight*paneHeight/innerEl.scrollHeight;scrollbarHeight=scrollbarHeight<20?20:scrollbarHeight;var topPos=trackHeight*innerEl.scrollTop/innerEl.scrollHeight;if((topPos+scrollbarHeight)>trackHeight){var diff=(topPos+scrollbarHeight)-trackHeight;topPos=topPos-diff-3;}
this.el.css('height',scrollbarHeight).css('top',topPos);return paneHeight<innerEl.scrollHeight;};Scrollbar.Vertical.prototype.mousemove=function(ev){var paneHeight=this.pane.el.height(),trackHeight=paneHeight-this.pane.padding*2,pos=ev.pageY-this.startPageY,barHeight=this.el.height(),innerEl=this.innerEl
var y=Math.min(Math.max(pos,0),trackHeight-barHeight);innerEl.scrollTop=(innerEl.scrollHeight-paneHeight)*y/(trackHeight-barHeight);};Scrollbar.Vertical.prototype.mousewheel=function(ev,delta,x,y){if((y>0&&0==this.innerEl.scrollTop)||(y<0&&(this.innerEl.scrollTop+Math.ceil(this.pane.el.height())==this.innerEl.scrollHeight))){ev.preventDefault();return false;}};function inherits(ctorA,ctorB){function f(){};f.prototype=ctorB.prototype;ctorA.prototype=new f;};var size;function scrollbarSize(){if(size===undefined){var div=$('<div class="antiscroll-inner" style="width:50px;height:50px;overflow-y:scroll;'
+'position:absolute;top:-200px;left:-200px;"><div style="height:100px;width:100%">'
+'</div>');$('body').append(div);var w1=$(div).innerWidth();var w2=$('div',div).innerWidth();$(div).remove();size=w1-w2;}
return size;};})(jQuery);;(function(factory){if(typeof define==='function'&&define.amd){define(['jquery'],factory);}else if(typeof exports==='object'){module.exports=factory;}else{factory(jQuery);}}(function($){var toFix=['wheel','mousewheel','DOMMouseScroll','MozMousePixelScroll'];var toBind='onwheel'in document||document.documentMode>=9?['wheel']:['mousewheel','DomMouseScroll','MozMousePixelScroll'];var lowestDelta,lowestDeltaXY;if($.event.fixHooks){for(var i=toFix.length;i;){$.event.fixHooks[toFix[--i]]=$.event.mouseHooks;}}
$.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var i=toBind.length;i;){this.addEventListener(toBind[--i],handler,false);}}else{this.onmousewheel=handler;}},teardown:function(){if(this.removeEventListener){for(var i=toBind.length;i;){this.removeEventListener(toBind[--i],handler,false);}}else{this.onmousewheel=null;}}};$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel");},unmousewheel:function(fn){return this.unbind("mousewheel",fn);}});function handler(event){var orgEvent=event||window.event,args=[].slice.call(arguments,1),delta=0,deltaX=0,deltaY=0,absDelta=0,absDeltaXY=0,fn;event=$.event.fix(orgEvent);event.type="mousewheel";if(orgEvent.wheelDelta){delta=orgEvent.wheelDelta;}
if(orgEvent.detail){delta=orgEvent.detail*-1;}
if(orgEvent.deltaY){deltaY=orgEvent.deltaY*-1;delta=deltaY;}
if(orgEvent.deltaX){deltaX=orgEvent.deltaX;delta=deltaX*-1;}
if(orgEvent.wheelDeltaY!==undefined){deltaY=orgEvent.wheelDeltaY;}
if(orgEvent.wheelDeltaX!==undefined){deltaX=orgEvent.wheelDeltaX*-1;}
absDelta=Math.abs(delta);if(!lowestDelta||absDelta<lowestDelta){lowestDelta=absDelta;}
absDeltaXY=Math.max(Math.abs(deltaY),Math.abs(deltaX));if(!lowestDeltaXY||absDeltaXY<lowestDeltaXY){lowestDeltaXY=absDeltaXY;}
fn=delta>0?'floor':'ceil';delta=Math[fn](delta/lowestDelta);deltaX=Math[fn](deltaX/lowestDeltaXY);deltaY=Math[fn](deltaY/lowestDeltaXY);args.unshift(event,delta,deltaX,deltaY);return($.event.dispatch||$.event.handle).apply(this,args);}}));;(function(){var f=0,l=[],n={},j={},a={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},m=/[<>&\"\']/g,b,c=window.setTimeout,d={},e;function h(){this.returnValue=false}function k(){this.cancelBubble=true}(function(o){var p=o.split(/,/),q,s,r;for(q=0;q<p.length;q+=2){r=p[q+1].split(/ /);for(s=0;s<r.length;s++){j[r[s]]=p[q]}}})("application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mpga mpega mp2 mp3,audio/x-wav,wav,audio/mp4,m4a,image/bmp,bmp,image/gif,gif,image/jpeg,jpeg jpg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe");var g={VERSION:"1.5.7",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,IMAGE_FORMAT_ERROR:-700,IMAGE_MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:j,ua:(function(){var s=navigator,r=s.userAgent,t=s.vendor,p,o,q;p=/WebKit/.test(r);q=p&&t.indexOf("Apple")!==-1;o=window.opera&&window.opera.buildNumber;return{windows:navigator.platform.indexOf("Win")!==-1,android:/Android/.test(r),ie:!p&&!o&&(/MSIE/gi).test(r)&&(/Explorer/gi).test(s.appName),webkit:p,gecko:!p&&/Gecko/.test(r),safari:q,opera:!!o}}()),typeOf:function(p){return({}).toString.call(p).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},extend:function(o){g.each(arguments,function(p,q){if(q>0){g.each(p,function(s,r){o[r]=s})}});return o},cleanName:function(o){var p,q;q=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"];for(p=0;p<q.length;p+=2){o=o.replace(q[p],q[p+1])}o=o.replace(/\s+/g,"_");o=o.replace(/[^a-z0-9_\-\.]+/gi,"");return o},addRuntime:function(o,p){p.name=o;l[o]=p;l.push(p);return p},guid:function(){var o=new Date().getTime().toString(32),p;for(p=0;p<5;p++){o+=Math.floor(Math.random()*65535).toString(32)}return(g.guidPrefix||"p")+o+(f++).toString(32)},buildUrl:function(p,o){var q="";g.each(o,function(s,r){q+=(q?"&":"")+encodeURIComponent(r)+"="+encodeURIComponent(s)});if(q){p+=(p.indexOf("?")>0?"&":"?")+q}return p},each:function(r,s){var q,p,o;if(r){q=r.length;if(q===b){for(p in r){if(r.hasOwnProperty(p)){if(s(r[p],p)===false){return}}}}else{for(o=0;o<q;o++){if(s(r[o],o)===false){return}}}}},formatSize:function(o){if(o===b||/\D/.test(o)){return g.translate("N/A")}if(o>1073741824){return Math.round(o/1073741824,1)+" GB"}if(o>1048576){return Math.round(o/1048576,1)+" MB"}if(o>1024){return Math.round(o/1024,1)+" KB"}return o+" b"},getPos:function(p,t){var u=0,s=0,w,v=document,q,r;p=p;t=t||v.body;function o(C){var A,B,z=0,D=0;if(C){B=C.getBoundingClientRect();A=v.compatMode==="CSS1Compat"?v.documentElement:v.body;z=B.left+A.scrollLeft;D=B.top+A.scrollTop}return{x:z,y:D}}if(p&&p.getBoundingClientRect&&g.ua.ie&&(!v.documentMode||v.documentMode<8)){q=o(p);r=o(t);return{x:q.x-r.x,y:q.y-r.y}}w=p;while(w&&w!=t&&w.nodeType){u+=w.offsetLeft||0;s+=w.offsetTop||0;w=w.offsetParent}w=p.parentNode;while(w&&w!=t&&w.nodeType){u-=w.scrollLeft||0;s-=w.scrollTop||0;w=w.parentNode}return{x:u,y:s}},getSize:function(o){return{w:o.offsetWidth||o.clientWidth,h:o.offsetHeight||o.clientHeight}},parseSize:function(o){var p;if(typeof(o)=="string"){o=/^([0-9]+)([mgk]?)$/.exec(o.toLowerCase().replace(/[^0-9mkg]/g,""));p=o[2];o=+o[1];if(p=="g"){o*=1073741824}if(p=="m"){o*=1048576}if(p=="k"){o*=1024}}return o},xmlEncode:function(o){return o?(""+o).replace(m,function(p){return a[p]?"&"+a[p]+";":p}):o},toArray:function(q){var p,o=[];for(p=0;p<q.length;p++){o[p]=q[p]}return o},inArray:function(q,r){if(r){if(Array.prototype.indexOf){return Array.prototype.indexOf.call(r,q)}for(var o=0,p=r.length;o<p;o++){if(r[o]===q){return o}}}return-1},addI18n:function(o){return g.extend(n,o)},translate:function(o){return n[o]||o},isEmptyObj:function(o){if(o===b){return true}for(var p in o){return false}return true},hasClass:function(q,p){var o;if(q.className==""){return false}o=new RegExp("(^|\\s+)"+p+"(\\s+|$)");return o.test(q.className)},addClass:function(p,o){if(!g.hasClass(p,o)){p.className=p.className==""?o:p.className.replace(/\s+$/,"")+" "+o}},removeClass:function(q,p){var o=new RegExp("(^|\\s+)"+p+"(\\s+|$)");q.className=q.className.replace(o,function(s,r,t){return r===" "&&t===" "?" ":""})},getStyle:function(p,o){if(p.currentStyle){return p.currentStyle[o]}else{if(window.getComputedStyle){return window.getComputedStyle(p,null)[o]}}},addEvent:function(t,o,u){var s,r,q,p;p=arguments[3];o=o.toLowerCase();if(e===b){e="Plupload_"+g.guid()}if(t.addEventListener){s=u;t.addEventListener(o,s,false)}else{if(t.attachEvent){s=function(){var v=window.event;if(!v.target){v.target=v.srcElement}v.preventDefault=h;v.stopPropagation=k;u(v)};t.attachEvent("on"+o,s)}}if(t[e]===b){t[e]=g.guid()}if(!d.hasOwnProperty(t[e])){d[t[e]]={}}r=d[t[e]];if(!r.hasOwnProperty(o)){r[o]=[]}r[o].push({func:s,orig:u,key:p})},removeEvent:function(t,o){var r,u,q;if(typeof(arguments[2])=="function"){u=arguments[2]}else{q=arguments[2]}o=o.toLowerCase();if(t[e]&&d[t[e]]&&d[t[e]][o]){r=d[t[e]][o]}else{return}for(var p=r.length-1;p>=0;p--){if(r[p].key===q||r[p].orig===u){if(t.removeEventListener){t.removeEventListener(o,r[p].func,false)}else{if(t.detachEvent){t.detachEvent("on"+o,r[p].func)}}r[p].orig=null;r[p].func=null;r.splice(p,1);if(u!==b){break}}}if(!r.length){delete d[t[e]][o]}if(g.isEmptyObj(d[t[e]])){delete d[t[e]];try{delete t[e]}catch(s){t[e]=b}}},removeAllEvents:function(p){var o=arguments[1];if(p[e]===b||!p[e]){return}g.each(d[p[e]],function(r,q){g.removeEvent(p,q,o)})}};g.Uploader=function(s){var p={},v,u=[],r,q=false;v=new g.QueueProgress();s=g.extend({chunk_size:0,multipart:true,multi_selection:true,file_data_name:"file",filters:[]},s);function t(){var x,y=0,w;if(this.state==g.STARTED){for(w=0;w<u.length;w++){if(!x&&u[w].status==g.QUEUED){x=u[w];x.status=g.UPLOADING;if(this.trigger("BeforeUpload",x)){this.trigger("UploadFile",x)}}else{y++}}if(y==u.length){this.stop();this.trigger("UploadComplete",u)}}}function o(){var x,w;v.reset();for(x=0;x<u.length;x++){w=u[x];if(w.size!==b){v.size+=w.size;v.loaded+=w.loaded}else{v.size=b}if(w.status==g.DONE){v.uploaded++}else{if(w.status==g.FAILED){v.failed++}else{v.queued++}}}if(v.size===b){v.percent=u.length>0?Math.ceil(v.uploaded/u.length*100):0}else{v.bytesPerSec=Math.ceil(v.loaded/((+new Date()-r||1)/1000));v.percent=v.size>0?Math.ceil(v.loaded/v.size*100):0}}g.extend(this,{state:g.STOPPED,runtime:"",features:{},files:u,settings:s,total:v,id:g.guid(),init:function(){var B=this,C,y,x,A=0,z;if(typeof(s.preinit)=="function"){s.preinit(B)}else{g.each(s.preinit,function(E,D){B.bind(D,E)})}s.page_url=s.page_url||document.location.pathname.replace(/\/[^\/]+$/g,"/");if(!/^(\w+:\/\/|\/)/.test(s.url)){s.url=s.page_url+s.url}s.chunk_size=g.parseSize(s.chunk_size);s.max_file_size=g.parseSize(s.max_file_size);B.bind("FilesAdded",function(D,G){var F,E,I=0,J,H=s.filters;if(H&&H.length){J=[];g.each(H,function(K){g.each(K.extensions.split(/,/),function(L){if(/^\s*\*\s*$/.test(L)){J.push("\\.*")}else{J.push("\\."+L.replace(new RegExp("["+("/^$.*+?|()[]{}\\".replace(/./g,"\\$&"))+"]","g"),"\\$&"))}})});J=new RegExp(J.join("|")+"$","i")}for(F=0;F<G.length;F++){E=G[F];E.loaded=0;E.percent=0;E.status=g.QUEUED;if(J&&!J.test(E.name)){D.trigger("Error",{code:g.FILE_EXTENSION_ERROR,message:g.translate("File extension error."),file:E});continue}if(E.size!==b&&E.size>s.max_file_size){D.trigger("Error",{code:g.FILE_SIZE_ERROR,message:g.translate("File size error."),file:E});continue}u.push(E);I++}if(I){c(function(){B.trigger("QueueChanged");B.refresh()},1)}else{return false}});if(s.unique_names){B.bind("UploadFile",function(D,E){var G=E.name.match(/\.([^.]+)$/),F="tmp";if(G){F=G[1]}E.target_name=E.id+"."+F})}B.bind("UploadProgress",function(D,E){E.percent=E.size>0?Math.ceil(E.loaded/E.size*100):100;o()});B.bind("StateChanged",function(D){if(D.state==g.STARTED){r=(+new Date())}else{if(D.state==g.STOPPED){for(C=D.files.length-1;C>=0;C--){if(D.files[C].status==g.UPLOADING){D.files[C].status=g.QUEUED;o()}}}}});B.bind("QueueChanged",o);B.bind("Error",function(D,E){if(E.file){E.file.status=g.FAILED;o();if(D.state==g.STARTED){c(function(){t.call(B)},1)}}});B.bind("FileUploaded",function(D,E){E.status=g.DONE;E.loaded=E.size;D.trigger("UploadProgress",E);c(function(){t.call(B)},1)});if(s.runtimes){y=[];z=s.runtimes.split(/\s?,\s?/);for(C=0;C<z.length;C++){if(l[z[C]]){y.push(l[z[C]])}}}else{y=l}function w(){var G=y[A++],F,D,E;if(G){F=G.getFeatures();D=B.settings.required_features;if(D){D=D.split(",");for(E=0;E<D.length;E++){if(!F[D[E]]){w();return}}}G.init(B,function(H){if(H&&H.success){B.features=F;B.runtime=G.name;B.trigger("Init",{runtime:G.name});B.trigger("PostInit");B.refresh()}else{w()}})}else{B.trigger("Error",{code:g.INIT_ERROR,message:g.translate("Init error.")})}}w();if(typeof(s.init)=="function"){s.init(B)}else{g.each(s.init,function(E,D){B.bind(D,E)})}},refresh:function(){this.trigger("Refresh")},start:function(){if(u.length&&this.state!=g.STARTED){this.state=g.STARTED;this.trigger("StateChanged");t.call(this)}},stop:function(){if(this.state!=g.STOPPED){this.state=g.STOPPED;this.trigger("CancelUpload");this.trigger("StateChanged")}},disableBrowse:function(){q=arguments[0]!==b?arguments[0]:true;this.trigger("DisableBrowse",q)},getFile:function(x){var w;for(w=u.length-1;w>=0;w--){if(u[w].id===x){return u[w]}}},removeFile:function(x){var w;for(w=u.length-1;w>=0;w--){if(u[w].id===x.id){return this.splice(w,1)[0]}}},splice:function(y,w){var x;x=u.splice(y===b?0:y,w===b?u.length:w);this.trigger("FilesRemoved",x);this.trigger("QueueChanged");return x},trigger:function(x){var z=p[x.toLowerCase()],y,w;if(z){w=Array.prototype.slice.call(arguments);w[0]=this;for(y=0;y<z.length;y++){if(z[y].func.apply(z[y].scope,w)===false){return false}}}return true},hasEventListener:function(w){return!!p[w.toLowerCase()]},bind:function(w,y,x){var z;w=w.toLowerCase();z=p[w]||[];z.push({func:y,scope:x||this});p[w]=z},unbind:function(w){w=w.toLowerCase();var z=p[w],x,y=arguments[1];if(z){if(y!==b){for(x=z.length-1;x>=0;x--){if(z[x].func===y){z.splice(x,1);break}}}else{z=[]}if(!z.length){delete p[w]}}},unbindAll:function(){var w=this;g.each(p,function(y,x){w.unbind(x)})},destroy:function(){this.stop();this.trigger("Destroy");this.unbindAll()}})};g.File=function(r,p,q){var o=this;o.id=r;o.name=p;o.size=q;o.loaded=0;o.percent=0;o.status=0};g.Runtime=function(){this.getFeatures=function(){};this.init=function(o,p){}};g.QueueProgress=function(){var o=this;o.size=0;o.loaded=0;o.uploaded=0;o.failed=0;o.queued=0;o.percent=0;o.bytesPerSec=0;o.reset=function(){o.size=o.loaded=o.uploaded=o.failed=o.queued=o.percent=o.bytesPerSec=0}};g.runtimes={};window.plupload=g})();(function(){if(window.google&&google.gears){return}var a=null;if(typeof GearsFactory!="undefined"){a=new GearsFactory()}else{try{a=new ActiveXObject("Gears.Factory");if(a.getBuildInfo().indexOf("ie_mobile")!=-1){a.privateSetGlobalObject(this)}}catch(b){if((typeof navigator.mimeTypes!="undefined")&&navigator.mimeTypes["application/x-googlegears"]){a=document.createElement("object");a.style.display="none";a.width=0;a.height=0;a.type="application/x-googlegears";document.documentElement.appendChild(a)}}}if(!a){return}if(!window.google){window.google={}}if(!google.gears){google.gears={factory:a}}})();(function(e,b,c,d){var f={};function a(h,k,m){var g,j,l,o;j=google.gears.factory.create("beta.canvas");try{j.decode(h);if(!k.width){k.width=j.width}if(!k.height){k.height=j.height}o=Math.min(k.width/j.width,k.height/j.height);if(o<1){j.resize(Math.round(j.width*o),Math.round(j.height*o))}else{if(!k.quality||m!=="image/jpeg"){return h}}if(k.quality){return j.encode(m,{quality:k.quality/100})}return j.encode(m)}catch(n){}return h}c.runtimes.Gears=c.addRuntime("gears",{getFeatures:function(){return{dragdrop:true,jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(l,n){var m,h,g=false;if(!e.google||!google.gears){return n({success:false})}try{m=google.gears.factory.create("beta.desktop")}catch(k){return n({success:false})}function j(q){var p,o,r=[],s;for(o=0;o<q.length;o++){p=q[o];s=c.guid();f[s]=p.blob;r.push(new c.File(s,p.name,p.blob.length))}l.trigger("FilesAdded",r)}l.bind("PostInit",function(){var p=l.settings,o=b.getElementById(p.drop_element);if(o){c.addEvent(o,"dragover",function(q){m.setDropEffect(q,"copy");q.preventDefault()},l.id);c.addEvent(o,"drop",function(r){var q=m.getDragData(r,"application/x-gears-files");if(q){j(q.files)}r.preventDefault()},l.id);o=0}c.addEvent(b.getElementById(p.browse_button),"click",function(u){var t=[],r,q,s;u.preventDefault();if(g){return}no_type_restriction:for(r=0;r<p.filters.length;r++){s=p.filters[r].extensions.split(",");for(q=0;q<s.length;q++){if(s[q]==="*"){t=[];break no_type_restriction}t.push("."+s[q])}}m.openFiles(j,{singleFile:!p.multi_selection,filter:t})},l.id)});l.bind("CancelUpload",function(){if(h.abort){h.abort()}});l.bind("UploadFile",function(u,r){var w=0,v,s,t=0,q=u.settings.resize,o;if(q&&/\.(png|jpg|jpeg)$/i.test(r.name)){f[r.id]=a(f[r.id],q,/\.png$/i.test(r.name)?"image/png":"image/jpeg")}r.size=f[r.id].length;s=u.settings.chunk_size;o=s>0;v=Math.ceil(r.size/s);if(!o){s=r.size;v=1}function p(){var C,y=u.settings.multipart,x=0,B={name:r.target_name||r.name},z=u.settings.url;function A(E){var D,J="----pluploadboundary"+c.guid(),G="--",I="\r\n",F,H;if(y){h.setRequestHeader("Content-Type","multipart/form-data; boundary="+J);D=google.gears.factory.create("beta.blobbuilder");c.each(c.extend(B,u.settings.multipart_params),function(L,K){D.append(G+J+I+'Content-Disposition: form-data; name="'+K+'"'+I+I);D.append(L+I)});H=c.mimeTypes[r.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream";D.append(G+J+I+'Content-Disposition: form-data; name="'+u.settings.file_data_name+'"; filename="'+r.name+'"'+I+"Content-Type: "+H+I+I);D.append(E);D.append(I+G+J+G+I);F=D.getAsBlob();x=F.length-E.length;E=F}h.send(E)}if(r.status==c.DONE||r.status==c.FAILED||u.state==c.STOPPED){return}if(o){B.chunk=w;B.chunks=v}C=Math.min(s,r.size-(w*s));if(!y){z=c.buildUrl(u.settings.url,B)}h=google.gears.factory.create("beta.httprequest");h.open("POST",z);if(!y){h.setRequestHeader("Content-Disposition",'attachment; filename="'+r.name+'"');h.setRequestHeader("Content-Type","application/octet-stream")}c.each(u.settings.headers,function(E,D){h.setRequestHeader(D,E)});h.upload.onprogress=function(D){r.loaded=t+D.loaded-x;u.trigger("UploadProgress",r)};h.onreadystatechange=function(){var D;if(h.readyState==4&&u.state!==c.STOPPED){if(h.status==200){D={chunk:w,chunks:v,response:h.responseText,status:h.status};u.trigger("ChunkUploaded",r,D);if(D.cancelled){r.status=c.FAILED;return}t+=C;if(++w>=v){r.status=c.DONE;u.trigger("FileUploaded",r,{response:h.responseText,status:h.status})}else{p()}}else{u.trigger("Error",{code:c.HTTP_ERROR,message:c.translate("HTTP Error."),file:r,chunk:w,chunks:v,status:h.status})}}};if(w<v){A(f[r.id].slice(w*s,C))}}p()});l.bind("DisableBrowse",function(o,p){g=p});l.bind("Destroy",function(o){var p,q,r={browseButton:o.settings.browse_button,dropElm:o.settings.drop_element};for(p in r){q=b.getElementById(r[p]);if(q){c.removeAllEvents(q,o.id)}}});n({success:true})}})})(window,document,plupload);(function(g,b,d,e){var a={},h={};function c(o){var n,m=typeof o,j,l,k;if(o===e||o===null){return"null"}if(m==="string"){n="\bb\tt\nn\ff\rr\"\"''\\\\";return'"'+o.replace(/([\u0080-\uFFFF\x00-\x1f\"])/g,function(r,q){var p=n.indexOf(q);if(p+1){return"\\"+n.charAt(p+1)}r=q.charCodeAt().toString(16);return"\\u"+"0000".substring(r.length)+r})+'"'}if(m=="object"){j=o.length!==e;n="";if(j){for(l=0;l<o.length;l++){if(n){n+=","}n+=c(o[l])}n="["+n+"]"}else{for(k in o){if(o.hasOwnProperty(k)){if(n){n+=","}n+=c(k)+":"+c(o[k])}}n="{"+n+"}"}return n}return""+o}function f(s){var v=false,j=null,o=null,k,l,m,u,n,q=0;try{try{o=new ActiveXObject("AgControl.AgControl");if(o.IsVersionSupported(s)){v=true}o=null}catch(r){var p=navigator.plugins["Silverlight Plug-In"];if(p){k=p.description;if(k==="1.0.30226.2"){k="2.0.30226.2"}l=k.split(".");while(l.length>3){l.pop()}while(l.length<4){l.push(0)}m=s.split(".");while(m.length>4){m.pop()}do{u=parseInt(m[q],10);n=parseInt(l[q],10);q++}while(q<m.length&&u===n);if(u<=n&&!isNaN(u)){v=true}}}}catch(t){v=false}return v}d.silverlight={trigger:function(n,k){var m=a[n],l,j;if(m){j=d.toArray(arguments).slice(1);j[0]="Silverlight:"+k;setTimeout(function(){m.trigger.apply(m,j)},0)}}};d.runtimes.Silverlight=d.addRuntime("silverlight",{getFeatures:function(){return{jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(p,q){var o,m="",n=p.settings.filters,l,k=b.body;if(!f("2.0.31005.0")||(g.opera&&g.opera.buildNumber)){q({success:false});return}h[p.id]=false;a[p.id]=p;o=b.createElement("div");o.id=p.id+"_silverlight_container";d.extend(o.style,{position:"absolute",top:"0px",background:p.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100px",height:"100px",overflow:"hidden",opacity:p.settings.shim_bgcolor||b.documentMode>8?"":0.01});o.className="plupload silverlight";if(p.settings.container){k=b.getElementById(p.settings.container);if(d.getStyle(k,"position")==="static"){k.style.position="relative"}}k.appendChild(o);for(l=0;l<n.length;l++){m+=(m!=""?"|":"")+n[l].title+" | *."+n[l].extensions.replace(/,/g,";*.")}o.innerHTML='<object id="'+p.id+'_silverlight" data="data:application/x-silverlight," type="application/x-silverlight-2" style="outline:none;" width="1024" height="1024"><param name="source" value="'+p.settings.silverlight_xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="id='+p.id+",filter="+m+",multiselect="+p.settings.multi_selection+'"/></object>';function j(){return b.getElementById(p.id+"_silverlight").content.Upload}p.bind("Silverlight:Init",function(){var r,s={};if(h[p.id]){return}h[p.id]=true;p.bind("Silverlight:StartSelectFiles",function(t){r=[]});p.bind("Silverlight:SelectFile",function(t,w,u,v){var x;x=d.guid();s[x]=w;s[w]=x;r.push(new d.File(x,u,v))});p.bind("Silverlight:SelectSuccessful",function(){if(r.length){p.trigger("FilesAdded",r)}});p.bind("Silverlight:UploadChunkError",function(t,w,u,x,v){p.trigger("Error",{code:d.IO_ERROR,message:"IO Error.",details:v,file:t.getFile(s[w])})});p.bind("Silverlight:UploadFileProgress",function(t,x,u,w){var v=t.getFile(s[x]);if(v.status!=d.FAILED){v.size=w;v.loaded=u;t.trigger("UploadProgress",v)}});p.bind("Refresh",function(t){var u,v,w;u=b.getElementById(t.settings.browse_button);if(u){v=d.getPos(u,b.getElementById(t.settings.container));w=d.getSize(u);d.extend(b.getElementById(t.id+"_silverlight_container").style,{top:v.y+"px",left:v.x+"px",width:w.w+"px",height:w.h+"px"})}});p.bind("Silverlight:UploadChunkSuccessful",function(t,w,u,z,y){var x,v=t.getFile(s[w]);x={chunk:u,chunks:z,response:y};t.trigger("ChunkUploaded",v,x);if(v.status!=d.FAILED&&t.state!==d.STOPPED){j().UploadNextChunk()}if(u==z-1){v.status=d.DONE;t.trigger("FileUploaded",v,{response:y})}});p.bind("Silverlight:UploadSuccessful",function(t,w,u){var v=t.getFile(s[w]);v.status=d.DONE;t.trigger("FileUploaded",v,{response:u})});p.bind("FilesRemoved",function(t,v){var u;for(u=0;u<v.length;u++){j().RemoveFile(s[v[u].id])}});p.bind("UploadFile",function(t,v){var w=t.settings,u=w.resize||{};j().UploadFile(s[v.id],t.settings.url,c({name:v.target_name||v.name,mime:d.mimeTypes[v.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:w.chunk_size,image_width:u.width,image_height:u.height,image_quality:u.quality,multipart:!!w.multipart,multipart_params:w.multipart_params||{},file_data_name:w.file_data_name,headers:w.headers}))});p.bind("CancelUpload",function(){j().CancelUpload()});p.bind("Silverlight:MouseEnter",function(t){var u,v;u=b.getElementById(p.settings.browse_button);v=t.settings.browse_button_hover;if(u&&v){d.addClass(u,v)}});p.bind("Silverlight:MouseLeave",function(t){var u,v;u=b.getElementById(p.settings.browse_button);v=t.settings.browse_button_hover;if(u&&v){d.removeClass(u,v)}});p.bind("Silverlight:MouseLeftButtonDown",function(t){var u,v;u=b.getElementById(p.settings.browse_button);v=t.settings.browse_button_active;if(u&&v){d.addClass(u,v);d.addEvent(b.body,"mouseup",function(){d.removeClass(u,v)})}});p.bind("Sliverlight:StartSelectFiles",function(t){var u,v;u=b.getElementById(p.settings.browse_button);v=t.settings.browse_button_active;if(u&&v){d.removeClass(u,v)}});p.bind("DisableBrowse",function(t,u){j().DisableBrowse(u)});p.bind("Destroy",function(t){var u;d.removeAllEvents(b.body,t.id);delete h[t.id];delete a[t.id];u=b.getElementById(t.id+"_silverlight_container");if(u){u.parentNode.removeChild(u)}});q({success:true})})}})})(window,document,plupload);(function(f,b,d,e){var a={},g={};function c(){var h;try{h=navigator.plugins["Shockwave Flash"];h=h.description}catch(k){try{h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(j){h="0.0"}}h=h.match(/\d+/g);return parseFloat(h[0]+"."+h[1])}d.flash={trigger:function(k,h,j){setTimeout(function(){var n=a[k],m,l;if(n){n.trigger("Flash:"+h,j)}},0)}};d.runtimes.Flash=d.addRuntime("flash",{getFeatures:function(){return{jpgresize:true,pngresize:true,maxWidth:8091,maxHeight:8091,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(n,p){var l,m,h=0,j=b.body;if(c()<10){p({success:false});return}g[n.id]=false;a[n.id]=n;l=b.getElementById(n.settings.browse_button);m=b.createElement("div");m.id=n.id+"_flash_container";d.extend(m.style,{position:"absolute",top:"0px",background:n.settings.shim_bgcolor||"transparent",zIndex:99999,width:"100%",height:"100%"});m.className="plupload flash";if(n.settings.container){j=b.getElementById(n.settings.container);if(d.getStyle(j,"position")==="static"){j.style.position="relative"}}j.appendChild(m);(function(){var q,r;q='<object id="'+n.id+'_flash" type="application/x-shockwave-flash" data="'+n.settings.flash_swf_url+'" ';if(d.ua.ie){q+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '}q+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+n.settings.flash_swf_url+'" /><param name="flashvars" value="id='+escape(n.id)+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>';if(d.ua.ie){r=b.createElement("div");m.appendChild(r);r.outerHTML=q;r=null}else{m.innerHTML=q}}());function o(){return b.getElementById(n.id+"_flash")}function k(){if(h++>5000){p({success:false});return}if(g[n.id]===false){setTimeout(k,1)}}k();l=m=null;n.bind("Destroy",function(q){var r;d.removeAllEvents(b.body,q.id);delete g[q.id];delete a[q.id];r=b.getElementById(q.id+"_flash_container");if(r){r.parentNode.removeChild(r)}});n.bind("Flash:Init",function(){var s={},r;try{o().setFileFilters(n.settings.filters,n.settings.multi_selection)}catch(q){p({success:false});return}if(g[n.id]){return}g[n.id]=true;n.bind("UploadFile",function(t,v){var w=t.settings,u=n.settings.resize||{};o().uploadFile(s[v.id],w.url,{name:v.target_name||v.name,mime:d.mimeTypes[v.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream",chunk_size:w.chunk_size,width:u.width,height:u.height,quality:u.quality,multipart:w.multipart,multipart_params:w.multipart_params||{},file_data_name:w.file_data_name,format:/\.(jpg|jpeg)$/i.test(v.name)?"jpg":"png",headers:w.headers,urlstream_upload:w.urlstream_upload})});n.bind("CancelUpload",function(){o().cancelUpload()});n.bind("Flash:UploadProcess",function(u,t){var v=u.getFile(s[t.id]);if(v.status!=d.FAILED){v.loaded=t.loaded;v.size=t.size;u.trigger("UploadProgress",v)}});n.bind("Flash:UploadChunkComplete",function(t,v){var w,u=t.getFile(s[v.id]);w={chunk:v.chunk,chunks:v.chunks,response:v.text};t.trigger("ChunkUploaded",u,w);if(u.status!==d.FAILED&&t.state!==d.STOPPED){o().uploadNextChunk()}if(v.chunk==v.chunks-1){u.status=d.DONE;t.trigger("FileUploaded",u,{response:v.text})}});n.bind("Flash:SelectFiles",function(t,w){var v,u,x=[],y;for(u=0;u<w.length;u++){v=w[u];y=d.guid();s[y]=v.id;s[v.id]=y;x.push(new d.File(y,v.name,v.size))}if(x.length){n.trigger("FilesAdded",x)}});n.bind("Flash:SecurityError",function(t,u){n.trigger("Error",{code:d.SECURITY_ERROR,message:d.translate("Security error."),details:u.message,file:n.getFile(s[u.id])})});n.bind("Flash:GenericError",function(t,u){n.trigger("Error",{code:d.GENERIC_ERROR,message:d.translate("Generic error."),details:u.message,file:n.getFile(s[u.id])})});n.bind("Flash:IOError",function(t,u){n.trigger("Error",{code:d.IO_ERROR,message:d.translate("IO error."),details:u.message,file:n.getFile(s[u.id])})});n.bind("Flash:ImageError",function(t,u){n.trigger("Error",{code:parseInt(u.code,10),message:d.translate("Image error."),file:n.getFile(s[u.id])})});n.bind("Flash:StageEvent:rollOver",function(t){var u,v;u=b.getElementById(n.settings.browse_button);v=t.settings.browse_button_hover;if(u&&v){d.addClass(u,v)}});n.bind("Flash:StageEvent:rollOut",function(t){var u,v;u=b.getElementById(n.settings.browse_button);v=t.settings.browse_button_hover;if(u&&v){d.removeClass(u,v)}});n.bind("Flash:StageEvent:mouseDown",function(t){var u,v;u=b.getElementById(n.settings.browse_button);v=t.settings.browse_button_active;if(u&&v){d.addClass(u,v);d.addEvent(b.body,"mouseup",function(){d.removeClass(u,v)},t.id)}});n.bind("Flash:StageEvent:mouseUp",function(t){var u,v;u=b.getElementById(n.settings.browse_button);v=t.settings.browse_button_active;if(u&&v){d.removeClass(u,v)}});n.bind("Flash:ExifData",function(t,u){n.trigger("ExifData",n.getFile(s[u.id]),u.data)});n.bind("Flash:GpsData",function(t,u){n.trigger("GpsData",n.getFile(s[u.id]),u.data)});n.bind("QueueChanged",function(t){n.refresh()});n.bind("FilesRemoved",function(t,v){var u;for(u=0;u<v.length;u++){o().removeFile(s[v[u].id])}});n.bind("StateChanged",function(t){n.refresh()});n.bind("Refresh",function(t){var u,v,w;o().setFileFilters(n.settings.filters,n.settings.multi_selection);u=b.getElementById(t.settings.browse_button);if(u){v=d.getPos(u,b.getElementById(t.settings.container));w=d.getSize(u);d.extend(b.getElementById(t.id+"_flash_container").style,{top:v.y+"px",left:v.x+"px",width:w.w+"px",height:w.h+"px"})}});n.bind("DisableBrowse",function(t,u){o().disableBrowse(u)});p({success:true})})}})})(window,document,plupload);(function(a){a.runtimes.BrowserPlus=a.addRuntime("browserplus",{getFeatures:function(){return{dragdrop:true,jpgresize:true,pngresize:true,chunks:true,progress:true,multipart:true,multi_selection:true}},init:function(g,j){var e=window.BrowserPlus,h={},d=g.settings,c=d.resize;function f(o){var n,m,k=[],l,p;for(m=0;m<o.length;m++){l=o[m];p=a.guid();h[p]=l;k.push(new a.File(p,l.name,l.size))}if(m){g.trigger("FilesAdded",k)}}function b(){var k=false;g.bind("PostInit",function(){var o,m=d.drop_element,q=g.id+"_droptarget",l=document.getElementById(m),n;function r(t,s){e.DragAndDrop.AddDropTarget({id:t},function(u){e.DragAndDrop.AttachCallbacks({id:t,hover:function(v){if(!v&&s){s()}},drop:function(v){if(s){s()}f(v)}},function(){})})}function p(){document.getElementById(q).style.top="-1000px"}if(l){if(document.attachEvent&&(/MSIE/gi).test(navigator.userAgent)){o=document.createElement("div");o.setAttribute("id",q);a.extend(o.style,{position:"absolute",top:"-1000px",background:"red",filter:"alpha(opacity=0)",opacity:0});document.body.appendChild(o);a.addEvent(l,"dragenter",function(t){var s,u;s=document.getElementById(m);u=a.getPos(s);a.extend(document.getElementById(q).style,{top:u.y+"px",left:u.x+"px",width:s.offsetWidth+"px",height:s.offsetHeight+"px"})});r(q,p)}else{r(m)}}a.addEvent(document.getElementById(d.browse_button),"click",function(y){var s=[],u,t,x=d.filters,w,v;y.preventDefault();if(k){return}no_type_restriction:for(u=0;u<x.length;u++){w=x[u].extensions.split(",");for(t=0;t<w.length;t++){if(w[t]==="*"){s=[];break no_type_restriction}v=a.mimeTypes[w[t]];if(v&&a.inArray(v,s)===-1){s.push(a.mimeTypes[w[t]])}}}e.FileBrowse.OpenBrowseDialog({mimeTypes:s},function(z){if(z.success){f(z.value)}})});l=o=null});g.bind("CancelUpload",function(){e.Uploader.cancel({},function(){})});g.bind("DisableBrowse",function(l,m){k=m});g.bind("UploadFile",function(o,l){var n=h[l.id],t={},m=o.settings.chunk_size,p,q=[];function s(u,w){var v;if(l.status==a.FAILED){return}t.name=l.target_name||l.name;if(m){t.chunk=""+u;t.chunks=""+w}v=q.shift();e.Uploader.upload({url:o.settings.url,files:{file:v},cookies:document.cookies,postvars:a.extend(t,o.settings.multipart_params),progressCallback:function(z){var y,x=0;p[u]=parseInt(z.filePercent*v.size/100,10);for(y=0;y<p.length;y++){x+=p[y]}l.loaded=x;o.trigger("UploadProgress",l)}},function(y){var x,z;if(y.success){x=y.value.statusCode;if(m){o.trigger("ChunkUploaded",l,{chunk:u,chunks:w,response:y.value.body,status:x})}if(q.length>0){s(++u,w)}else{l.status=a.DONE;o.trigger("FileUploaded",l,{response:y.value.body,status:x});if(x>=400){o.trigger("Error",{code:a.HTTP_ERROR,message:a.translate("HTTP Error."),file:l,status:x})}}}else{o.trigger("Error",{code:a.GENERIC_ERROR,message:a.translate("Generic Error."),file:l,details:y.error})}})}function r(u){l.size=u.size;if(m){e.FileAccess.chunk({file:u,chunkSize:m},function(x){if(x.success){var y=x.value,v=y.length;p=Array(v);for(var w=0;w<v;w++){p[w]=0;q.push(y[w])}s(0,v)}})}else{p=Array(1);q.push(u);s(0,1)}}if(c&&/\.(png|jpg|jpeg)$/i.test(l.name)){BrowserPlus.ImageAlter.transform({file:n,quality:c.quality||90,actions:[{scale:{maxwidth:c.width,maxheight:c.height}}]},function(u){if(u.success){r(u.value.file)}})}else{r(n)}});j({success:true})}if(e){e.init(function(l){var k=[{service:"Uploader",version:"3"},{service:"DragAndDrop",version:"1"},{service:"FileBrowse",version:"1"},{service:"FileAccess",version:"2"}];if(c){k.push({service:"ImageAlter",version:"4"})}if(l.success){e.require({services:k},function(m){if(m.success){b()}else{j()}})}else{j()}})}else{j()}}})})(plupload);(function(k,m,l,g){var d={},j;function c(s){var r=s.naturalWidth,u=s.naturalHeight;if(r*u>1024*1024){var t=m.createElement("canvas");t.width=t.height=1;var q=t.getContext("2d");q.drawImage(s,-r+1,0);return q.getImageData(0,0,1,1).data[3]===0}else{return false}}function f(u,r,z){var q=m.createElement("canvas");q.width=1;q.height=z;var A=q.getContext("2d");A.drawImage(u,0,0);var t=A.getImageData(0,0,1,z).data;var x=0;var v=z;var y=z;while(y>x){var s=t[(y-1)*4+3];if(s===0){v=y}else{x=y}y=(v+x)>>1}var w=(y/z);return(w===0)?1:w}function o(K,s,t){var v=K.naturalWidth,z=K.naturalHeight;var E=t.width,B=t.height;var F=s.getContext("2d");F.save();var r=c(K);if(r){v/=2;z/=2}var I=1024;var q=m.createElement("canvas");q.width=q.height=I;var u=q.getContext("2d");var G=f(K,v,z);var A=0;while(A<z){var J=A+I>z?z-A:I;var C=0;while(C<v){var D=C+I>v?v-C:I;u.clearRect(0,0,I,I);u.drawImage(K,-C,-A);var x=(C*E/v)<<0;var y=Math.ceil(D*E/v);var w=(A*B/z/G)<<0;var H=Math.ceil(J*B/z/G);F.drawImage(q,0,0,D,J,x,w,y,H);C+=I}A+=I}F.restore();q=u=null}function p(r,s){var q;if("FileReader"in k){q=new FileReader();q.readAsDataURL(r);q.onload=function(){s(q.result)}}else{return s(r.getAsDataURL())}}function n(r,s){var q;if("FileReader"in k){q=new FileReader();q.readAsBinaryString(r);q.onload=function(){s(q.result)}}else{return s(r.getAsBinary())}}function e(u,s,q,y){var t,r,x,v,w=this;p(d[u.id],function(z){t=m.createElement("canvas");t.style.display="none";m.body.appendChild(t);x=new Image();x.onerror=x.onabort=function(){y({success:false})};x.onload=function(){var F,A,C,B,E;if(!s.width){s.width=x.width}if(!s.height){s.height=x.height}v=Math.min(s.width/x.width,s.height/x.height);if(v<1){F=Math.round(x.width*v);A=Math.round(x.height*v)}else{if(s.quality&&q==="image/jpeg"){F=x.width;A=x.height}else{y({success:false});return}}t.width=F;t.height=A;o(x,t,{width:F,height:A});if(q==="image/jpeg"){B=new h(atob(z.substring(z.indexOf("base64,")+7)));if(B.headers&&B.headers.length){E=new a();if(E.init(B.get("exif")[0])){E.setExif("PixelXDimension",F);E.setExif("PixelYDimension",A);B.set("exif",E.getBinary());if(w.hasEventListener("ExifData")){w.trigger("ExifData",u,E.EXIF())}if(w.hasEventListener("GpsData")){w.trigger("GpsData",u,E.GPS())}}}}if(s.quality&&q==="image/jpeg"){try{z=t.toDataURL(q,s.quality/100)}catch(D){z=t.toDataURL(q)}}else{z=t.toDataURL(q)}z=z.substring(z.indexOf("base64,")+7);z=atob(z);if(B&&B.headers&&B.headers.length){z=B.restore(z);B.purge()}t.parentNode.removeChild(t);y({success:true,data:z})};x.src=z})}l.runtimes.Html5=l.addRuntime("html5",{getFeatures:function(){var v,r,u,t,s,q;r=u=s=q=false;if(k.XMLHttpRequest){v=new XMLHttpRequest();u=!!v.upload;r=!!(v.sendAsBinary||v.upload)}if(r){t=!!(v.sendAsBinary||(k.Uint8Array&&k.ArrayBuffer));s=!!(File&&(File.prototype.getAsDataURL||k.FileReader)&&t);q=!!(File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice))}j=l.ua.safari&&l.ua.windows;return{html5:r,dragdrop:(function(){var w=m.createElement("div");return("draggable"in w)||("ondragstart"in w&&"ondrop"in w)}()),jpgresize:s,pngresize:s,multipart:s||!!k.FileReader||!!k.FormData,canSendBinary:t,cantSendBlobInFormData:!!(l.ua.gecko&&k.FormData&&k.FileReader&&!FileReader.prototype.readAsArrayBuffer)||l.ua.android,progress:u,chunks:q,multi_selection:!(l.ua.safari&&l.ua.windows),triggerDialog:(l.ua.gecko&&k.FormData||l.ua.webkit)}},init:function(s,u){var q,t;function r(z){var x,w,y=[],A,v={};for(w=0;w<z.length;w++){x=z[w];if(v[x.name]&&l.ua.safari&&l.ua.windows){continue}v[x.name]=true;A=l.guid();d[A]=x;y.push(new l.File(A,x.fileName||x.name,x.fileSize||x.size))}if(y.length){s.trigger("FilesAdded",y)}}q=this.getFeatures();if(!q.html5){u({success:false});return}s.bind("Init",function(A){var J,I,F=[],z,G,w=A.settings.filters,x,E,v=m.body,H;J=m.createElement("div");J.id=A.id+"_html5_container";l.extend(J.style,{position:"absolute",background:s.settings.shim_bgcolor||"transparent",width:"100px",height:"100px",overflow:"hidden",zIndex:99999,opacity:s.settings.shim_bgcolor?"":0});J.className="plupload html5";if(s.settings.container){v=m.getElementById(s.settings.container);if(l.getStyle(v,"position")==="static"){v.style.position="relative"}}v.appendChild(J);no_type_restriction:for(z=0;z<w.length;z++){x=w[z].extensions.split(/,/);for(G=0;G<x.length;G++){if(x[G]==="*"){F=[];break no_type_restriction}E=l.mimeTypes[x[G]];if(E&&l.inArray(E,F)===-1){F.push(E)}}}J.innerHTML='<input id="'+s.id+'_html5"  style="font-size:999px" type="file" accept="'+F.join(",")+'" '+(s.settings.multi_selection&&s.features.multi_selection?'multiple="multiple"':"")+" />";J.scrollTop=100;H=m.getElementById(s.id+"_html5");if(A.features.triggerDialog){l.extend(H.style,{position:"absolute",width:"100%",height:"100%"})}else{l.extend(H.style,{cssFloat:"right",styleFloat:"right"})}H.onchange=function(){r(this.files);this.value=""};I=m.getElementById(A.settings.browse_button);if(I){var C=A.settings.browse_button_hover,D=A.settings.browse_button_active,B=A.features.triggerDialog?I:J;if(C){l.addEvent(B,"mouseover",function(){l.addClass(I,C)},A.id);l.addEvent(B,"mouseout",function(){l.removeClass(I,C)},A.id)}if(D){l.addEvent(B,"mousedown",function(){l.addClass(I,D)},A.id);l.addEvent(m.body,"mouseup",function(){l.removeClass(I,D)},A.id)}if(A.features.triggerDialog){l.addEvent(I,"click",function(K){var y=m.getElementById(A.id+"_html5");if(y&&!y.disabled){y.click()}K.preventDefault()},A.id)}}});s.bind("PostInit",function(){var v=m.getElementById(s.settings.drop_element);if(v){if(j){l.addEvent(v,"dragenter",function(z){var y,w,x;y=m.getElementById(s.id+"_drop");if(!y){y=m.createElement("input");y.setAttribute("type","file");y.setAttribute("id",s.id+"_drop");y.setAttribute("multiple","multiple");l.addEvent(y,"change",function(){r(this.files);l.removeEvent(y,"change",s.id);y.parentNode.removeChild(y)},s.id);l.addEvent(y,"dragover",function(A){A.stopPropagation()},s.id);v.appendChild(y)}w=l.getPos(v,m.getElementById(s.settings.container));x=l.getSize(v);if(l.getStyle(v,"position")==="static"){l.extend(v.style,{position:"relative"})}l.extend(y.style,{position:"absolute",display:"block",top:0,left:0,width:x.w+"px",height:x.h+"px",opacity:0})},s.id);return}l.addEvent(v,"dragover",function(w){w.preventDefault()},s.id);l.addEvent(v,"drop",function(x){var w=x.dataTransfer;if(w&&w.files){r(w.files)}x.preventDefault()},s.id)}});s.bind("Refresh",function(v){var w,x,y,A,z;w=m.getElementById(s.settings.browse_button);if(w){x=l.getPos(w,m.getElementById(v.settings.container));y=l.getSize(w);A=m.getElementById(s.id+"_html5_container");l.extend(A.style,{top:x.y+"px",left:x.x+"px",width:y.w+"px",height:y.h+"px"});if(s.features.triggerDialog){if(l.getStyle(w,"position")==="static"){l.extend(w.style,{position:"relative"})}z=parseInt(l.getStyle(w,"zIndex"),10);if(isNaN(z)){z=0}l.extend(w.style,{zIndex:z});l.extend(A.style,{zIndex:z-1})}}});s.bind("DisableBrowse",function(v,x){var w=m.getElementById(v.id+"_html5");if(w){w.disabled=x}});s.bind("CancelUpload",function(){if(t&&t.abort){t.abort()}});s.bind("UploadFile",function(v,x){var y=v.settings,B,w;function A(D,G,C){var E;if(File.prototype.slice){try{D.slice();return D.slice(G,C)}catch(F){return D.slice(G,C-G)}}else{if(E=File.prototype.webkitSlice||File.prototype.mozSlice){return E.call(D,G,C)}else{return null}}}function z(C){var F=0,E=0;function D(){var L,P,N,O,K,M,H,G=v.settings.url;function J(S){if(t.sendAsBinary){t.sendAsBinary(S)}else{if(v.features.canSendBinary){var Q=new Uint8Array(S.length);for(var R=0;R<S.length;R++){Q[R]=(S.charCodeAt(R)&255)}t.send(Q.buffer)}}}function I(R){var V=0,W="----pluploadboundary"+l.guid(),T,S="--",U="\r\n",Q="";t=new XMLHttpRequest;if(t.upload){t.upload.onprogress=function(X){x.loaded=Math.min(x.size,E+X.loaded-V);v.trigger("UploadProgress",x)}}t.onreadystatechange=function(){var X,Z;if(t.readyState==4&&v.state!==l.STOPPED){try{X=t.status}catch(Y){X=0}if(X>=400){v.trigger("Error",{code:l.HTTP_ERROR,message:l.translate("HTTP Error."),file:x,status:X})}else{if(N){Z={chunk:F,chunks:N,response:t.responseText,status:X};v.trigger("ChunkUploaded",x,Z);E+=M;if(Z.cancelled){x.status=l.FAILED;return}x.loaded=Math.min(x.size,(F+1)*K)}else{x.loaded=x.size}v.trigger("UploadProgress",x);R=L=T=Q=null;if(!N||++F>=N){x.status=l.DONE;v.trigger("FileUploaded",x,{response:t.responseText,status:X})}else{D()}}}};if(v.settings.multipart&&q.multipart){O.name=x.target_name||x.name;t.open("post",G,true);l.each(v.settings.headers,function(Y,X){t.setRequestHeader(X,Y)});if(typeof(R)!=="string"&&!!k.FormData){T=new FormData();l.each(l.extend(O,v.settings.multipart_params),function(Y,X){T.append(X,Y)});T.append(v.settings.file_data_name,R);t.send(T);return}if(typeof(R)==="string"){t.setRequestHeader("Content-Type","multipart/form-data; boundary="+W);l.each(l.extend(O,v.settings.multipart_params),function(Y,X){Q+=S+W+U+'Content-Disposition: form-data; name="'+X+'"'+U+U;Q+=unescape(encodeURIComponent(Y))+U});H=l.mimeTypes[x.name.replace(/^.+\.([^.]+)/,"$1").toLowerCase()]||"application/octet-stream";Q+=S+W+U+'Content-Disposition: form-data; name="'+v.settings.file_data_name+'"; filename="'+unescape(encodeURIComponent(x.name))+'"'+U+"Content-Type: "+H+U+U+R+U+S+W+S+U;V=Q.length-R.length;R=Q;J(R);return}}G=l.buildUrl(v.settings.url,l.extend(O,v.settings.multipart_params));t.open("post",G,true);t.setRequestHeader("Content-Type","application/octet-stream");l.each(v.settings.headers,function(Y,X){t.setRequestHeader(X,Y)});if(typeof(R)==="string"){J(R)}else{t.send(R)}}if(x.status==l.DONE||x.status==l.FAILED||v.state==l.STOPPED){return}O={name:x.target_name||x.name};if(y.chunk_size&&x.size>y.chunk_size&&(q.chunks||typeof(C)=="string")){K=y.chunk_size;N=Math.ceil(x.size/K);M=Math.min(K,x.size-(F*K));if(typeof(C)=="string"){L=C.substring(F*K,F*K+M)}else{L=A(C,F*K,F*K+M)}O.chunk=F;O.chunks=N}else{M=x.size;L=C}if(v.settings.multipart&&q.multipart&&typeof(L)!=="string"&&k.FileReader&&q.cantSendBlobInFormData&&q.chunks&&v.settings.chunk_size){(function(){var Q=new FileReader();Q.onload=function(){I(Q.result);Q=null};Q.readAsBinaryString(L)}())}else{I(L)}}D()}B=d[x.id];if(q.jpgresize&&v.settings.resize&&/\.(png|jpg|jpeg)$/i.test(x.name)){e.call(v,x,v.settings.resize,/\.png$/i.test(x.name)?"image/png":"image/jpeg",function(C){if(C.success){x.size=C.data.length;z(C.data)}else{if(q.chunks){z(B)}else{n(B,z)}}})}else{if(!q.chunks&&q.jpgresize){n(B,z)}else{z(B)}}});s.bind("Destroy",function(v){var x,y,w=m.body,z={inputContainer:v.id+"_html5_container",inputFile:v.id+"_html5",browseButton:v.settings.browse_button,dropElm:v.settings.drop_element};for(x in z){y=m.getElementById(z[x]);if(y){l.removeAllEvents(y,v.id)}}l.removeAllEvents(m.body,v.id);if(v.settings.container){w=m.getElementById(v.settings.container)}w.removeChild(m.getElementById(z.inputContainer))});u({success:true})}});function b(){var t=false,r;function u(w,y){var v=t?0:-8*(y-1),z=0,x;for(x=0;x<y;x++){z|=(r.charCodeAt(w+x)<<Math.abs(v+x*8))}return z}function q(x,v,w){var w=arguments.length===3?w:r.length-v-1;r=r.substr(0,v)+x+r.substr(w+v)}function s(w,x,z){var A="",v=t?0:-8*(z-1),y;for(y=0;y<z;y++){A+=String.fromCharCode((x>>Math.abs(v+y*8))&255)}q(A,w,z)}return{II:function(v){if(v===g){return t}else{t=v}},init:function(v){t=false;r=v},SEGMENT:function(v,x,w){switch(arguments.length){case 1:return r.substr(v,r.length-v-1);case 2:return r.substr(v,x);case 3:q(w,v,x);break;default:return r}},BYTE:function(v){return u(v,1)},SHORT:function(v){return u(v,2)},LONG:function(v,w){if(w===g){return u(v,4)}else{s(v,w,4)}},SLONG:function(v){var w=u(v,4);return(w>2147483647?w-4294967296:w)},STRING:function(v,w){var x="";for(w+=v;v<w;v++){x+=String.fromCharCode(u(v,1))}return x}}}function h(v){var x={65505:{app:"EXIF",name:"APP1",signature:"Exif\0"},65506:{app:"ICC",name:"APP2",signature:"ICC_PROFILE\0"},65517:{app:"IPTC",name:"APP13",signature:"Photoshop 3.0\0"}},w=[],u,q,s=g,t=0,r;u=new b();u.init(v);if(u.SHORT(0)!==65496){return}q=2;r=Math.min(1048576,v.length);while(q<=r){s=u.SHORT(q);if(s>=65488&&s<=65495){q+=2;continue}if(s===65498||s===65497){break}t=u.SHORT(q+2)+2;if(x[s]&&u.STRING(q+4,x[s].signature.length)===x[s].signature){w.push({hex:s,app:x[s].app.toUpperCase(),name:x[s].name.toUpperCase(),start:q,length:t,segment:u.SEGMENT(q,t)})}q+=t}u.init(null);return{headers:w,restore:function(B){u.init(B);var z=new h(B);if(!z.headers){return false}for(var A=z.headers.length;A>0;A--){var C=z.headers[A-1];u.SEGMENT(C.start,C.length,"")}z.purge();q=u.SHORT(2)==65504?4+u.SHORT(4):2;for(var A=0,y=w.length;A<y;A++){u.SEGMENT(q,0,w[A].segment);q+=w[A].length}return u.SEGMENT()},get:function(A){var B=[];for(var z=0,y=w.length;z<y;z++){if(w[z].app===A.toUpperCase()){B.push(w[z].segment)}}return B},set:function(B,A){var C=[];if(typeof(A)==="string"){C.push(A)}else{C=A}for(var z=ii=0,y=w.length;z<y;z++){if(w[z].app===B.toUpperCase()){w[z].segment=C[ii];w[z].length=C[ii].length;ii++}if(ii>=C.length){break}}},purge:function(){w=[];u.init(null)}}}function a(){var t,q,r={},w;t=new b();q={tiff:{274:"Orientation",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}};w={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}};function s(x,F){var z=t.SHORT(x),C,I,J,E,D,y,A,G,H=[],B={};for(C=0;C<z;C++){A=y=x+12*C+2;J=F[t.SHORT(A)];if(J===g){continue}E=t.SHORT(A+=2);D=t.LONG(A+=2);A+=4;H=[];switch(E){case 1:case 7:if(D>4){A=t.LONG(A)+r.tiffHeader}for(I=0;I<D;I++){H[I]=t.BYTE(A+I)}break;case 2:if(D>4){A=t.LONG(A)+r.tiffHeader}B[J]=t.STRING(A,D-1);continue;case 3:if(D>2){A=t.LONG(A)+r.tiffHeader}for(I=0;I<D;I++){H[I]=t.SHORT(A+I*2)}break;case 4:if(D>1){A=t.LONG(A)+r.tiffHeader}for(I=0;I<D;I++){H[I]=t.LONG(A+I*4)}break;case 5:A=t.LONG(A)+r.tiffHeader;for(I=0;I<D;I++){H[I]=t.LONG(A+I*4)/t.LONG(A+I*4+4)}break;case 9:A=t.LONG(A)+r.tiffHeader;for(I=0;I<D;I++){H[I]=t.SLONG(A+I*4)}break;case 10:A=t.LONG(A)+r.tiffHeader;for(I=0;I<D;I++){H[I]=t.SLONG(A+I*4)/t.SLONG(A+I*4+4)}break;default:continue}G=(D==1?H[0]:H);if(w.hasOwnProperty(J)&&typeof G!="object"){B[J]=w[J][G]}else{B[J]=G}}return B}function v(){var y=g,x=r.tiffHeader;t.II(t.SHORT(x)==18761);if(t.SHORT(x+=2)!==42){return false}r.IFD0=r.tiffHeader+t.LONG(x+=2);y=s(r.IFD0,q.tiff);r.exifIFD=("ExifIFDPointer"in y?r.tiffHeader+y.ExifIFDPointer:g);r.gpsIFD=("GPSInfoIFDPointer"in y?r.tiffHeader+y.GPSInfoIFDPointer:g);return true}function u(z,x,C){var E,B,A,D=0;if(typeof(x)==="string"){var y=q[z.toLowerCase()];for(hex in y){if(y[hex]===x){x=hex;break}}}E=r[z.toLowerCase()+"IFD"];B=t.SHORT(E);for(i=0;i<B;i++){A=E+12*i+2;if(t.SHORT(A)==x){D=A+8;break}}if(!D){return false}t.LONG(D,C);return true}return{init:function(x){r={tiffHeader:10};if(x===g||!x.length){return false}t.init(x);if(t.SHORT(0)===65505&&t.STRING(4,5).toUpperCase()==="EXIF\0"){return v()}return false},EXIF:function(){var y;y=s(r.exifIFD,q.exif);if(y.ExifVersion&&l.typeOf(y.ExifVersion)==="array"){for(var z=0,x="";z<y.ExifVersion.length;z++){x+=String.fromCharCode(y.ExifVersion[z])}y.ExifVersion=x}return y},GPS:function(){var x;x=s(r.gpsIFD,q.gps);if(x.GPSVersionID){x.GPSVersionID=x.GPSVersionID.join(".")}return x},setExif:function(x,y){if(x!=="PixelXDimension"&&x!=="PixelYDimension"){return false}return u("exif",x,y)},getBinary:function(){return t.SEGMENT()}}}})(window,document,plupload);(function(d,a,b,c){function e(f){return a.getElementById(f)}b.runtimes.Html4=b.addRuntime("html4",{getFeatures:function(){return{multipart:true,triggerDialog:(b.ua.gecko&&d.FormData||b.ua.webkit)}},init:function(f,g){f.bind("Init",function(p){var j=a.body,n,h="javascript",k,x,q,z=[],r=/MSIE/.test(navigator.userAgent),t=[],m=p.settings.filters,o,l,s,w;no_type_restriction:for(o=0;o<m.length;o++){l=m[o].extensions.split(/,/);for(w=0;w<l.length;w++){if(l[w]==="*"){t=[];break no_type_restriction}s=b.mimeTypes[l[w]];if(s&&b.inArray(s,t)===-1){t.push(s)}}}t=t.join(",");function v(){var C,A,y,B;q=b.guid();z.push(q);C=a.createElement("form");C.setAttribute("id","form_"+q);C.setAttribute("method","post");C.setAttribute("enctype","multipart/form-data");C.setAttribute("encoding","multipart/form-data");C.setAttribute("target",p.id+"_iframe");C.style.position="absolute";A=a.createElement("input");A.setAttribute("id","input_"+q);A.setAttribute("type","file");A.setAttribute("accept",t);A.setAttribute("size",1);B=e(p.settings.browse_button);if(p.features.triggerDialog&&B){b.addEvent(e(p.settings.browse_button),"click",function(D){if(!A.disabled){A.click()}D.preventDefault()},p.id)}b.extend(A.style,{width:"100%",height:"100%",opacity:0,fontSize:"99px",cursor:"pointer"});b.extend(C.style,{overflow:"hidden"});y=p.settings.shim_bgcolor;if(y){C.style.background=y}if(r){b.extend(A.style,{filter:"alpha(opacity=0)"})}b.addEvent(A,"change",function(G){var E=G.target,D,F=[],H;if(E.value){e("form_"+q).style.top=-1048575+"px";D=E.value.replace(/\\/g,"/");D=D.substring(D.length,D.lastIndexOf("/")+1);F.push(new b.File(q,D));if(!p.features.triggerDialog){b.removeAllEvents(C,p.id)}else{b.removeEvent(B,"click",p.id)}b.removeEvent(A,"change",p.id);v();if(F.length){f.trigger("FilesAdded",F)}}},p.id);C.appendChild(A);j.appendChild(C);p.refresh()}function u(){var y=a.createElement("div");y.innerHTML='<iframe id="'+p.id+'_iframe" name="'+p.id+'_iframe" src="'+h+':&quot;&quot;" style="display:none"></iframe>';n=y.firstChild;j.appendChild(n);b.addEvent(n,"load",function(D){var E=D.target,C,A;if(!k){return}try{C=E.contentWindow.document||E.contentDocument||d.frames[E.id].document}catch(B){p.trigger("Error",{code:b.SECURITY_ERROR,message:b.translate("Security error."),file:k});return}A=C.documentElement.innerText||C.documentElement.textContent;if(A){k.status=b.DONE;k.loaded=1025;k.percent=100;p.trigger("UploadProgress",k);p.trigger("FileUploaded",k,{response:A})}},p.id)}if(p.settings.container){j=e(p.settings.container);if(b.getStyle(j,"position")==="static"){j.style.position="relative"}}p.bind("UploadFile",function(y,B){var C,A;if(B.status==b.DONE||B.status==b.FAILED||y.state==b.STOPPED){return}C=e("form_"+B.id);A=e("input_"+B.id);A.setAttribute("name",y.settings.file_data_name);C.setAttribute("action",y.settings.url);b.each(b.extend({name:B.target_name||B.name},y.settings.multipart_params),function(F,D){var E=a.createElement("input");b.extend(E,{type:"hidden",name:D,value:F});C.insertBefore(E,C.firstChild)});k=B;e("form_"+q).style.top=-1048575+"px";C.submit()});p.bind("FileUploaded",function(y){y.refresh()});p.bind("StateChanged",function(y){if(y.state==b.STARTED){u()}else{if(y.state==b.STOPPED){d.setTimeout(function(){b.removeEvent(n,"load",y.id);if(n.parentNode){n.parentNode.removeChild(n)}},0)}}b.each(y.files,function(B,A){if(B.status===b.DONE||B.status===b.FAILED){var C=e("form_"+B.id);if(C){C.parentNode.removeChild(C)}}})});p.bind("Refresh",function(A){var G,B,C,D,y,H,I,F,E;G=e(A.settings.browse_button);if(G){y=b.getPos(G,e(A.settings.container));H=b.getSize(G);I=e("form_"+q);F=e("input_"+q);b.extend(I.style,{top:y.y+"px",left:y.x+"px",width:H.w+"px",height:H.h+"px"});if(A.features.triggerDialog){if(b.getStyle(G,"position")==="static"){b.extend(G.style,{position:"relative"})}E=parseInt(G.style.zIndex,10);if(isNaN(E)){E=0}b.extend(G.style,{zIndex:E});b.extend(I.style,{zIndex:E-1})}C=A.settings.browse_button_hover;D=A.settings.browse_button_active;B=A.features.triggerDialog?G:I;if(C){b.addEvent(B,"mouseover",function(){b.addClass(G,C)},A.id);b.addEvent(B,"mouseout",function(){b.removeClass(G,C)},A.id)}if(D){b.addEvent(B,"mousedown",function(){b.addClass(G,D)},A.id);b.addEvent(a.body,"mouseup",function(){b.removeClass(G,D)},A.id)}}});f.bind("FilesRemoved",function(y,B){var A,C;for(A=0;A<B.length;A++){C=e("form_"+B[A].id);if(C){C.parentNode.removeChild(C)}}});f.bind("DisableBrowse",function(y,B){var A=a.getElementById("input_"+q);if(A){A.disabled=B}});f.bind("Destroy",function(y){var A,B,C,D={inputContainer:"form_"+q,inputFile:"input_"+q,browseButton:y.settings.browse_button};for(A in D){B=e(D[A]);if(B){b.removeAllEvents(B,y.id)}}b.removeAllEvents(a.body,y.id);b.each(z,function(F,E){C=e("form_"+F);if(C){C.parentNode.removeChild(C)}})});v()});g({success:true})}})})(window,document,plupload);;(function($){var uploaders={};function _(str){return plupload.translate(str)||str;}
function renderUI(id,target){target.contents().each(function(i,node){node=$(node);if(!node.is('.plupload')){node.remove();}});target.prepend('<form id="uplsubmit"><div class="plupload_wrapper">'+'<div id="'+id+'_container" class="plupload_container">'+'<div class="plupload">'+'<div class="plupload_content content">'+'<ul id="'+id+'_filelist" class="plupload_filelist plupload_scroll"></ul>'+'<div class="plupload_filelist_footer">'+'<div class="plupload_file_name">'+'<div class="plupload_buttons">'+'<a href="#" class="plupload_button plupload_start evaInt_button dark">'+_('ÐÐ°ÑÐ°ÑÑ Ð·Ð°Ð³ÑÑÐ·ÐºÑ')+'</a>'+'<a href="#" class="plupload_button plupload_add evaInt_button light">'+_('ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ°Ð¹Ð»Ñ')+'</a>'+'</div>'+'<span class="plupload_upload_status"></span>'+'</div>'+'<div class="plupload_file_status"><span class="plupload_total_status"></span></div>'+'<div class="plupload_file_size"><span class="plupload_total_file_size"></span></div>'+'<div class="plupload_progress">'+'<div class="plupload_progress_container">'+'<div class="plupload_progress_bar"></div>'+'</div>'+'</div>'+'</div>'+'</div>'+'</div>'+'</div>'+'<input type="hidden" id="'+id+'_count" name="'+id+'_count" value="0" />'+'</div></form>');}
$.fn.pluploadQueue=function(settings){if(settings){this.each(function(){var uploader,target,id;target=$(this);id=target.attr('id');if(!id){id=plupload.guid();target.attr('id',id);}
uploader=new plupload.Uploader($.extend({dragdrop:true,container:id},settings));uploaders[id]=uploader;function handleStatus(file){var actionClass;if(file.status==plupload.DONE){actionClass='plupload_done';}
if(file.status==plupload.FAILED){actionClass='plupload_failed';}
if(file.status==plupload.QUEUED){actionClass='plupload_delete';}
if(file.status==plupload.UPLOADING){actionClass='plupload_uploading';}
var icon=$('#'+file.id).attr('class',actionClass).find('i').css('display','block');if(file.hint){icon.attr('title',file.hint);}}
function updateTotalProgress(){$('span.plupload_total_status',target).html(uploader.total.percent+'%');$('div.plupload_progress_bar',target).css('width',uploader.total.percent+'%');$('span.plupload_upload_status',target).text(_('ÐÐ°Ð³ÑÑÐ¶ÐµÐ½Ð¾: %d/%d').replace(/%d\/%d/,uploader.total.uploaded+'/'+uploader.files.length));}
function updateList(){var fileList=$('ul.plupload_filelist',target).html(''),inputCount=0,inputHTML;$.each(uploader.files,function(i,file){inputHTML='';if(file.status==plupload.DONE){if(file.target_name){inputHTML+='<input type="hidden" name="'+id+'_'+inputCount+'_tmpname" value="'+plupload.xmlEncode(file.target_name)+'" />';}
inputHTML+='<input type="hidden" name="'+id+'_'+inputCount+'_name" value="'+plupload.xmlEncode(file.name)+'" />';inputHTML+='<input type="hidden" name="'+id+'_'+inputCount+'_status" value="'+(file.status==plupload.DONE?'done':'failed')+'" />';inputCount++;$('#'+id+'_count').val(inputCount);}
fileList.append('<li id="'+file.id+'">'+'<div class="plupload_file_action"><i></i></div>'+'<div class="plupload_file_status">'+file.percent+'%</div>'+'<div class="plupload_file_size">'+plupload.formatSize(file.size)+'</div>'+'<div class="plupload_file_name"><span>'+file.name+'</span></div>'+
inputHTML+'</li>');handleStatus(file);$('#'+file.id+'.plupload_delete i').click(function(e){$('#'+file.id).remove();uploader.removeFile(file);e.preventDefault();});});$('span.plupload_total_file_size',target).html(plupload.formatSize(uploader.total.size));if(uploader.total.queued===0){$('span.plupload_add_text',target).text(_('Add files.'));}else{$('span.plupload_add_text',target).text(uploader.total.queued+' files queued.');}
$('a.plupload_start',target).toggleClass('plupload_disabled',uploader.files.length==(uploader.total.uploaded+uploader.total.failed));fileList[0].scrollTop=fileList[0].scrollHeight;updateTotalProgress();if(!uploader.files.length&&uploader.features.dragdrop&&uploader.settings.dragdrop){$('#'+id+'_filelist').append('<li class="plupload_droptext">'+_("ÐÐµÑÐµÑÐ°ÑÐ¸ÑÐµ ÑÐ°Ð¹Ð»Ñ Ð² ÑÑÑ Ð¾Ð±Ð»Ð°ÑÑÑ Ð¸Ð»Ð¸ Ð²Ð¾ÑÐ¿Ð¾Ð»ÑÐ·ÑÐ¹ÑÐµÑÑ ÐºÐ½Ð¾Ð¿ÐºÐ¾Ð¹ Â«ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ°Ð¹Ð»ÑÂ».")+'</li>');}}
uploader.bind("UploadFile",function(up,file){$('#'+file.id).addClass('plupload_current_file');});uploader.bind('Init',function(up,res){renderUI(id,target);if(!settings.unique_names&&settings.rename){$('#'+id+'_filelist div.plupload_file_name span',target).live('click',function(e){var targetSpan=$(e.target),file,parts,name,ext="";file=up.getFile(targetSpan.parents('li')[0].id);name=file.name;parts=/^(.+)(\.[^.]+)$/.exec(name);if(parts){name=parts[1];ext=parts[2];}
targetSpan.hide().after('<input type="text" />');targetSpan.next().val(name).focus().blur(function(){targetSpan.show().next().remove();}).keydown(function(e){var targetInput=$(this);if(e.keyCode==13){e.preventDefault();file.name=targetInput.val()+ext;targetSpan.text(file.name);targetInput.blur();}});});}
$('a.plupload_add',target).attr('id',id+'_browse');up.settings.browse_button=id+'_browse';if(up.features.dragdrop&&up.settings.dragdrop){up.settings.drop_element=id+'_filelist';$('#'+id+'_filelist').append('<li class="plupload_droptext">'+_("ÐÐµÑÐµÑÐ°ÑÐ¸ÑÐµ ÑÐ°Ð¹Ð»Ñ Ð² ÑÑÑ Ð¾Ð±Ð»Ð°ÑÑÑ Ð¸Ð»Ð¸ Ð²Ð¾ÑÐ¿Ð¾Ð»ÑÐ·ÑÐ¹ÑÐµÑÑ ÐºÐ½Ð¾Ð¿ÐºÐ¾Ð¹ Â«ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ°Ð¹Ð»ÑÂ».")+'</li>');}
$('#'+id+'_container').attr('title','ÐÐµÑÐ¾Ð´ Ð·Ð°Ð³ÑÑÐ·ÐºÐ¸: '+res.runtime);$('a.plupload_start',target).click(function(e){if(!$(this).hasClass('plupload_disabled')){uploader.start();}
e.preventDefault();});$('a.plupload_stop',target).click(function(e){e.preventDefault();uploader.stop();});$('a.plupload_start',target).addClass('plupload_disabled');});uploader.init();uploader.bind("Error",function(up,err){var file=err.file,message;if(file){message=err.message;if(err.details){message+=" ("+err.details+")";}
if(err.code==plupload.FILE_SIZE_ERROR){alert(_("ÐÑÐ¸Ð±ÐºÐ°: Ð¤Ð°Ð¹Ð» ÑÐ»Ð¸ÑÐºÐ¾Ð¼ Ð±Ð¾Ð»ÑÑÐ¾Ð¹: ")+file.name);}
if(err.code==plupload.FILE_EXTENSION_ERROR){alert(_("ÐÑÐ¸Ð±ÐºÐ°: ÐÐµÐ²ÐµÑÐ½Ð¾Ðµ ÑÐ°ÑÑÐ¸ÑÐµÐ½Ð¸Ðµ ÑÐ°Ð¹Ð»Ð°: ")+file.name);}
file.hint=message;$('#'+file.id).attr('class','plupload_failed').find('i').css('display','block').attr('title',message);}});uploader.bind('StateChanged',function(){if(uploader.state===plupload.STARTED){$('li.plupload_delete a,div.plupload_buttons',target).hide();$('span.plupload_upload_status,div.plupload_progress,a.plupload_stop',target).css('display','block');$('span.plupload_upload_status',target).text('ÐÐ°Ð³ÑÑÐ¶ÐµÐ½Ð¾: '+uploader.total.uploaded+'/'+uploader.files.length);if(settings.multiple_queues){$('span.plupload_total_status,span.plupload_total_file_size',target).show();}}else{updateList();$('a.plupload_stop,div.plupload_progress',target).hide();$('a.plupload_delete',target).css('display','block');}});uploader.bind('QueueChanged',updateList);uploader.bind('FileUploaded',function(up,file){handleStatus(file);});uploader.bind("UploadProgress",function(up,file){$('#'+file.id+' div.plupload_file_status',target).html(file.percent+'%');handleStatus(file);updateTotalProgress();if(settings.multiple_queues&&uploader.total.uploaded+uploader.total.failed==uploader.files.length){$(".plupload_buttons,.plupload_upload_status",target).css("display","inline");$(".plupload_start",target).addClass("plupload_disabled");$('span.plupload_total_status,span.plupload_total_file_size',target).hide();}});if(settings.setup){settings.setup(uploader);}});return this;}else{return uploaders[$(this[0]).attr('id')];}};})(jQuery);;var frFUNAPI_existentItems={};var frFUNAPI_lastEvent='';var frFUNAPI_lastObject='';function tesoWEBRINGRedirect(data){location.href=data.text;}
function tesoWEBRINGToolTip(data){frFUNAPI_existentItems[data.status]=data.text;jQuery("#tesoWebRingInputArea").html(data.text);tesoWEBRINGSetToolTipCoords(frFUNAPI_lastEvent,frFUNAPI_lastObject);frFUNAPI_lastEvent='';frFUNAPI_lastObject='';}
function tesoWEBRINGSetToolTipCoords(e,thisM){var mX=e.pageX;var mY=e.pageY;var offset=thisM.offset();var tt=jQuery("#tesoWebRingInputArea .elzDBTooltip");var icon=jQuery("#tesoWebRingInputArea .elzDBIcon");var wWidth=jQuery(window).width();var wHeight=jQuery(window).height();var ttWidth=parseInt(tt.width()+10+icon.width());var ttHeight=tt.height();var setLeft=0;var setTop=0;if(mX+ttWidth>wWidth){setLeft=mX-ttWidth;icon.addClass("right");}
else{setLeft=mX+10+10+icon.width();icon.removeClass("right");}
if((mY-jQuery(window).scrollTop())+ttHeight>wHeight){setTop=offset.top-10-thisM.height()-ttHeight+35;}
else{setTop=offset.top+10+thisM.height();}
tt.css("left",setLeft).css("top",setTop);}
(function(jQuery){jQuery.fn.extend({fullrestToolTipInit:function(options){if(!jQuery.browser.msie||(jQuery.browser.msie&&jQuery.browser.version>6)){return this.each(function(){if(jQuery(this).hasClass("frFUNDBinited"))
return;else{if(jQuery(this).attr("data-bditemid")){var itemId=jQuery(this).attr("data-bditemid");var hoverInit=1;}
else{var href=jQuery(this).attr("href");if(href){href=href.toString();href=href.toLowerCase();href=href.replace(new RegExp("http(s)?://",'i'),"");href=href.replace(new RegExp("www.",'i'),"");var splited=href.split("/");if(splited.length==3&&splited[1]=='db'&&(splited[0]=='fullrest.ru'||splited[0]=='tesonline.ru')){if(/[^[0-9]/.test(splited[2]))
var hoverInit=0;else{var itemId=splited[2];var hoverInit=1;}}
else
var hoverInit=0;}
else
var hoverInit=0;}
if(hoverInit){if(jQuery(this).find("img").length){var noIcon="&noicon=1";var noIconE='_1';}
else{var noIcon="";var noIconE='_0';}
jQuery(this).mouseenter(function(e){var thisM=jQuery(this);if(frFUNAPI_existentItems["id"+"_"+itemId]!=undefined){jQuery("#tesoWebRingInputArea").html(frFUNAPI_existentItems["id"+"_"+itemId+noIconE]);tesoWEBRINGSetToolTipCoords(e,thisM);}
else{frFUNAPI_lastEvent=e;frFUNAPI_lastObject=jQuery(this);jQuery.ajax({url:"http://"+location.hostname.toLowerCase()+"/api/webring/tooltip?i="+itemId+"&h="+location.hostname.toLowerCase()+"&r="+escape(location.href)+noIcon,dataType:'jsonp',crossDomain:true,xhrFields:{withCredentials:true}});}});jQuery(this).mouseleave(function(e){jQuery("#tesoWebRingInputArea").html("");});jQuery(this).mousemove(function(e){tesoWEBRINGSetToolTipCoords(e,jQuery(this));});}
jQuery(this).addClass("frFUNDBinited").closest("figure.bb").addClass("noTick");}});}}});})(jQuery);jQuery(function(){jQuery("a").fullrestToolTipInit();jQuery("body").append('<div id="tesoWebRingInputArea" style="margin-left:-600px"></div>');});;(function($){function SVGManager(){this._settings=[];this._extensions=[];this.regional=[];this.regional['']={errorLoadingText:'Error loading',notSupportedText:'This browser does not support SVG'};this.local=this.regional[''];this._uuid=new Date().getTime();this._renesis=detectActiveX('RenesisX.RenesisCtrl');}
function detectActiveX(classId){try{return!!(window.ActiveXObject&&new ActiveXObject(classId));}
catch(e){return false;}}
var PROP_NAME='svgwrapper';$.extend(SVGManager.prototype,{markerClassName:'hasSVG',svgNS:'http://www.w3.org/2000/svg',xlinkNS:'http://www.w3.org/1999/xlink',_wrapperClass:SVGWrapper,_attrNames:{class_:'class',in_:'in',alignmentBaseline:'alignment-baseline',baselineShift:'baseline-shift',clipPath:'clip-path',clipRule:'clip-rule',colorInterpolation:'color-interpolation',colorInterpolationFilters:'color-interpolation-filters',colorRendering:'color-rendering',dominantBaseline:'dominant-baseline',enableBackground:'enable-background',fillOpacity:'fill-opacity',fillRule:'fill-rule',floodColor:'flood-color',floodOpacity:'flood-opacity',fontFamily:'font-family',fontSize:'font-size',fontSizeAdjust:'font-size-adjust',fontStretch:'font-stretch',fontStyle:'font-style',fontVariant:'font-variant',fontWeight:'font-weight',glyphOrientationHorizontal:'glyph-orientation-horizontal',glyphOrientationVertical:'glyph-orientation-vertical',horizAdvX:'horiz-adv-x',horizOriginX:'horiz-origin-x',imageRendering:'image-rendering',letterSpacing:'letter-spacing',lightingColor:'lighting-color',markerEnd:'marker-end',markerMid:'marker-mid',markerStart:'marker-start',stopColor:'stop-color',stopOpacity:'stop-opacity',strikethroughPosition:'strikethrough-position',strikethroughThickness:'strikethrough-thickness',strokeDashArray:'stroke-dasharray',strokeDashOffset:'stroke-dashoffset',strokeLineCap:'stroke-linecap',strokeLineJoin:'stroke-linejoin',strokeMiterLimit:'stroke-miterlimit',strokeOpacity:'stroke-opacity',strokeWidth:'stroke-width',textAnchor:'text-anchor',textDecoration:'text-decoration',textRendering:'text-rendering',underlinePosition:'underline-position',underlineThickness:'underline-thickness',vertAdvY:'vert-adv-y',vertOriginY:'vert-origin-y',wordSpacing:'word-spacing',writingMode:'writing-mode'},_attachSVG:function(container,settings){var svg=(container.namespaceURI==this.svgNS?container:null);var container=(svg?null:container);if($(container||svg).hasClass(this.markerClassName)){return;}
if(typeof settings=='string'){settings={loadURL:settings};}
else if(typeof settings=='function'){settings={onLoad:settings};}
$(container||svg).addClass(this.markerClassName);try{if(!svg){svg=document.createElementNS(this.svgNS,'svg');svg.setAttribute('version','1.1');if(container.clientWidth>0){svg.setAttribute('width',container.clientWidth);}
if(container.clientHeight>0){svg.setAttribute('height',container.clientHeight);}
container.appendChild(svg);}
this._afterLoad(container,svg,settings||{});}
catch(e){if($.browser.msie){if(!container.id){container.id='svg'+(this._uuid++);}
this._settings[container.id]=settings;container.innerHTML='<embed type="image/svg+xml" width="100%" '+'height="100%" src="'+(settings.initPath||'')+'blank.svg" '+'pluginspage="http://www.adobe.com/svg/viewer/install/main.html"/>';}
else{container.innerHTML='<p class="svg_error">'+
this.local.notSupportedText+'</p>';}}},_registerSVG:function(){for(var i=0;i<document.embeds.length;i++){var container=document.embeds[i].parentNode;if(!$(container).hasClass($.svg.markerClassName)||$.data(container,PROP_NAME)){continue;}
var svg=null;try{svg=document.embeds[i].getSVGDocument();}
catch(e){setTimeout($.svg._registerSVG,250);return;}
svg=(svg?svg.documentElement:null);if(svg){$.svg._afterLoad(container,svg);}}},_afterLoad:function(container,svg,settings){var settings=settings||this._settings[container.id];this._settings[container?container.id:'']=null;var wrapper=new this._wrapperClass(svg,container);$.data(container||svg,PROP_NAME,wrapper);try{if(settings.loadURL){wrapper.load(settings.loadURL,settings);}
if(settings.settings){wrapper.configure(settings.settings);}
if(settings.onLoad&&!settings.loadURL){settings.onLoad.apply(container||svg,[wrapper]);}}
catch(e){alert(e);}},_getSVG:function(container){container=(typeof container=='string'?$(container)[0]:(container.jquery?container[0]:container));return $.data(container,PROP_NAME);},_destroySVG:function(container){var $container=$(container);if(!$container.hasClass(this.markerClassName)){return;}
$container.removeClass(this.markerClassName);if(container.namespaceURI!=this.svgNS){$container.empty();}
$.removeData(container,PROP_NAME);},addExtension:function(name,extClass){this._extensions.push([name,extClass]);},isSVGElem:function(node){return(node.nodeType==1&&node.namespaceURI==$.svg.svgNS);}});function SVGWrapper(svg,container){this._svg=svg;this._container=container;for(var i=0;i<$.svg._extensions.length;i++){var extension=$.svg._extensions[i];this[extension[0]]=new extension[1](this);}}
$.extend(SVGWrapper.prototype,{_width:function(){return(this._container?this._container.clientWidth:this._svg.width);},_height:function(){return(this._container?this._container.clientHeight:this._svg.height);},root:function(){return this._svg;},configure:function(node,settings,clear){if(!node.nodeName){clear=settings;settings=node;node=this._svg;}
if(clear){for(var i=node.attributes.length-1;i>=0;i--){var attr=node.attributes.item(i);if(!(attr.nodeName=='onload'||attr.nodeName=='version'||attr.nodeName.substring(0,5)=='xmlns')){node.attributes.removeNamedItem(attr.nodeName);}}}
for(var attrName in settings){node.setAttribute($.svg._attrNames[attrName]||attrName,settings[attrName]);}
return this;},getElementById:function(id){return this._svg.ownerDocument.getElementById(id);},change:function(element,settings){if(element){for(var name in settings){if(settings[name]==null){element.removeAttribute($.svg._attrNames[name]||name);}
else{element.setAttribute($.svg._attrNames[name]||name,settings[name]);}}}
return this;},_args:function(values,names,optSettings){names.splice(0,0,'parent');names.splice(names.length,0,'settings');var args={};var offset=0;if(values[0]!=null&&values[0].jquery){values[0]=values[0][0];}
if(values[0]!=null&&!(typeof values[0]=='object'&&values[0].nodeName)){args['parent']=null;offset=1;}
for(var i=0;i<values.length;i++){args[names[i+offset]]=values[i];}
if(optSettings){$.each(optSettings,function(i,value){if(typeof args[value]=='object'){args.settings=args[value];args[value]=null;}});}
return args;},title:function(parent,text,settings){var args=this._args(arguments,['text']);var node=this._makeNode(args.parent,'title',args.settings||{});node.appendChild(this._svg.ownerDocument.createTextNode(args.text));return node;},describe:function(parent,text,settings){var args=this._args(arguments,['text']);var node=this._makeNode(args.parent,'desc',args.settings||{});node.appendChild(this._svg.ownerDocument.createTextNode(args.text));return node;},defs:function(parent,id,settings){var args=this._args(arguments,['id'],['id']);return this._makeNode(args.parent,'defs',$.extend((args.id?{id:args.id}:{}),args.settings||{}));},symbol:function(parent,id,x1,y1,width,height,settings){var args=this._args(arguments,['id','x1','y1','width','height']);return this._makeNode(args.parent,'symbol',$.extend({id:args.id,viewBox:args.x1+' '+args.y1+' '+args.width+' '+args.height},args.settings||{}));},marker:function(parent,id,refX,refY,mWidth,mHeight,orient,settings){var args=this._args(arguments,['id','refX','refY','mWidth','mHeight','orient'],['orient']);return this._makeNode(args.parent,'marker',$.extend({id:args.id,refX:args.refX,refY:args.refY,markerWidth:args.mWidth,markerHeight:args.mHeight,orient:args.orient||'auto'},args.settings||{}));},style:function(parent,styles,settings){var args=this._args(arguments,['styles']);var node=this._makeNode(args.parent,'style',$.extend({type:'text/css'},args.settings||{}));node.appendChild(this._svg.ownerDocument.createTextNode(args.styles));if($.browser.opera){$('head').append('<style type="text/css">'+args.styles+'</style>');}
return node;},script:function(parent,script,type,settings){var args=this._args(arguments,['script','type'],['type']);var node=this._makeNode(args.parent,'script',$.extend({type:args.type||'text/javascript'},args.settings||{}));node.appendChild(this._svg.ownerDocument.createTextNode(args.script));if(!$.browser.mozilla){$.globalEval(args.script);}
return node;},linearGradient:function(parent,id,stops,x1,y1,x2,y2,settings){var args=this._args(arguments,['id','stops','x1','y1','x2','y2'],['x1']);var sets=$.extend({id:args.id},(args.x1!=null?{x1:args.x1,y1:args.y1,x2:args.x2,y2:args.y2}:{}));return this._gradient(args.parent,'linearGradient',$.extend(sets,args.settings||{}),args.stops);},radialGradient:function(parent,id,stops,cx,cy,r,fx,fy,settings){var args=this._args(arguments,['id','stops','cx','cy','r','fx','fy'],['cx']);var sets=$.extend({id:args.id},(args.cx!=null?{cx:args.cx,cy:args.cy,r:args.r,fx:args.fx,fy:args.fy}:{}));return this._gradient(args.parent,'radialGradient',$.extend(sets,args.settings||{}),args.stops);},_gradient:function(parent,name,settings,stops){var node=this._makeNode(parent,name,settings);for(var i=0;i<stops.length;i++){var stop=stops[i];this._makeNode(node,'stop',$.extend({offset:stop[0],stopColor:stop[1]},(stop[2]!=null?{stopOpacity:stop[2]}:{})));}
return node;},pattern:function(parent,id,x,y,width,height,vx,vy,vwidth,vheight,settings){var args=this._args(arguments,['id','x','y','width','height','vx','vy','vwidth','vheight'],['vx']);var sets=$.extend({id:args.id,x:args.x,y:args.y,width:args.width,height:args.height},(args.vx!=null?{viewBox:args.vx+' '+args.vy+' '+args.vwidth+' '+args.vheight}:{}));return this._makeNode(args.parent,'pattern',$.extend(sets,args.settings||{}));},clipPath:function(parent,id,units,settings){var args=this._args(arguments,['id','units']);args.units=args.units||'userSpaceOnUse';return this._makeNode(args.parent,'clipPath',$.extend({id:args.id,clipPathUnits:args.units},args.settings||{}));},mask:function(parent,id,x,y,width,height,settings){var args=this._args(arguments,['id','x','y','width','height']);return this._makeNode(args.parent,'mask',$.extend({id:args.id,x:args.x,y:args.y,width:args.width,height:args.height},args.settings||{}));},createPath:function(){return new SVGPath();},createText:function(){return new SVGText();},svg:function(parent,x,y,width,height,vx,vy,vwidth,vheight,settings){var args=this._args(arguments,['x','y','width','height','vx','vy','vwidth','vheight'],['vx']);var sets=$.extend({x:args.x,y:args.y,width:args.width,height:args.height},(args.vx!=null?{viewBox:args.vx+' '+args.vy+' '+
args.vwidth+' '+args.vheight}:{}));return this._makeNode(args.parent,'svg',$.extend(sets,args.settings||{}));},group:function(parent,id,settings){var args=this._args(arguments,['id'],['id']);return this._makeNode(args.parent,'g',$.extend({id:args.id},args.settings||{}));},use:function(parent,x,y,width,height,ref,settings){var args=this._args(arguments,['x','y','width','height','ref']);if(typeof args.x=='string'){args.ref=args.x;args.settings=args.y;args.x=args.y=args.width=args.height=null;}
var node=this._makeNode(args.parent,'use',$.extend({x:args.x,y:args.y,width:args.width,height:args.height},args.settings||{}));node.setAttributeNS($.svg.xlinkNS,'href',args.ref);return node;},link:function(parent,ref,settings){var args=this._args(arguments,['ref']);var node=this._makeNode(args.parent,'a',args.settings);node.setAttributeNS($.svg.xlinkNS,'href',args.ref);return node;},image:function(parent,x,y,width,height,ref,settings){var args=this._args(arguments,['x','y','width','height','ref']);var node=this._makeNode(args.parent,'image',$.extend({x:args.x,y:args.y,width:args.width,height:args.height},args.settings||{}));node.setAttributeNS($.svg.xlinkNS,'href',args.ref);return node;},path:function(parent,path,settings){var args=this._args(arguments,['path']);return this._makeNode(args.parent,'path',$.extend({d:(args.path.path?args.path.path():args.path)},args.settings||{}));},rect:function(parent,x,y,width,height,rx,ry,settings){var args=this._args(arguments,['x','y','width','height','rx','ry'],['rx']);return this._makeNode(args.parent,'rect',$.extend({x:args.x,y:args.y,width:args.width,height:args.height},(args.rx?{rx:args.rx,ry:args.ry}:{}),args.settings||{}));},circle:function(parent,cx,cy,r,settings){var args=this._args(arguments,['cx','cy','r']);return this._makeNode(args.parent,'circle',$.extend({cx:args.cx,cy:args.cy,r:args.r},args.settings||{}));},ellipse:function(parent,cx,cy,rx,ry,settings){var args=this._args(arguments,['cx','cy','rx','ry']);return this._makeNode(args.parent,'ellipse',$.extend({cx:args.cx,cy:args.cy,rx:args.rx,ry:args.ry},args.settings||{}));},line:function(parent,x1,y1,x2,y2,settings){var args=this._args(arguments,['x1','y1','x2','y2']);return this._makeNode(args.parent,'line',$.extend({x1:args.x1,y1:args.y1,x2:args.x2,y2:args.y2},args.settings||{}));},polyline:function(parent,points,settings){var args=this._args(arguments,['points']);return this._poly(args.parent,'polyline',args.points,args.settings);},polygon:function(parent,points,settings){var args=this._args(arguments,['points']);return this._poly(args.parent,'polygon',args.points,args.settings);},_poly:function(parent,name,points,settings){var ps='';for(var i=0;i<points.length;i++){ps+=points[i].join()+' ';}
return this._makeNode(parent,name,$.extend({points:$.trim(ps)},settings||{}));},text:function(parent,x,y,value,settings){var args=this._args(arguments,['x','y','value']);if(typeof args.x=='string'&&arguments.length<4){args.value=args.x;args.settings=args.y;args.x=args.y=null;}
return this._text(args.parent,'text',args.value,$.extend({x:(args.x&&isArray(args.x)?args.x.join(' '):args.x),y:(args.y&&isArray(args.y)?args.y.join(' '):args.y)},args.settings||{}));},textpath:function(parent,path,value,settings){var args=this._args(arguments,['path','value']);var node=this._text(args.parent,'textPath',args.value,args.settings||{});node.setAttributeNS($.svg.xlinkNS,'href',args.path);return node;},_text:function(parent,name,value,settings){var node=this._makeNode(parent,name,settings);if(typeof value=='string'){node.appendChild(node.ownerDocument.createTextNode(value));}
else{for(var i=0;i<value._parts.length;i++){var part=value._parts[i];if(part[0]=='tspan'){var child=this._makeNode(node,part[0],part[2]);child.appendChild(node.ownerDocument.createTextNode(part[1]));node.appendChild(child);}
else if(part[0]=='tref'){var child=this._makeNode(node,part[0],part[2]);child.setAttributeNS($.svg.xlinkNS,'href',part[1]);node.appendChild(child);}
else if(part[0]=='textpath'){var set=$.extend({},part[2]);set.href=null;var child=this._makeNode(node,part[0],set);child.setAttributeNS($.svg.xlinkNS,'href',part[2].href);child.appendChild(node.ownerDocument.createTextNode(part[1]));node.appendChild(child);}
else{node.appendChild(node.ownerDocument.createTextNode(part[1]));}}}
return node;},other:function(parent,name,settings){var args=this._args(arguments,['name']);return this._makeNode(args.parent,args.name,args.settings||{});},_makeNode:function(parent,name,settings){parent=parent||this._svg;var node=this._svg.ownerDocument.createElementNS($.svg.svgNS,name);for(var name in settings){var value=settings[name];if(value!=null&&value!=null&&(typeof value!='string'||value!='')){node.setAttribute($.svg._attrNames[name]||name,value);}}
parent.appendChild(node);return node;},add:function(parent,node){var args=this._args((arguments.length==1?[null,parent]:arguments),['node']);var svg=this;args.parent=args.parent||this._svg;args.node=(args.node.jquery?args.node:$(args.node));try{if($.svg._renesis){throw'Force traversal';}
args.parent.appendChild(args.node.cloneNode(true));}
catch(e){args.node.each(function(){var child=svg._cloneAsSVG(this);if(child){args.parent.appendChild(child);}});}
return this;},clone:function(parent,node){var svg=this;var args=this._args((arguments.length==1?[null,parent]:arguments),['node']);args.parent=args.parent||this._svg;args.node=(args.node.jquery?args.node:$(args.node));var newNodes=[];args.node.each(function(){var child=svg._cloneAsSVG(this);if(child){child.id='';args.parent.appendChild(child);newNodes.push(child);}});return newNodes;},_cloneAsSVG:function(node){var newNode=null;if(node.nodeType==1){newNode=this._svg.ownerDocument.createElementNS($.svg.svgNS,this._checkName(node.nodeName));for(var i=0;i<node.attributes.length;i++){var attr=node.attributes.item(i);if(attr.nodeName!='xmlns'&&attr.nodeValue){if(attr.prefix=='xlink'){newNode.setAttributeNS($.svg.xlinkNS,attr.localName||attr.baseName,attr.nodeValue);}
else{newNode.setAttribute(this._checkName(attr.nodeName),attr.nodeValue);}}}
for(var i=0;i<node.childNodes.length;i++){var child=this._cloneAsSVG(node.childNodes[i]);if(child){newNode.appendChild(child);}}}
else if(node.nodeType==3){if($.trim(node.nodeValue)){newNode=this._svg.ownerDocument.createTextNode(node.nodeValue);}}
else if(node.nodeType==4){if($.trim(node.nodeValue)){try{newNode=this._svg.ownerDocument.createCDATASection(node.nodeValue);}
catch(e){newNode=this._svg.ownerDocument.createTextNode(node.nodeValue.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'));}}}
return newNode;},_checkName:function(name){name=(name.substring(0,1)>='A'&&name.substring(0,1)<='Z'?name.toLowerCase():name);return(name.substring(0,4)=='svg:'?name.substring(4):name);},load:function(url,settings){settings=(typeof settings=='boolean'?{addTo:settings}:(typeof settings=='function'?{onLoad:settings}:(typeof settings=='string'?{parent:settings}:(typeof settings=='object'&&settings.nodeName?{parent:settings}:(typeof settings=='object'&&settings.jquery?{parent:settings}:settings||{})))));if(!settings.parent&&!settings.addTo){this.clear(false);}
var size=[this._svg.getAttribute('width'),this._svg.getAttribute('height')];var wrapper=this;var reportError=function(message){message=$.svg.local.errorLoadingText+': '+message;if(settings.onLoad){settings.onLoad.apply(wrapper._container||wrapper._svg,[wrapper,message]);}
else{wrapper.text(null,10,20,message);}};var loadXML4IE=function(data){var xml=new ActiveXObject('Microsoft.XMLDOM');xml.validateOnParse=false;xml.resolveExternals=false;xml.async=false;xml.loadXML(data);if(xml.parseError.errorCode!=0){reportError(xml.parseError.reason);return null;}
return xml;};var loadSVG=function(data){if(!data){return;}
if(data.documentElement.nodeName!='svg'){var errors=data.getElementsByTagName('parsererror');var messages=(errors.length?errors[0].getElementsByTagName('div'):[]);reportError(!errors.length?'???':(messages.length?messages[0]:errors[0]).firstChild.nodeValue);return;}
var parent=(settings.parent?$(settings.parent)[0]:wrapper._svg);var attrs={};for(var i=0;i<data.documentElement.attributes.length;i++){var attr=data.documentElement.attributes.item(i);if(!(attr.nodeName=='version'||attr.nodeName.substring(0,5)=='xmlns')){attrs[attr.nodeName]=attr.nodeValue;}}
wrapper.configure(parent,attrs,!settings.parent);var nodes=data.documentElement.childNodes;for(var i=0;i<nodes.length;i++){try{if($.svg._renesis){throw'Force traversal';}
parent.appendChild(wrapper._svg.ownerDocument.importNode(nodes[i],true));if(nodes[i].nodeName=='script'){$.globalEval(nodes[i].textContent);}}
catch(e){wrapper.add(parent,nodes[i]);}}
if(!settings.changeSize){wrapper.configure(parent,{width:size[0],height:size[1]});}
if(settings.onLoad){settings.onLoad.apply(wrapper._container||wrapper._svg,[wrapper]);}};if(url.match('<svg')){loadSVG($.browser.msie?loadXML4IE(url):new DOMParser().parseFromString(url,'text/xml'));}
else{$.ajax({url:url,dataType:($.browser.msie?'text':'xml'),success:function(xml){loadSVG($.browser.msie?loadXML4IE(xml):xml);},error:function(http,message,exc){reportError(message+(exc?' '+exc.message:''));}});}
return this;},remove:function(node){node=(node.jquery?node[0]:node);node.parentNode.removeChild(node);return this;},clear:function(attrsToo){if(attrsToo){this.configure({},true);}
while(this._svg.firstChild){this._svg.removeChild(this._svg.firstChild);}
return this;},toSVG:function(node){node=node||this._svg;return(typeof XMLSerializer=='undefined'?this._toSVG(node):new XMLSerializer().serializeToString(node));},_toSVG:function(node){var svgDoc='';if(!node){return svgDoc;}
if(node.nodeType==3){svgDoc=node.nodeValue;}
else if(node.nodeType==4){svgDoc='<![CDATA['+node.nodeValue+']]>';}
else{svgDoc='<'+node.nodeName;if(node.attributes){for(var i=0;i<node.attributes.length;i++){var attr=node.attributes.item(i);if(!($.trim(attr.nodeValue)==''||attr.nodeValue.match(/^\[object/)||attr.nodeValue.match(/^function/))){svgDoc+=' '+(attr.namespaceURI==$.svg.xlinkNS?'xlink:':'')+
attr.nodeName+'="'+attr.nodeValue+'"';}}}
if(node.firstChild){svgDoc+='>';var child=node.firstChild;while(child){svgDoc+=this._toSVG(child);child=child.nextSibling;}
svgDoc+='</'+node.nodeName+'>';}
else{svgDoc+='/>';}}
return svgDoc;}});function SVGPath(){this._path='';}
$.extend(SVGPath.prototype,{reset:function(){this._path='';return this;},move:function(x,y,relative){relative=(isArray(x)?y:relative);return this._coords((relative?'m':'M'),x,y);},line:function(x,y,relative){relative=(isArray(x)?y:relative);return this._coords((relative?'l':'L'),x,y);},horiz:function(x,relative){this._path+=(relative?'h':'H')+(isArray(x)?x.join(' '):x);return this;},vert:function(y,relative){this._path+=(relative?'v':'V')+(isArray(y)?y.join(' '):y);return this;},curveC:function(x1,y1,x2,y2,x,y,relative){relative=(isArray(x1)?y1:relative);return this._coords((relative?'c':'C'),x1,y1,x2,y2,x,y);},smoothC:function(x2,y2,x,y,relative){relative=(isArray(x2)?y2:relative);return this._coords((relative?'s':'S'),x2,y2,x,y);},curveQ:function(x1,y1,x,y,relative){relative=(isArray(x1)?y1:relative);return this._coords((relative?'q':'Q'),x1,y1,x,y);},smoothQ:function(x,y,relative){relative=(isArray(x)?y:relative);return this._coords((relative?'t':'T'),x,y);},_coords:function(cmd,x1,y1,x2,y2,x3,y3){if(isArray(x1)){for(var i=0;i<x1.length;i++){var cs=x1[i];this._path+=(i==0?cmd:' ')+cs[0]+','+cs[1]+
(cs.length<4?'':' '+cs[2]+','+cs[3]+
(cs.length<6?'':' '+cs[4]+','+cs[5]));}}
else{this._path+=cmd+x1+','+y1+
(x2==null?'':' '+x2+','+y2+
(x3==null?'':' '+x3+','+y3));}
return this;},arc:function(rx,ry,xRotate,large,clockwise,x,y,relative){relative=(isArray(rx)?ry:relative);this._path+=(relative?'a':'A');if(isArray(rx)){for(var i=0;i<rx.length;i++){var cs=rx[i];this._path+=(i==0?'':' ')+cs[0]+','+cs[1]+' '+
cs[2]+' '+(cs[3]?'1':'0')+','+
(cs[4]?'1':'0')+' '+cs[5]+','+cs[6];}}
else{this._path+=rx+','+ry+' '+xRotate+' '+
(large?'1':'0')+','+(clockwise?'1':'0')+' '+x+','+y;}
return this;},close:function(){this._path+='z';return this;},path:function(){return this._path;}});SVGPath.prototype.moveTo=SVGPath.prototype.move;SVGPath.prototype.lineTo=SVGPath.prototype.line;SVGPath.prototype.horizTo=SVGPath.prototype.horiz;SVGPath.prototype.vertTo=SVGPath.prototype.vert;SVGPath.prototype.curveCTo=SVGPath.prototype.curveC;SVGPath.prototype.smoothCTo=SVGPath.prototype.smoothC;SVGPath.prototype.curveQTo=SVGPath.prototype.curveQ;SVGPath.prototype.smoothQTo=SVGPath.prototype.smoothQ;SVGPath.prototype.arcTo=SVGPath.prototype.arc;function SVGText(){this._parts=[];}
$.extend(SVGText.prototype,{reset:function(){this._parts=[];return this;},string:function(value){this._parts[this._parts.length]=['text',value];return this;},span:function(value,settings){this._parts[this._parts.length]=['tspan',value,settings];return this;},ref:function(id,settings){this._parts[this._parts.length]=['tref',id,settings];return this;},path:function(id,value,settings){this._parts[this._parts.length]=['textpath',value,$.extend({href:id},settings||{})];return this;}});$.fn.svg=function(options){var otherArgs=Array.prototype.slice.call(arguments,1);if(typeof options=='string'&&options=='get'){return $.svg['_'+options+'SVG'].apply($.svg,[this[0]].concat(otherArgs));}
return this.each(function(){if(typeof options=='string'){$.svg['_'+options+'SVG'].apply($.svg,[this].concat(otherArgs));}
else{$.svg._attachSVG(this,options||{});}});};function isArray(a){return(a&&a.constructor==Array);}
$.svg=new SVGManager();})(jQuery);;(function($){$.fn.addClass=function(origAddClass){return function(classNames){classNames=classNames||'';return this.each(function(){if($.svg.isSVGElem(this)){var node=this;$.each(classNames.split(/\s+/),function(i,className){var classes=(node.className?node.className.baseVal:node.getAttribute('class'));if($.inArray(className,classes.split(/\s+/))==-1){classes+=(classes?' ':'')+className;(node.className?node.className.baseVal=classes:node.setAttribute('class',classes));}});}
else{origAddClass.apply($(this),[classNames]);}});};}($.fn.addClass);$.fn.removeClass=function(origRemoveClass){return function(classNames){classNames=classNames||'';return this.each(function(){if($.svg.isSVGElem(this)){var node=this;$.each(classNames.split(/\s+/),function(i,className){var classes=(node.className?node.className.baseVal:node.getAttribute('class'));classes=$.grep(classes.split(/\s+/),function(n,i){return n!=className;}).join(' ');(node.className?node.className.baseVal=classes:node.setAttribute('class',classes));});}
else{origRemoveClass.apply($(this),[classNames]);}});};}($.fn.removeClass);$.fn.toggleClass=function(origToggleClass){return function(className,state){return this.each(function(){if($.svg.isSVGElem(this)){if(typeof state!=='boolean'){state=!$(this).hasClass(className);}
$(this)[(state?'add':'remove')+'Class'](className);}
else{origToggleClass.apply($(this),[className,state]);}});};}($.fn.toggleClass);$.fn.hasClass=function(origHasClass){return function(className){className=className||'';var found=false;this.each(function(){if($.svg.isSVGElem(this)){var classes=(this.className?this.className.baseVal:this.getAttribute('class')).split(/\s+/);found=($.inArray(className,classes)>-1);}
else{found=(origHasClass.apply($(this),[className]));}
return!found;});return found;};}($.fn.hasClass);$.fn.attr=function(origAttr){return function(name,value,type){if(typeof name==='string'&&value===undefined){var val=origAttr.apply(this,[name]);if(val&&val.baseVal&&val.baseVal.numberOfItems!=null){value='';val=val.baseVal;if(name=='transform'){for(var i=0;i<val.numberOfItems;i++){var item=val.getItem(i);switch(item.type){case 1:value+=' matrix('+item.matrix.a+','+item.matrix.b+','+
item.matrix.c+','+item.matrix.d+','+
item.matrix.e+','+item.matrix.f+')';break;case 2:value+=' translate('+item.matrix.e+','+item.matrix.f+')';break;case 3:value+=' scale('+item.matrix.a+','+item.matrix.d+')';break;case 4:value+=' rotate('+item.angle+')';break;case 5:value+=' skewX('+item.angle+')';break;case 6:value+=' skewY('+item.angle+')';break;}}
val=value.substring(1);}
else{val=val.getItem(0).valueAsString;}}
return(val&&val.baseVal?val.baseVal.valueAsString:val);}
var options=name;if(typeof name==='string'){options={};options[name]=value;}
return this.each(function(){if($.svg.isSVGElem(this)){for(var n in options){var val=($.isFunction(options[n])?options[n]():options[n]);(type?this.style[n]=val:this.setAttribute(n,val));}}
else{origAttr.apply($(this),[name,value,type]);}});};}($.fn.attr);$.fn.removeAttr=function(origRemoveAttr){return function(name){return this.each(function(){if($.svg.isSVGElem(this)){(this[name]&&this[name].baseVal?this[name].baseVal.value='':this.setAttribute(name,''));}
else{origRemoveAttr.apply($(this),[name]);}});};}($.fn.removeAttr);$.extend($.cssNumber,{'stopOpacity':true,'strokeMitrelimit':true,'strokeOpacity':true});if($.cssProps){$.css=function(origCSS){return function(elem,name,extra){var value=(name.match(/^svg.*/)?$(elem).attr($.cssProps[name]||name):'');return value||origCSS(elem,name,extra);};}($.css);}
function anySVG(checkSet){for(var i=0;i<checkSet.length;i++){if(checkSet[i].nodeType==1&&checkSet[i].namespaceURI==$.svg.svgNS){return true;}}
return false;}
$.expr.relative['+']=function(origRelativeNext){return function(checkSet,part,isXML){origRelativeNext(checkSet,part,isXML||anySVG(checkSet));};}($.expr.relative['+']);$.expr.relative['>']=function(origRelativeChild){return function(checkSet,part,isXML){origRelativeChild(checkSet,part,isXML||anySVG(checkSet));};}($.expr.relative['>']);$.expr.relative['']=function(origRelativeDescendant){return function(checkSet,part,isXML){origRelativeDescendant(checkSet,part,isXML||anySVG(checkSet));};}($.expr.relative['']);$.expr.relative['~']=function(origRelativeSiblings){return function(checkSet,part,isXML){origRelativeSiblings(checkSet,part,isXML||anySVG(checkSet));};}($.expr.relative['~']);$.expr.find.ID=function(origFindId){return function(match,context,isXML){return($.svg.isSVGElem(context)?[context.ownerDocument.getElementById(match[1])]:origFindId(match,context,isXML));};}($.expr.find.ID);var div=document.createElement('div');div.appendChild(document.createComment(''));if(div.getElementsByTagName('*').length>0){$.expr.find.TAG=function(match,context){var results=context.getElementsByTagName(match[1]);if(match[1]==='*'){var tmp=[];for(var i=0;results[i]||results.item(i);i++){if((results[i]||results.item(i)).nodeType===1){tmp.push(results[i]||results.item(i));}}
results=tmp;}
return results;};}
$.expr.preFilter.CLASS=function(match,curLoop,inplace,result,not,isXML){match=' '+match[1].replace(/\\/g,'')+' ';if(isXML){return match;}
for(var i=0,elem={};elem!=null;i++){elem=curLoop[i];if(!elem){try{elem=curLoop.item(i);}
catch(e){}}
if(elem){var className=(!$.svg.isSVGElem(elem)?elem.className:(elem.className?elem.className.baseVal:'')||elem.getAttribute('class'));if(not^(className&&(' '+className+' ').indexOf(match)>-1)){if(!inplace)
result.push(elem);}
else if(inplace){curLoop[i]=false;}}}
return false;};$.expr.filter.CLASS=function(elem,match){var className=(!$.svg.isSVGElem(elem)?elem.className:(elem.className?elem.className.baseVal:elem.getAttribute('class')));return(' '+className+' ').indexOf(match)>-1;};$.expr.filter.ATTR=function(origFilterAttr){return function(elem,match){var handler=null;if($.svg.isSVGElem(elem)){handler=match[1];$.expr.attrHandle[handler]=function(elem){var attr=elem.getAttribute(handler);return attr&&attr.baseVal||attr;};}
var filter=origFilterAttr(elem,match);if(handler){$.expr.attrHandle[handler]=null;}
return filter;};}($.expr.filter.ATTR);})(jQuery);;(function(window,$,undefined){var defaultOpts={beforeShow:noop,move:noop,change:noop,show:noop,hide:noop,color:false,flat:false,showInput:false,allowEmpty:false,showButtons:true,clickoutFiresChange:false,showInitial:false,showPalette:false,showPaletteOnly:false,showSelectionPalette:true,localStorageKey:false,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",clearText:"Clear Color Selection",preferredFormat:false,className:"",showAlpha:false,theme:"sp-light",palette:['fff','000'],selectionPalette:[],disabled:false},spectrums=[],IE=!!/msie/i.exec(window.navigator.userAgent),rgbaSupport=(function(){function contains(str,substr){return!!~(''+str).indexOf(substr);}
var elem=document.createElement('div');var style=elem.style;style.cssText='background-color:rgba(0,0,0,.5)';return contains(style.backgroundColor,'rgba')||contains(style.backgroundColor,'hsla');})(),inputTypeColorSupport=(function(){var colorInput=$("<input type='color' value='!' />")[0];return colorInput.type==="color"&&colorInput.value!=="!";})(),replaceInput=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(''),markup=(function(){var gradientFix="";if(IE){for(var i=1;i<=6;i++){gradientFix+="<div class='sp-"+i+"'></div>";}}
return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",gradientFix,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button class='sp-choose'></button>","</div>","</div>","</div>"].join("");})();function paletteTemplate(p,color,className){var html=[];for(var i=0;i<p.length;i++){var current=p[i];if(current){var tiny=tinycolor(current);var c=tiny.toHsl().l<0.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";c+=(tinycolor.equals(color,current))?" sp-thumb-active":"";var swatchStyle=rgbaSupport?("background-color:"+tiny.toRgbString()):"filter:"+tiny.toFilter();html.push('<span title="'+tiny.toRgbString()+'" data-color="'+tiny.toRgbString()+'" class="'+c+'"><span class="sp-thumb-inner" style="'+swatchStyle+';" /></span>');}else{var cls='sp-clear-display';html.push('<span title="No Color Selected" data-color="" style="background-color:transparent;" class="'+cls+'"></span>');}}
return"<div class='sp-cf "+className+"'>"+html.join('')+"</div>";}
function hideAll(){for(var i=0;i<spectrums.length;i++){if(spectrums[i]){spectrums[i].hide();}}}
function instanceOptions(o,callbackContext){var opts=$.extend({},defaultOpts,o);opts.callbacks={'move':bind(opts.move,callbackContext),'change':bind(opts.change,callbackContext),'show':bind(opts.show,callbackContext),'hide':bind(opts.hide,callbackContext),'beforeShow':bind(opts.beforeShow,callbackContext)};return opts;}
function spectrum(element,o){var opts=instanceOptions(o,element),flat=opts.flat,showSelectionPalette=opts.showSelectionPalette,localStorageKey=opts.localStorageKey,theme=opts.theme,callbacks=opts.callbacks,resize=throttle(reflow,10),visible=false,dragWidth=0,dragHeight=0,dragHelperHeight=0,slideHeight=0,slideWidth=0,alphaWidth=0,alphaSlideHelperWidth=0,slideHelperHeight=0,currentHue=0,currentSaturation=0,currentValue=0,currentAlpha=1,palette=[],paletteArray=[],selectionPalette=opts.selectionPalette.slice(0),maxSelectionSize=opts.maxSelectionSize,draggingClass="sp-dragging",shiftMovementDirection=null;var doc=element.ownerDocument,body=doc.body,boundElement=$(element),disabled=false,container=$(markup,doc).addClass(theme),dragger=container.find(".sp-color"),dragHelper=container.find(".sp-dragger"),slider=container.find(".sp-hue"),slideHelper=container.find(".sp-slider"),alphaSliderInner=container.find(".sp-alpha-inner"),alphaSlider=container.find(".sp-alpha"),alphaSlideHelper=container.find(".sp-alpha-handle"),textInput=container.find(".sp-input"),paletteContainer=container.find(".sp-palette"),initialColorContainer=container.find(".sp-initial"),cancelButton=container.find(".sp-cancel"),clearButton=container.find(".sp-clear"),chooseButton=container.find(".sp-choose"),isInput=boundElement.is("input"),isInputTypeColor=isInput&&inputTypeColorSupport&&boundElement.attr("type")==="color",shouldReplace=isInput&&!flat,replacer=(shouldReplace)?$(replaceInput).addClass(theme).addClass(opts.className):$([]),offsetElement=(shouldReplace)?replacer:boundElement,previewElement=replacer.find(".sp-preview-inner"),initialColor=opts.color||(isInput&&boundElement.val()),colorOnShow=false,preferredFormat=opts.preferredFormat,currentPreferredFormat=preferredFormat,clickoutFiresChange=!opts.showButtons||opts.clickoutFiresChange,isEmpty=!initialColor,allowEmpty=opts.allowEmpty&&!isInputTypeColor;function applyOptions(){if(opts.showPaletteOnly){opts.showPalette=true;}
if(opts.palette){palette=opts.palette.slice(0);paletteArray=$.isArray(palette[0])?palette:[palette];}
container.toggleClass("sp-flat",flat);container.toggleClass("sp-input-disabled",!opts.showInput);container.toggleClass("sp-alpha-enabled",opts.showAlpha);container.toggleClass("sp-clear-enabled",allowEmpty);container.toggleClass("sp-buttons-disabled",!opts.showButtons);container.toggleClass("sp-palette-disabled",!opts.showPalette);container.toggleClass("sp-palette-only",opts.showPaletteOnly);container.toggleClass("sp-initial-disabled",!opts.showInitial);container.addClass(opts.className);reflow();}
function initialize(){if(IE){container.find("*:not(input)").attr("unselectable","on");}
applyOptions();if(shouldReplace){boundElement.after(replacer).hide();}
if(!allowEmpty){clearButton.hide();}
if(flat){boundElement.after(container).hide();}
else{var appendTo=opts.appendTo==="parent"?boundElement.parent():$(opts.appendTo);if(appendTo.length!==1){appendTo=$("body");}
appendTo.append(container);}
if(localStorageKey&&window.localStorage){try{var oldPalette=window.localStorage[localStorageKey].split(",#");if(oldPalette.length>1){delete window.localStorage[localStorageKey];$.each(oldPalette,function(i,c){addColorToSelectionPalette(c);});}}
catch(e){}
try{selectionPalette=window.localStorage[localStorageKey].split(";");}
catch(e){}}
offsetElement.bind("click.spectrum touchstart.spectrum",function(e){if(!disabled){toggle();}
e.stopPropagation();if(!$(e.target).is("input")){e.preventDefault();}});if(boundElement.is(":disabled")||(opts.disabled===true)){disable();}
container.click(stopPropagation);textInput.change(setFromTextInput);textInput.bind("paste",function(){setTimeout(setFromTextInput,1);});textInput.keydown(function(e){if(e.keyCode==13){setFromTextInput();}});cancelButton.text(opts.cancelText);cancelButton.bind("click.spectrum",function(e){e.stopPropagation();e.preventDefault();hide("cancel");});clearButton.attr("title",opts.clearText);clearButton.bind("click.spectrum",function(e){e.stopPropagation();e.preventDefault();isEmpty=true;move();if(flat){updateOriginalInput(true);}});chooseButton.text(opts.chooseText);chooseButton.bind("click.spectrum",function(e){e.stopPropagation();e.preventDefault();if(isValid()){updateOriginalInput(true);hide();}});draggable(alphaSlider,function(dragX,dragY,e){currentAlpha=(dragX/alphaWidth);isEmpty=false;if(e.shiftKey){currentAlpha=Math.round(currentAlpha*10)/10;}
move();},dragStart,dragStop);draggable(slider,function(dragX,dragY){currentHue=parseFloat(dragY/slideHeight);isEmpty=false;if(!opts.showAlpha){currentAlpha=1;}
move();},dragStart,dragStop);draggable(dragger,function(dragX,dragY,e){if(!e.shiftKey){shiftMovementDirection=null;}
else if(!shiftMovementDirection){var oldDragX=currentSaturation*dragWidth;var oldDragY=dragHeight-(currentValue*dragHeight);var furtherFromX=Math.abs(dragX-oldDragX)>Math.abs(dragY-oldDragY);shiftMovementDirection=furtherFromX?"x":"y";}
var setSaturation=!shiftMovementDirection||shiftMovementDirection==="x";var setValue=!shiftMovementDirection||shiftMovementDirection==="y";if(setSaturation){currentSaturation=parseFloat(dragX/dragWidth);}
if(setValue){currentValue=parseFloat((dragHeight-dragY)/dragHeight);}
isEmpty=false;if(!opts.showAlpha){currentAlpha=1;}
move();},dragStart,dragStop);if(!!initialColor){set(initialColor);updateUI();currentPreferredFormat=preferredFormat||tinycolor(initialColor).format;addColorToSelectionPalette(initialColor);}
else{updateUI();}
if(flat){show();}
function palletElementClick(e){if(e.data&&e.data.ignore){set($(this).data("color"));move();}
else{set($(this).data("color"));updateOriginalInput(true);move();hide();}
return false;}
var paletteEvent=IE?"mousedown.spectrum":"click.spectrum touchstart.spectrum";paletteContainer.delegate(".sp-thumb-el",paletteEvent,palletElementClick);initialColorContainer.delegate(".sp-thumb-el:nth-child(1)",paletteEvent,{ignore:true},palletElementClick);}
function addColorToSelectionPalette(color){if(showSelectionPalette){var colorRgb=tinycolor(color).toRgbString();if($.inArray(colorRgb,selectionPalette)===-1){selectionPalette.push(colorRgb);while(selectionPalette.length>maxSelectionSize){selectionPalette.shift();}}
if(localStorageKey&&window.localStorage){try{window.localStorage[localStorageKey]=selectionPalette.join(";");}
catch(e){}}}}
function getUniqueSelectionPalette(){var unique=[];var p=selectionPalette;var paletteLookup={};var rgb;if(opts.showPalette){for(var i=0;i<paletteArray.length;i++){for(var j=0;j<paletteArray[i].length;j++){rgb=tinycolor(paletteArray[i][j]).toRgbString();paletteLookup[rgb]=true;}}
for(i=0;i<p.length;i++){rgb=tinycolor(p[i]).toRgbString();if(!paletteLookup.hasOwnProperty(rgb)){unique.push(p[i]);paletteLookup[rgb]=true;}}}
return unique.reverse().slice(0,opts.maxSelectionSize);}
function drawPalette(){var currentColor=get();var html=$.map(paletteArray,function(palette,i){return paletteTemplate(palette,currentColor,"sp-palette-row sp-palette-row-"+i);});if(selectionPalette){html.push(paletteTemplate(getUniqueSelectionPalette(),currentColor,"sp-palette-row sp-palette-row-selection"));}
paletteContainer.html(html.join(""));}
function drawInitial(){if(opts.showInitial){var initial=colorOnShow;var current=get();initialColorContainer.html(paletteTemplate([initial,current],current,"sp-palette-row-initial"));}}
function dragStart(){if(dragHeight<=0||dragWidth<=0||slideHeight<=0){reflow();}
container.addClass(draggingClass);shiftMovementDirection=null;boundElement.trigger('dragstart.spectrum',[get()]);}
function dragStop(){container.removeClass(draggingClass);boundElement.trigger('dragstop.spectrum',[get()]);}
function setFromTextInput(){var value=textInput.val();if((value===null||value==="")&&allowEmpty){set(null);updateOriginalInput(true);}
else{var tiny=tinycolor(value);if(tiny.ok){set(tiny);updateOriginalInput(true);}
else{textInput.addClass("sp-validation-error");}}}
function toggle(){if(visible){hide();}
else{show();}}
function show(){var event=$.Event('beforeShow.spectrum');if(visible){reflow();return;}
boundElement.trigger(event,[get()]);if(callbacks.beforeShow(get())===false||event.isDefaultPrevented()){return;}
hideAll();visible=true;$(doc).bind("click.spectrum",hide);$(window).bind("resize.spectrum",resize);replacer.addClass("sp-active");container.removeClass("sp-hidden");reflow();updateUI();colorOnShow=get();drawInitial();callbacks.show(colorOnShow);boundElement.trigger('show.spectrum',[colorOnShow]);}
function hide(e){if(e&&e.type=="click"&&e.button==2){return;}
if(!visible||flat){return;}
visible=false;$(doc).unbind("click.spectrum",hide);$(window).unbind("resize.spectrum",resize);replacer.removeClass("sp-active");container.addClass("sp-hidden");var colorHasChanged=!tinycolor.equals(get(),colorOnShow);if(colorHasChanged){if(clickoutFiresChange&&e!=="cancel"){updateOriginalInput(true);}
else{revert();}}
callbacks.hide(get());boundElement.trigger('hide.spectrum',[get()]);}
function revert(){set(colorOnShow,true);}
function set(color,ignoreFormatChange){if(tinycolor.equals(color,get())){updateUI();return;}
var newColor,newHsv;if(!color&&allowEmpty){isEmpty=true;}else{isEmpty=false;newColor=tinycolor(color);newHsv=newColor.toHsv();currentHue=(newHsv.h%360)/360;currentSaturation=newHsv.s;currentValue=newHsv.v;currentAlpha=newHsv.a;}
updateUI();if(newColor&&newColor.ok&&!ignoreFormatChange){currentPreferredFormat=preferredFormat||newColor.format;}}
function get(opts){opts=opts||{};if(allowEmpty&&isEmpty){return null;}
return tinycolor.fromRatio({h:currentHue,s:currentSaturation,v:currentValue,a:Math.round(currentAlpha*100)/100},{format:opts.format||currentPreferredFormat});}
function isValid(){return!textInput.hasClass("sp-validation-error");}
function move(){updateUI();callbacks.move(get());boundElement.trigger('move.spectrum',[get()]);}
function updateUI(){textInput.removeClass("sp-validation-error");updateHelperLocations();var flatColor=tinycolor.fromRatio({h:currentHue,s:1,v:1});dragger.css("background-color",flatColor.toHexString());var format=currentPreferredFormat;if(currentAlpha<1&&!(currentAlpha===0&&format==="name")){if(format==="hex"||format==="hex3"||format==="hex6"||format==="name"){format="rgb";}}
var realColor=get({format:format}),displayColor='';previewElement.removeClass("sp-clear-display");previewElement.css('background-color','transparent');if(!realColor&&allowEmpty){previewElement.addClass("sp-clear-display");}
else{var realHex=realColor.toHexString(),realRgb=realColor.toRgbString();if(rgbaSupport||realColor.alpha===1){previewElement.css("background-color",realRgb);}
else{previewElement.css("background-color","transparent");previewElement.css("filter",realColor.toFilter());}
if(opts.showAlpha){var rgb=realColor.toRgb();rgb.a=0;var realAlpha=tinycolor(rgb).toRgbString();var gradient="linear-gradient(left, "+realAlpha+", "+realHex+")";if(IE){alphaSliderInner.css("filter",tinycolor(realAlpha).toFilter({gradientType:1},realHex));}
else{alphaSliderInner.css("background","-webkit-"+gradient);alphaSliderInner.css("background","-moz-"+gradient);alphaSliderInner.css("background","-ms-"+gradient);alphaSliderInner.css("background",gradient);}}
displayColor=realColor.toString(format);}
if(opts.showInput){textInput.val(displayColor);}
if(opts.showPalette){drawPalette();}
drawInitial();}
function updateHelperLocations(){var s=currentSaturation;var v=currentValue;if(allowEmpty&&isEmpty){alphaSlideHelper.hide();slideHelper.hide();dragHelper.hide();}
else{alphaSlideHelper.show();slideHelper.show();dragHelper.show();var dragX=s*dragWidth;var dragY=dragHeight-(v*dragHeight);dragX=Math.max(-dragHelperHeight,Math.min(dragWidth-dragHelperHeight,dragX-dragHelperHeight));dragY=Math.max(-dragHelperHeight,Math.min(dragHeight-dragHelperHeight,dragY-dragHelperHeight));dragHelper.css({"top":dragY+"px","left":dragX+"px"});var alphaX=currentAlpha*alphaWidth;alphaSlideHelper.css({"left":(alphaX-(alphaSlideHelperWidth/2))+"px"});var slideY=(currentHue)*slideHeight;slideHelper.css({"top":(slideY-slideHelperHeight)+"px"});}}
function updateOriginalInput(fireCallback){var color=get(),displayColor='',hasChanged=!tinycolor.equals(color,colorOnShow);if(color){displayColor=color.toString(currentPreferredFormat);addColorToSelectionPalette(color);}
if(isInput){boundElement.val(displayColor);}
colorOnShow=color;if(fireCallback&&hasChanged){callbacks.change(color);boundElement.trigger('change',[color]);}}
function reflow(){dragWidth=dragger.width();dragHeight=dragger.height();dragHelperHeight=dragHelper.height();slideWidth=slider.width();slideHeight=slider.height();slideHelperHeight=slideHelper.height();alphaWidth=alphaSlider.width();alphaSlideHelperWidth=alphaSlideHelper.width();if(!flat){container.css("position","absolute");container.offset(getOffset(container,offsetElement));}
updateHelperLocations();if(opts.showPalette){drawPalette();}
boundElement.trigger('reflow.spectrum');}
function destroy(){boundElement.show();offsetElement.unbind("click.spectrum touchstart.spectrum");container.remove();replacer.remove();spectrums[spect.id]=null;}
function option(optionName,optionValue){if(optionName===undefined){return $.extend({},opts);}
if(optionValue===undefined){return opts[optionName];}
opts[optionName]=optionValue;applyOptions();}
function enable(){disabled=false;boundElement.attr("disabled",false);offsetElement.removeClass("sp-disabled");}
function disable(){hide();disabled=true;boundElement.attr("disabled",true);offsetElement.addClass("sp-disabled");}
initialize();var spect={show:show,hide:hide,toggle:toggle,reflow:reflow,option:option,enable:enable,disable:disable,set:function(c){set(c);updateOriginalInput();},get:get,destroy:destroy,container:container};spect.id=spectrums.push(spect)-1;return spect;}
function getOffset(picker,input){var extraY=0;var dpWidth=picker.outerWidth();var dpHeight=picker.outerHeight();var inputHeight=input.outerHeight();var doc=picker[0].ownerDocument;var docElem=doc.documentElement;var viewWidth=docElem.clientWidth+$(doc).scrollLeft();var viewHeight=docElem.clientHeight+$(doc).scrollTop();var offset=input.offset();offset.top+=inputHeight;offset.left-=Math.min(offset.left,(offset.left+dpWidth>viewWidth&&viewWidth>dpWidth)?Math.abs(offset.left+dpWidth-viewWidth):0);offset.top-=Math.min(offset.top,((offset.top+dpHeight>viewHeight&&viewHeight>dpHeight)?Math.abs(dpHeight+inputHeight-extraY):extraY));return offset;}
function noop(){}
function stopPropagation(e){e.stopPropagation();}
function bind(func,obj){var slice=Array.prototype.slice;var args=slice.call(arguments,2);return function(){return func.apply(obj,args.concat(slice.call(arguments)));};}
function draggable(element,onmove,onstart,onstop){onmove=onmove||function(){};onstart=onstart||function(){};onstop=onstop||function(){};var doc=element.ownerDocument||document;var dragging=false;var offset={};var maxHeight=0;var maxWidth=0;var hasTouch=('ontouchstart'in window);var duringDragEvents={};duringDragEvents["selectstart"]=prevent;duringDragEvents["dragstart"]=prevent;duringDragEvents["touchmove mousemove"]=move;duringDragEvents["touchend mouseup"]=stop;function prevent(e){if(e.stopPropagation){e.stopPropagation();}
if(e.preventDefault){e.preventDefault();}
e.returnValue=false;}
function move(e){if(dragging){if(IE&&document.documentMode<9&&!e.button){return stop();}
var touches=e.originalEvent.touches;var pageX=touches?touches[0].pageX:e.pageX;var pageY=touches?touches[0].pageY:e.pageY;var dragX=Math.max(0,Math.min(pageX-offset.left,maxWidth));var dragY=Math.max(0,Math.min(pageY-offset.top,maxHeight));if(hasTouch){prevent(e);}
onmove.apply(element,[dragX,dragY,e]);}}
function start(e){var rightclick=(e.which)?(e.which==3):(e.button==2);var touches=e.originalEvent.touches;if(!rightclick&&!dragging){if(onstart.apply(element,arguments)!==false){dragging=true;maxHeight=$(element).height();maxWidth=$(element).width();offset=$(element).offset();$(doc).bind(duringDragEvents);$(doc.body).addClass("sp-dragging");if(!hasTouch){move(e);}
prevent(e);}}}
function stop(){if(dragging){$(doc).unbind(duringDragEvents);$(doc.body).removeClass("sp-dragging");onstop.apply(element,arguments);}
dragging=false;}
$(element).bind("touchstart mousedown",start);}
function throttle(func,wait,debounce){var timeout;return function(){var context=this,args=arguments;var throttler=function(){timeout=null;func.apply(context,args);};if(debounce)clearTimeout(timeout);if(debounce||!timeout)timeout=setTimeout(throttler,wait);};}
function log(){if(window.console){if(Function.prototype.bind)log=Function.prototype.bind.call(console.log,console);else log=function(){Function.prototype.apply.call(console.log,console,arguments);};log.apply(this,arguments);}}
var dataID="spectrum.id";$.fn.spectrum=function(opts,extra){if(typeof opts=="string"){var returnValue=this;var args=Array.prototype.slice.call(arguments,1);this.each(function(){var spect=spectrums[$(this).data(dataID)];if(spect){var method=spect[opts];if(!method){throw new Error("Spectrum: no such method: '"+opts+"'");}
if(opts=="get"){returnValue=spect.get();}
else if(opts=="container"){returnValue=spect.container;}
else if(opts=="option"){returnValue=spect.option.apply(spect,args);}
else if(opts=="destroy"){spect.destroy();$(this).removeData(dataID);}
else{method.apply(spect,args);}}});return returnValue;}
return this.spectrum("destroy").each(function(){var options=$.extend({},opts,$(this).data());var spect=spectrum(this,options);$(this).data(dataID,spect.id);});};$.fn.spectrum.load=true;$.fn.spectrum.loadOpts={};$.fn.spectrum.draggable=draggable;$.fn.spectrum.defaults=defaultOpts;$.spectrum={};$.spectrum.localization={};$.spectrum.palettes={};$.fn.spectrum.processNativeColorInputs=function(){if(!inputTypeColorSupport){$("input[type=color]").spectrum({preferredFormat:"hex6"});}};(function(){var trimLeft=/^[\s,#]+/,trimRight=/\s+$/,tinyCounter=0,math=Math,mathRound=math.round,mathMin=math.min,mathMax=math.max,mathRandom=math.random;function tinycolor(color,opts){color=(color)?color:'';opts=opts||{};if(typeof color=="object"&&color.hasOwnProperty("_tc_id")){return color;}
var rgb=inputToRGB(color);var r=rgb.r,g=rgb.g,b=rgb.b,a=rgb.a,roundA=mathRound(100*a)/100,format=opts.format||rgb.format;if(r<1){r=mathRound(r);}
if(g<1){g=mathRound(g);}
if(b<1){b=mathRound(b);}
return{ok:rgb.ok,format:format,_tc_id:tinyCounter++,alpha:a,getAlpha:function(){return a;},setAlpha:function(value){a=boundAlpha(value);roundA=mathRound(100*a)/100;},toHsv:function(){var hsv=rgbToHsv(r,g,b);return{h:hsv.h*360,s:hsv.s,v:hsv.v,a:a};},toHsvString:function(){var hsv=rgbToHsv(r,g,b);var h=mathRound(hsv.h*360),s=mathRound(hsv.s*100),v=mathRound(hsv.v*100);return(a==1)?"hsv("+h+", "+s+"%, "+v+"%)":"hsva("+h+", "+s+"%, "+v+"%, "+roundA+")";},toHsl:function(){var hsl=rgbToHsl(r,g,b);return{h:hsl.h*360,s:hsl.s,l:hsl.l,a:a};},toHslString:function(){var hsl=rgbToHsl(r,g,b);var h=mathRound(hsl.h*360),s=mathRound(hsl.s*100),l=mathRound(hsl.l*100);return(a==1)?"hsl("+h+", "+s+"%, "+l+"%)":"hsla("+h+", "+s+"%, "+l+"%, "+roundA+")";},toHex:function(allow3Char){return rgbToHex(r,g,b,allow3Char);},toHexString:function(allow3Char){return'#'+this.toHex(allow3Char);},toHex8:function(){return rgbaToHex(r,g,b,a);},toHex8String:function(){return'#'+this.toHex8();},toRgb:function(){return{r:mathRound(r),g:mathRound(g),b:mathRound(b),a:a};},toRgbString:function(){return(a==1)?"rgb("+mathRound(r)+", "+mathRound(g)+", "+mathRound(b)+")":"rgba("+mathRound(r)+", "+mathRound(g)+", "+mathRound(b)+", "+roundA+")";},toPercentageRgb:function(){return{r:mathRound(bound01(r,255)*100)+"%",g:mathRound(bound01(g,255)*100)+"%",b:mathRound(bound01(b,255)*100)+"%",a:a};},toPercentageRgbString:function(){return(a==1)?"rgb("+mathRound(bound01(r,255)*100)+"%, "+mathRound(bound01(g,255)*100)+"%, "+mathRound(bound01(b,255)*100)+"%)":"rgba("+mathRound(bound01(r,255)*100)+"%, "+mathRound(bound01(g,255)*100)+"%, "+mathRound(bound01(b,255)*100)+"%, "+roundA+")";},toName:function(){if(a===0){return"transparent";}
return hexNames[rgbToHex(r,g,b,true)]||false;},toFilter:function(secondColor){var hex8String='#'+rgbaToHex(r,g,b,a);var secondHex8String=hex8String;var gradientType=opts&&opts.gradientType?"GradientType = 1, ":"";if(secondColor){var s=tinycolor(secondColor);secondHex8String=s.toHex8String();}
return"progid:DXImageTransform.Microsoft.gradient("+gradientType+"startColorstr="+hex8String+",endColorstr="+secondHex8String+")";},toString:function(format){var formatSet=!!format;format=format||this.format;var formattedString=false;var hasAlphaAndFormatNotSet=!formatSet&&a<1&&a>0;var formatWithAlpha=hasAlphaAndFormatNotSet&&(format==="hex"||format==="hex6"||format==="hex3"||format==="name");if(format==="rgb"){formattedString=this.toRgbString();}
if(format==="prgb"){formattedString=this.toPercentageRgbString();}
if(format==="hex"||format==="hex6"){formattedString=this.toHexString();}
if(format==="hex3"){formattedString=this.toHexString(true);}
if(format==="hex8"){formattedString=this.toHex8String();}
if(format==="name"){formattedString=this.toName();}
if(format==="hsl"){formattedString=this.toHslString();}
if(format==="hsv"){formattedString=this.toHsvString();}
if(formatWithAlpha){return this.toRgbString();}
return formattedString||this.toHexString();}};}
tinycolor.fromRatio=function(color,opts){if(typeof color=="object"){var newColor={};for(var i in color){if(color.hasOwnProperty(i)){if(i==="a"){newColor[i]=color[i];}
else{newColor[i]=convertToPercentage(color[i]);}}}
color=newColor;}
return tinycolor(color,opts);};function inputToRGB(color){var rgb={r:0,g:0,b:0};var a=1;var ok=false;var format=false;if(typeof color=="string"){color=stringInputToObject(color);}
if(typeof color=="object"){if(color.hasOwnProperty("r")&&color.hasOwnProperty("g")&&color.hasOwnProperty("b")){rgb=rgbToRgb(color.r,color.g,color.b);ok=true;format=String(color.r).substr(-1)==="%"?"prgb":"rgb";}
else if(color.hasOwnProperty("h")&&color.hasOwnProperty("s")&&color.hasOwnProperty("v")){color.s=convertToPercentage(color.s);color.v=convertToPercentage(color.v);rgb=hsvToRgb(color.h,color.s,color.v);ok=true;format="hsv";}
else if(color.hasOwnProperty("h")&&color.hasOwnProperty("s")&&color.hasOwnProperty("l")){color.s=convertToPercentage(color.s);color.l=convertToPercentage(color.l);rgb=hslToRgb(color.h,color.s,color.l);ok=true;format="hsl";}
if(color.hasOwnProperty("a")){a=color.a;}}
a=boundAlpha(a);return{ok:ok,format:color.format||format,r:mathMin(255,mathMax(rgb.r,0)),g:mathMin(255,mathMax(rgb.g,0)),b:mathMin(255,mathMax(rgb.b,0)),a:a};}
function rgbToRgb(r,g,b){return{r:bound01(r,255)*255,g:bound01(g,255)*255,b:bound01(b,255)*255};}
function rgbToHsl(r,g,b){r=bound01(r,255);g=bound01(g,255);b=bound01(b,255);var max=mathMax(r,g,b),min=mathMin(r,g,b);var h,s,l=(max+min)/2;if(max==min){h=s=0;}
else{var d=max-min;s=l>0.5?d/(2-max-min):d/(max+min);switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;}
h/=6;}
return{h:h,s:s,l:l};}
function hslToRgb(h,s,l){var r,g,b;h=bound01(h,360);s=bound01(s,100);l=bound01(l,100);function hue2rgb(p,q,t){if(t<0)t+=1;if(t>1)t-=1;if(t<1/6)return p+(q-p)*6*t;if(t<1/2)return q;if(t<2/3)return p+(q-p)*(2/3-t)*6;return p;}
if(s===0){r=g=b=l;}
else{var q=l<0.5?l*(1+s):l+s-l*s;var p=2*l-q;r=hue2rgb(p,q,h+1/3);g=hue2rgb(p,q,h);b=hue2rgb(p,q,h-1/3);}
return{r:r*255,g:g*255,b:b*255};}
function rgbToHsv(r,g,b){r=bound01(r,255);g=bound01(g,255);b=bound01(b,255);var max=mathMax(r,g,b),min=mathMin(r,g,b);var h,s,v=max;var d=max-min;s=max===0?0:d/max;if(max==min){h=0;}
else{switch(max){case r:h=(g-b)/d+(g<b?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4;break;}
h/=6;}
return{h:h,s:s,v:v};}
function hsvToRgb(h,s,v){h=bound01(h,360)*6;s=bound01(s,100);v=bound01(v,100);var i=math.floor(h),f=h-i,p=v*(1-s),q=v*(1-f*s),t=v*(1-(1-f)*s),mod=i%6,r=[v,q,p,p,t,v][mod],g=[t,v,v,q,p,p][mod],b=[p,p,t,v,v,q][mod];return{r:r*255,g:g*255,b:b*255};}
function rgbToHex(r,g,b,allow3Char){var hex=[pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];if(allow3Char&&hex[0].charAt(0)==hex[0].charAt(1)&&hex[1].charAt(0)==hex[1].charAt(1)&&hex[2].charAt(0)==hex[2].charAt(1)){return hex[0].charAt(0)+hex[1].charAt(0)+hex[2].charAt(0);}
return hex.join("");}
function rgbaToHex(r,g,b,a){var hex=[pad2(convertDecimalToHex(a)),pad2(mathRound(r).toString(16)),pad2(mathRound(g).toString(16)),pad2(mathRound(b).toString(16))];return hex.join("");}
tinycolor.equals=function(color1,color2){if(!color1||!color2){return false;}
return tinycolor(color1).toRgbString()==tinycolor(color2).toRgbString();};tinycolor.random=function(){return tinycolor.fromRatio({r:mathRandom(),g:mathRandom(),b:mathRandom()});};tinycolor.desaturate=function(color,amount){amount=(amount===0)?0:(amount||10);var hsl=tinycolor(color).toHsl();hsl.s-=amount/100;hsl.s=clamp01(hsl.s);return tinycolor(hsl);};tinycolor.saturate=function(color,amount){amount=(amount===0)?0:(amount||10);var hsl=tinycolor(color).toHsl();hsl.s+=amount/100;hsl.s=clamp01(hsl.s);return tinycolor(hsl);};tinycolor.greyscale=function(color){return tinycolor.desaturate(color,100);};tinycolor.lighten=function(color,amount){amount=(amount===0)?0:(amount||10);var hsl=tinycolor(color).toHsl();hsl.l+=amount/100;hsl.l=clamp01(hsl.l);return tinycolor(hsl);};tinycolor.darken=function(color,amount){amount=(amount===0)?0:(amount||10);var hsl=tinycolor(color).toHsl();hsl.l-=amount/100;hsl.l=clamp01(hsl.l);return tinycolor(hsl);};tinycolor.complement=function(color){var hsl=tinycolor(color).toHsl();hsl.h=(hsl.h+180)%360;return tinycolor(hsl);};tinycolor.triad=function(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+120)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+240)%360,s:hsl.s,l:hsl.l})];};tinycolor.tetrad=function(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+90)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+180)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+270)%360,s:hsl.s,l:hsl.l})];};tinycolor.splitcomplement=function(color){var hsl=tinycolor(color).toHsl();var h=hsl.h;return[tinycolor(color),tinycolor({h:(h+72)%360,s:hsl.s,l:hsl.l}),tinycolor({h:(h+216)%360,s:hsl.s,l:hsl.l})];};tinycolor.analogous=function(color,results,slices){results=results||6;slices=slices||30;var hsl=tinycolor(color).toHsl();var part=360/slices;var ret=[tinycolor(color)];for(hsl.h=((hsl.h-(part*results>>1))+720)%360;--results;){hsl.h=(hsl.h+part)%360;ret.push(tinycolor(hsl));}
return ret;};tinycolor.monochromatic=function(color,results){results=results||6;var hsv=tinycolor(color).toHsv();var h=hsv.h,s=hsv.s,v=hsv.v;var ret=[];var modification=1/results;while(results--){ret.push(tinycolor({h:h,s:s,v:v}));v=(v+modification)%1;}
return ret;};tinycolor.readability=function(color1,color2){var a=tinycolor(color1).toRgb();var b=tinycolor(color2).toRgb();var brightnessA=(a.r*299+a.g*587+a.b*114)/1000;var brightnessB=(b.r*299+b.g*587+b.b*114)/1000;var colorDiff=(Math.max(a.r,b.r)-Math.min(a.r,b.r)+
Math.max(a.g,b.g)-Math.min(a.g,b.g)+
Math.max(a.b,b.b)-Math.min(a.b,b.b));return{brightness:Math.abs(brightnessA-brightnessB),color:colorDiff};};tinycolor.readable=function(color1,color2){var readability=tinycolor.readability(color1,color2);return readability.brightness>125&&readability.color>500;};tinycolor.mostReadable=function(baseColor,colorList){var bestColor=null;var bestScore=0;var bestIsReadable=false;for(var i=0;i<colorList.length;i++){var readability=tinycolor.readability(baseColor,colorList[i]);var readable=readability.brightness>125&&readability.color>500;var score=3*(readability.brightness/125)+(readability.color/500);if((readable&&!bestIsReadable)||(readable&&bestIsReadable&&score>bestScore)||((!readable)&&(!bestIsReadable)&&score>bestScore)){bestIsReadable=readable;bestScore=score;bestColor=tinycolor(colorList[i]);}}
return bestColor;};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var hexNames=tinycolor.hexNames=flip(names);function flip(o){var flipped={};for(var i in o){if(o.hasOwnProperty(i)){flipped[o[i]]=i;}}
return flipped;}
function boundAlpha(a){a=parseFloat(a);if(isNaN(a)||a<0||a>1){a=1;}
return a;}
function bound01(n,max){if(isOnePointZero(n)){n="100%";}
var processPercent=isPercentage(n);n=mathMin(max,mathMax(0,parseFloat(n)));if(processPercent){n=parseInt(n*max,10)/100;}
if((math.abs(n-max)<0.000001)){return 1;}
return(n%max)/parseFloat(max);}
function clamp01(val){return mathMin(1,mathMax(0,val));}
function parseIntFromHex(val){return parseInt(val,16);}
function isOnePointZero(n){return typeof n=="string"&&n.indexOf('.')!=-1&&parseFloat(n)===1;}
function isPercentage(n){return typeof n==="string"&&n.indexOf('%')!=-1;}
function pad2(c){return c.length==1?'0'+c:''+c;}
function convertToPercentage(n){if(n<=1){n=(n*100)+"%";}
return n;}
function convertDecimalToHex(d){return Math.round(parseFloat(d)*255).toString(16);}
function convertHexToDecimal(h){return(parseIntFromHex(h)/255);}
var matchers=(function(){var CSS_INTEGER="[-\\+]?\\d+%?";var CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?";var CSS_UNIT="(?:"+CSS_NUMBER+")|(?:"+CSS_INTEGER+")";var PERMISSIVE_MATCH3="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?";var PERMISSIVE_MATCH4="[\\s|\\(]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")[,|\\s]+("+CSS_UNIT+")\\s*\\)?";return{rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};})();function stringInputToObject(color){color=color.replace(trimLeft,'').replace(trimRight,'').toLowerCase();var named=false;if(names[color]){color=names[color];named=true;}
else if(color=='transparent'){return{r:0,g:0,b:0,a:0,format:"name"};}
var match;if((match=matchers.rgb.exec(color))){return{r:match[1],g:match[2],b:match[3]};}
if((match=matchers.rgba.exec(color))){return{r:match[1],g:match[2],b:match[3],a:match[4]};}
if((match=matchers.hsl.exec(color))){return{h:match[1],s:match[2],l:match[3]};}
if((match=matchers.hsla.exec(color))){return{h:match[1],s:match[2],l:match[3],a:match[4]};}
if((match=matchers.hsv.exec(color))){return{h:match[1],s:match[2],v:match[3]};}
if((match=matchers.hex8.exec(color))){return{a:convertHexToDecimal(match[1]),r:parseIntFromHex(match[2]),g:parseIntFromHex(match[3]),b:parseIntFromHex(match[4]),format:named?"name":"hex8"};}
if((match=matchers.hex6.exec(color))){return{r:parseIntFromHex(match[1]),g:parseIntFromHex(match[2]),b:parseIntFromHex(match[3]),format:named?"name":"hex"};}
if((match=matchers.hex3.exec(color))){return{r:parseIntFromHex(match[1]+''+match[1]),g:parseIntFromHex(match[2]+''+match[2]),b:parseIntFromHex(match[3]+''+match[3]),format:named?"name":"hex"};}
return false;}
window.tinycolor=tinycolor;})();$(function(){if($.fn.spectrum.load){$.fn.spectrum.processNativeColorInputs();}});})(window,jQuery);;function evaUserCardConditionHide(e){if($(e.target).closest("#evaUserCardBlock").length==0&&$(e.target).closest(".frE1UserNick").length==0&&$(e.target).closest(".frE1UserAv").length==0&&$(e.target).closest(".bb.user").length==0&&$(e.target).closest(".frE1Authors .link.u_hover").length==0)
{$("#evaUserCardBlock").hide();}}
function evaUserCardInitialization(context){$(".frE1UserNick",context).click(function(e){evaUserCardShow($(this),e);});$(".frE1UserAv",context).click(function(e){evaUserCardShow($(this),e);});$(".frE1Authors .link.u_hover",context).click(function(e){evaUserCardShow($(this),e);});$(".bb.user",context).click(function(e){evaUserCardShow($(this),e);});}
function evaUserControlPanelInitialization(){$("#evaIntUCP_ContentControl").click(function(e){e.preventDefault();if($(this).hasClass("active"))
$(this).removeClass("active");else
$(this).addClass("active");});$("#evaIntUCP_Logout").click(function(e){e.preventDefault();$.ajax({url:'https://'+location.hostname+'/api/evaint/auth/logout',success:function(response){window.location.reload();}});});$("#evaIntUCP_Authorization").click(function(e){e.preventDefault();});}
function evaUserControlPanelHide(e){if($(e.target).closest("#evaIntUCP_ContentControl").length==0&&$(e.target).closest("#evaIntUCP_ContentControl").next(".evaIntContentControl").length==0)
$("#evaIntUCP_ContentControl").removeClass("active");}
function evaUserCardShow(thisM,e){if(thisM.hasClass("noHandle"))
return;e.preventDefault();e.stopPropagation();var offset=thisM.offset();var blockD={w:455,h:176};var blockC={l:0,t:0};if(((($(window).width()-1000)/2)+1000-blockD.w)<offset.left)
blockC.l=offset.left+thisM.width()-blockD.w+4;else
blockC.l=offset.left;if($(window).height()-blockD.h<offset.top)
blockC.t=offset.top-blockD.h-4;else
blockC.t=offset.top+thisM.height()+4;if(thisM.attr("href"))
var expl=explodeHashedHref(thisM.attr("href"));else if(thisM.find("a").attr("href"))
var expl=explodeHashedHref(thisM.find("a").attr("href"));else
var expl=explodeHashedHref(thisM.closest("a").attr("href"));var thisM2=thisM;$.ajax({url:'https://'+location.hostname+'/api/evaint/user/'+expl,cache:false,async:false,success:function(response){$("#evaUserCardBlock").find(".popup_body").html(response);$("#evaUserCardBlock").css("top",blockC.t).css("left",blockC.l).show();$(".userActions .item.ico_bef.friend",$("#evaUserCardBlock")).click(function(e){e.preventDefault();var thisM=$(this);if(thisM.hasClass("disabled"))
return false;if(!thisM.hasClass("confirm")){thisM.addClass("confirm");thisM.html(thisM.attr("data-title"));return false;}
if(thisM.hasClass("process"))
return false;else if(thisM.hasClass("inset"))
var action='add';else if(thisM.hasClass("added"))
var action='del';else
var action='add';$.ajax({url:'https://'+location.hostname+'/api/evaint/friends/action/'+action+'/'+expl,cache:false,async:false,success:function(response){if(response=='true')
$("#evaUserCardBlock").hide().find(".popup_body").html("");}});});$(".userActions .item.ico_bef.message",$("#evaUserCardBlock")).click(function(e){e.preventDefault();var thisM=$(this);if(thisM.hasClass("disabled"))
return false;var memberid=explodeHashedHref($("#evaUserCardBlock .frE1UserNick").attr("href"));$("#evaUserCardPrivateMessage").attr("data-memberid",memberid).show().css("top",parseInt($("#evaUserCardBlock").css("top"))-300).css("left",(($(window).width()-1000)/2)+169).find(".popup_header .title span").html($("#evaUserCardBlock").find(".frE1UserNick").html());$("#evaUserCardBlock").hide().find(".popup_body").html("");});}});}
function evaImageEnlargerInitialize(context){$(".eGallery img",context).click(function(e){if($(this).hasClass("noEnlarge"))
return;evaImageEnlargerShow(e,$(this));});$("figure.zoomIn img",context).click(function(e){if($(this).hasClass("noEnlarge"))
return;if($(this).closest(".eGallery").length)
return;else
evaImageEnlargerSystemBB(e,$(this));});$(".frE1EnlargeClose").click(function(e){e.preventDefault();e.stopPropagation();$("#evaImageEnlarger").hide();$("html").removeClass("oh");});$("#evaImageEnlargerShow").click(function(e){e.preventDefault();e.stopPropagation();window.location=$(this).attr("href");});}
function evaImageEnlargerShow(e,thisM){e.preventDefault();e.stopPropagation();var closestGallery=thisM.closest(".eGallery");var insertMiniHtml="";var activated=false;var counter=1;var src,active;console.log(thisM);if(closestGallery.length){var imgsCount=closestGallery.find("img").length;closestGallery.find("img").each(function(){if($(this).hasClass("lazyLoadStnd")&&($(this).attr("data-original")!=$(this).attr("src")))
src=$(this).attr("data-original");else
src=$(this).attr("src");if(thisM.attr("src")==src&&!activated){active=" active";activated=true;}
else
active="";console.log($(this));insertMiniHtml+='<a class="item'+active+'" title="'+$(this).attr("alt")+'" href="https://'+location.host+'/upl/'+$(this).attr("data-filename")+'"><figure class="image"><img src="'+$(this).attr("data-zoomicon")+'" alt="'+$(this).attr("alt")+'" /></figure></a>';if(counter==imgsCount){assembleEnlarger(thisM,insertMiniHtml);}
counter++;});}
else{insertMiniHtml+='<a class="item active" title="'+$(this).attr("alt")+'" href="https://'+location.host+'/upl/'+thisM.attr("data-filename")+'"><figure class="image"><img src="'+thisM.attr("data-zoomicon")+'" alt="'+$(this).attr("alt")+'" /></figure></a>';assembleEnlarger(thisM,insertMiniHtml);}}
function evaImageEnlargerSystemBB(e,thisM){e.preventDefault();e.stopPropagation();var closestGallery=thisM.closest(".bb.gallery");var insertMiniHtml="";var activated=false;var counter=1;if(closestGallery.length){var imgsCount=closestGallery.find("figure.zoomIn img").length;closestGallery.find("figure.zoomIn img").each(function(){if($(this).hasClass("lazyLoadStnd")&&($(this).attr("data-original")!=$(this).attr("src")))
src=$(this).attr("data-original");else
src=$(this).attr("src");if(thisM.attr("src")==src&&!activated){active=" active";activated=true;}
else
active="";insertMiniHtml+='<a class="item'+active+'" title="'+$(this).attr("alt")+'" href="https://'+location.host+'/upl/'+$(this).attr("data-filename")+'"><figure class="image"><img src="'+$(this).attr("data-zoomicon")+'" alt="'+$(this).attr("alt")+'" /></figure></a>';if(counter==imgsCount){assembleEnlarger(thisM,insertMiniHtml);}
counter++;});}
else{insertMiniHtml+='<a class="item active" title="'+$(this).attr("alt")+'" href="https://'+location.host+'/upl/'+thisM.attr("data-filename")+'"><figure class="image"><img src="'+thisM.attr("data-zoomicon")+'" alt="'+$(this).attr("alt")+'" /></figure></a>';assembleEnlarger(thisM,insertMiniHtml);}}
function assembleEnlarger(thisM,insertMiniHtml){$("#evaImageEnlargerPic").attr("src",'https://'+location.host+'/upl/'+thisM.attr("data-filename"));$("#evaImageEnlargerShow").attr("href",'https://'+location.host+'/upl/'+thisM.attr("data-filename"));$("#evaImageEnlarger .gallery_list").html(insertMiniHtml);if(thisM.attr("alt"))
$("#evaImageEnlarger figcaption").show().html(thisM.attr("alt"));else
$("#evaImageEnlarger figcaption").hide();$("#evaImageEnlarger").show();$("#evaImageEnlarger .antiscroll-wrap").antiscroll().data('antiscroll');$("html").addClass("oh");$("a",$("#evaImageEnlarger .gallery_list")).click(function(e2){e2.preventDefault();e2.stopPropagation();$("#evaImageEnlargerPic").attr("src",$(this).attr("href"));$("#evaImageEnlarger .gallery_list a").removeClass("active");$(this).addClass("active");});}
$(function(){$("#evaUserCardPrivateMessage a").click(function(e){e.preventDefault()
$.ajax({url:'https://'+location.hostname+'/api/evaint/messages/send/add'+'?tolast=1',type:"POST",data:{title:$("#evaUserCardPrivateMessage input").val(),user:$("#evaUserCardPrivateMessage").attr("data-memberid"),text:$("#evaUserCardPrivateMessage textarea").val()},cache:false,async:false,success:function(response){if(checkIsJson(response)){var json=$.parseJSON(response);evaSendNotification(json["type"],json["title"],json["text"],json["time"]);if(json["type"]=="success"){$.ajax({url:'https://'+location.hostname+'/api/evaint/messages/message/'+json["data"]+'?tolast=1',cache:false,async:false,success:function(response){$("#frEVAInterfaceOVERLAY").addClass("show").html(response);$("#evaUserCardPrivateMessage input").val("");$("#evaUserCardPrivateMessage textarea").val("");$("#evaUserCardPrivateMessage").attr("data-memberid","").hide();}});}}}});});});;function evaCommentariesInitialization(){evaRatingInitialize($(document));if($("#evaCommentariesSystem").length){evaCommentariesFirstBinds();$("#evaCommentariesSystem .commentSecForm input").click(function(e){e.preventDefault();evaCommentariesSendNewPost();});$("#evaCommentariesSystem .commentSecForm .commentPreview").click(function(e){e.preventDefault();var thisM=$(this);$.ajax({url:'https://'+location.hostname+'/api/commentaries/show/preview/'+$("#evaCommentariesSystem").attr("data-typeitem"),type:"POST",data:{text:$("#evaCommentariesSystem .commentSecForm textarea").val()},success:function(response){if(checkIsJson(response)){var json=$.parseJSON(response);evaSendNotification(json["type"],json["title"],json["text"],json["time"]);}
else{$("#evaPubContentCommentPreview").show().css("top",$("#evaCommentariesSystem").offset().top+40).css("margin-left",52);$("#evaPubContentCommentPreview .popup_body div").html(response);evaBBCodesInitialization($("#evaPubContentCommentPreview .popup_body div"));}}});});$("#evaCommentariesSystem .commentSecForm textarea").focusin(function(){frPUBvarFocusedTextarea=$(this);});$("#evaCommentariesSystem .commentSecForm textarea").bind('keydown.ctrl_b',function(event){hotKeyPrevent(event);SelectionTextInit();wrapTextByBBCode(frPUBvarFocusedTextarea,"[b]","[/b]");});$("#evaCommentariesSystem .commentSecForm textarea").bind('keydown.ctrl_i',function(event){hotKeyPrevent(event);SelectionTextInit();wrapTextByBBCode(frPUBvarFocusedTextarea,"[i]","[/i]");});$("#evaCommentariesSystem .commentSecForm textarea").bind('keydown.ctrl_u',function(event){hotKeyPrevent(event);SelectionTextInit();wrapTextByBBCode(frPUBvarFocusedTextarea,"[u]","[/u]");});$("#evaCommentariesSystem .commentSecForm textarea").bind('keydown.ctrl_s',function(event){hotKeyPrevent(event);SelectionTextInit();wrapTextByBBCode(frPUBvarFocusedTextarea,"[s]","[/s]");});$("#evaCommentariesSystem .commentSecForm textarea").bind('keydown.ctrl_up',function(event){hotKeyPrevent(event);SelectionTextInit();wrapTextByBBCode(frPUBvarFocusedTextarea,"[sup]","[/sup]");});$("#evaCommentariesSystem .commentSecForm textarea").bind('keydown.ctrl_down',function(event){hotKeyPrevent(event);SelectionTextInit();wrapTextByBBCode(frPUBvarFocusedTextarea,"[sub]","[/sub]");});$("#evaCommentariesSystem .commentSecForm textarea").bind('keydown.ctrl_return',function(event){hotKeyPrevent(event);evaCommentariesSendNewPost();});$("#evaCommentEditTextArea").bind('keydown.ctrl_return',function(event){hotKeyPrevent(event);evaCommentariesEditCommSend();});$(".frE1EBBC a").click(function(e){e.preventDefault();var thisM=$(this);var spanM=$(this).find("span");var offset=thisM.offset();SelectionTextInit();if(spanM.hasClass("bbc_bold"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[b]","[/b]");else if(spanM.hasClass("bbc_italic"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[i]","[/i]");else if(spanM.hasClass("bbc_underline"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[u]","[/u]");else if(spanM.hasClass("bbc_strike"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[s]","[/s]");else if(spanM.hasClass("bbc_sub"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[sub]","[/sub]");else if(spanM.hasClass("bbc_sup"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[sup]","[/sup]");else if(spanM.hasClass("bbc_small"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[small]","[/small]");else if(spanM.hasClass("bbc_big"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[large]","[/large]");else if(spanM.hasClass("bbc_left"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[left]","[/left]");else if(spanM.hasClass("bbc_center"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[center]","[/center]");else if(spanM.hasClass("bbc_right"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[right]","[/right]");else if(spanM.hasClass("bbc_quote"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[quote]","[/quote]");else if(spanM.hasClass("bbc_code"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[code]","[/code]");else if(spanM.hasClass("bbc_h1"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[h1]","[/h1]");else if(spanM.hasClass("bbc_h2"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[h2]","[/h2]");else if(spanM.hasClass("bbc_h3"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[h3]","[/h3]");else if(spanM.hasClass("bbc_h4"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[h4]","[/h4]");else if(spanM.hasClass("bbc_spoiler"))
$("#"+thisM.attr("id")+"Block").css("top",Math.floor(offset.top+34)).css("left",Math.floor(offset.left-290)).show();else if(spanM.hasClass("bbc_url"))
$("#"+thisM.attr("id")+"Block").css("top",Math.floor(offset.top+34)).css("left",Math.floor(offset.left-251)).show();else if(spanM.hasClass("bbc_abbr"))
$("#"+thisM.attr("id")+"Block").css("top",Math.floor(offset.top+34)).css("left",Math.floor(offset.left-251)).show();else if(spanM.hasClass("bbc_img")){$("#"+thisM.attr("id")+"Block").css("top",Math.floor(offset.top+34)).css("left",Math.floor(offset.left-261)).show();evaPubImgUploaderInit();}
else if(spanM.hasClass("bbc_media"))
$("#"+thisM.attr("id")+"Block").css("top",Math.floor(offset.top+34)).css("left",Math.floor(offset.left-264)).show();else if(spanM.hasClass("bbc_user")){$("#"+thisM.attr("id")+"Block").css("top",Math.floor(offset.top+34)).css("left",Math.floor(offset.left-110)).show();}});$("#evaPubContentBBCodeAbbrBlock a.evaInt_button.dark").click(function(e){e.preventDefault();var title=$("#evaPubContentBBCodeAbbrBlock .popAbbr input").val();var text=$("#evaPubContentBBCodeAbbrBlock .popTitle input").val();$("#evaPubContentBBCodeAbbrBlock .popAbbr input").val("");$("#evaPubContentBBCodeAbbrBlock .popTitle input").val("");frSelectionText=text;$(this).closest("#evaPubContentBBCodeAbbrBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[abbr="+title+"]","[/abbr]");});$("#evaPubContentBBCodeSpoilerBlock a.evaInt_button.dark").click(function(e){e.preventDefault();var title=$("#evaPubContentBBCodeSpoilerBlock .popSpoiler input").val();var text=$("#evaPubContentBBCodeSpoilerBlock textarea").val();$("#evaPubContentBBCodeSpoilerBlock .popSpoiler input").val("");$("#evaPubContentBBCodeSpoilerBlock textarea").val("");frSelectionText=text;$(this).closest("#evaPubContentBBCodeSpoilerBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[spoiler="+title+"]","[/spoiler]");});$("#evaPubContentBBCodeUrlBlock a.evaInt_button.dark").click(function(e){e.preventDefault();var title=$("#evaPubContentBBCodeUrlBlock .popTitle input").val();var url=$("#evaPubContentBBCodeUrlBlock .popLink input").val();frSelectionText=title;$("#evaPubContentBBCodeUrlBlock .popLink input").val("");$("#evaPubContentBBCodeUrlBlock .popTitle input").val("");$(this).closest("#evaPubContentBBCodeUrlBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[url="+url+"]","[/url]");});$("#evaPubContentBBCodeImgBlock a.evaInt_button.dark").click(function(e){e.preventDefault();var title=$("#evaPubContentBBCodeImgBlock .popTitle input").val();var Href=$("#evaPubContentBBCodeImgBlock .popLink input").val();frSelectionText=title;$(this).closest("#evaPubContentBBCodeImgBlock").hide();if($("#evaPubContentBBCodeImgBlock .popTitle input").val()!="")
wrapTextByBBCode(frPUBvarFocusedTextarea,"[img="+Href+"]","[/img]");else{frSelectionText=Href;wrapTextByBBCode(frPUBvarFocusedTextarea,"[img]","[/img]");}
$("#evaPubContentBBCodeImgBlock .popTitle input").val("");$("#evaPubContentBBCodeImgBlock .popLink input").val("");});$("#evaPubContentBBCodeUserBlock input").bind('textchange',function(e){var thisM=$(this);var value=$(this).val();var autoC=thisM.closest(".fcont").find(".frE1Autocomplete");$.ajax({url:'https://'+location.hostname+'/api/users/select',type:"POST",data:{nick:value},cache:false,async:false,success:function(response){if(response=="false")
autoC.removeClass("show").html("");else{autoC.addClass("show").html(response);$("li",autoC).click(function(e){frSelectionText=$(this).find("span").attr("data-memberid");wrapTextByBBCode(frPUBvarFocusedTextarea,"[user]","[/user]");thisM.val("");autoC.removeClass("show").html("");$("#evaPubContentBBCodeUserBlock").hide();});}}});});$("#evaPubContentBBCodeAddMediaBlock a.evaInt_button.dark").click(function(e){e.preventDefault();frSelectionText=$("#evaPubContentBBCodeAddMediaBlock .popMedia input").val();wrapTextByBBCode(frPUBvarFocusedTextarea,"[video]","[/video]");$("#evaPubContentBBCodeAddMediaBlock .popMedia input").val("");$("#evaPubContentBBCodeAddMediaBlock").hide();});$("#evaPubContentSectionPopUps .frE1Popup a.evaInt_button.light").click(function(e){e.preventDefault();$(this).closest(".frE1Popup").hide();});$("#evaCommentariesPagination .more a").click(function(e){e.preventDefault();$.ajax({url:'https://'+location.hostname+'/api/commentaries/show/more/'+$("#evaCommentariesSystem").attr("data-typeitem"),type:"POST",data:{id:$("#evaCommentariesSystemList .commentItem:last").attr("data-commid"),host:'https://'+location.hostname+location.pathname},success:function(response){$("#evaCommentariesSystemList").append(response);evaCommentariesItemInit($(".commentItem.noINIT"));$(".commentItem").removeClass("noINIT");}});});$("#evaCommentInfoDecisionPanel a.evaInt_button").click(function(e){e.preventDefault();var thisM=$(this);if(thisM.hasClass("active")){$("#evaCommentInfoDecisionPanel a.evaInt_button").removeClass("active");$("#evaCommentInfoDecisionPanel .frE1Popup").fadeOut(300);}
else{$("#evaCommentInfoDecisionPanel a.evaInt_button").removeClass("active");thisM.addClass("active");$("#evaCommentInfoDecisionPanel .frE1Popup").fadeIn(300);$('#evaCommentInfoDecisionPanel select[name="warning"]').val("0").closest(".evaInt_select").find("p").html("ÐÐµ Ð²ÑÐ´Ð°Ð²Ð°ÑÑ Ð¿ÑÐµÐ´ÑÐ¿ÑÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ");$('#evaCommentInfoDecisionPanel select[name="punishment"]').val("0").closest(".evaInt_select").find("p").html("ÐÐµ Ð½Ð°ÐºÐ°Ð·ÑÐ²Ð°ÑÑ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ");$('#evaCommentInfoDecisionPanel textarea').val("");}});$('#evaCommentInfoDecisionPanel input[type="submit"]').click(function(e){e.preventDefault();var thisM=$(this);var resault="false";var warning=$('#evaCommentInfoDecisionPanel select[name="warning"]').val();var punishment=$('#evaCommentInfoDecisionPanel select[name="punishment"]').val();var text=$('#evaCommentInfoDecisionPanel textarea').val();var time=new Date();if($("#evaCommentInfoDecisionPanel a.evaInt_button.red").hasClass("active")){resault="true";}
if(text==""){evaSendNotification("error","ÐÐ±ÑÑÑÐ½Ð¸ÑÐµ ÑÐ²Ð¾Ðµ ÑÐµÑÐµÐ½Ð¸Ðµ","ÐÑ Ð½Ðµ Ð²Ð¿Ð¸ÑÐ°Ð»Ð¸ ÑÐ²Ð¾Ð¸ ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¸ Ðº Ð²ÑÐ½Ð¾ÑÐ¸Ð¼Ð¾Ð¼Ñ ÑÐµÑÐµÐ½Ð¸Ðµ Ð¿Ð¾ Ð¶Ð°Ð»Ð¾Ð±Ð°Ð¼.",time.getHours()+":"+time.getMinutes()+":"+time.getSeconds());return false;}
$.ajax({url:'https://'+location.hostname+'/api/abuses/solve/',type:"POST",data:{resault:resault,warning:warning,punishment:punishment,text:text,commid:$("#evaPubContentCommentInfo").attr("data-commid")},cache:false,async:false,success:function(response){if(checkIsJson(response)){var json=$.parseJSON(response);evaSendNotification(json["type"],json["title"],json["text"],json["time"]);if(json["type"]=="info"||json["type"]=="success"){$('#evaCommentInfoDecisionPanel select[name="warning"]').val("0").closest(".evaInt_select").find("p").html("ÐÐµ Ð²ÑÐ´Ð°Ð²Ð°ÑÑ Ð¿ÑÐµÐ´ÑÐ¿ÑÐµÐ¶Ð´ÐµÐ½Ð¸Ðµ");$('#evaCommentInfoDecisionPanel select[name="punishment"]').val("0").closest(".evaInt_select").find("p").html("ÐÐµ Ð½Ð°ÐºÐ°Ð·ÑÐ²Ð°ÑÑ Ð¿Ð¾Ð»ÑÐ·Ð¾Ð²Ð°ÑÐµÐ»Ñ");$('#evaCommentInfoDecisionPanel textarea').val("");$("#evaCommentInfoDecisionPanel a.evaInt_button").removeClass("active");$("#evaCommentInfoDecisionPanel .frE1Popup").fadeOut(300);$("#evaPubContentCommentInfo").hide();$('.commentItem[data-commid="'+$("#evaPubContentCommentInfo").attr("data-commid")+'"]').removeClass("reported").find("li.item.flt_left a.link.ico_bef.cReport").closest("li.item.flt_left").remove();}}}});});}
$("#evaReputationPopUpPreview .popupVotedUsersShowAll").click(function(e){e.preventDefault();var thisM=$(this);var contM=thisM.closest("#evaReputationPopUpPreview");var offset=contM.offset();$.ajax({url:'https://'+location.hostname+'/api/reputation/show-full/'+thisM.attr("data-type")+'/'+thisM.attr("data-item"),type:"POST",success:function(response){$("#evaReputationPopUpFull .avuList").html(response);$("#evaReputationPopUpFull").css("top",offset.top-30).css("left",offset.left-150).show();$(".antiscroll-wrap",$("#evaReputationPopUpFull")).antiscroll().data('antiscroll');$("#evaReputationPopUpPreview").hide();}});});}
function evaCommentariesEditCommSend(){$.ajax({url:'https://'+location.hostname+'/api/commentaries/action/update-bb/'+evaCommentTypeId+'/'+evaCommentItemId,type:"POST",data:{bbcode:$("#evaCommentEditTextArea").val()},cache:false,async:false,success:function(response){evaCommentContent.html(response);$("#evaCommentEditTextArea").hide();$(".commentActions .link.cEdit").removeClass("confirm").attr("title","Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹").html("Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ");evaCommentEditEn=0;evaCommentTypeId=0;evaCommentItemId=0;}});}
function evaCommentariesFirstBinds(){evaCommentariesShowData('list');if($("#evaCommentariesSystem").attr("data-cpage")==0&&$("#evaCommentariesSystem").attr("data-citem")==0&&$("#evaIntUserPanelRegistered").length){setInterval(evaCommentariesStartAutoRefreshing,30000);}
if($("#evaCommentariesSystem").attr("data-toposttimer")!='undefined'){if($("#evaCommentariesSystem").attr("data-toposttimer")>0){evaCommentariesToPostCountDown($("#evaCommentariesSystem").attr("data-toposttimer"));}}}
function evaCommentariesShowData(type){var actStr="";var type1=type;if($("#evaCommentariesSystem").attr("data-cpage")!=0){type="page";actStr="?cpage="+$("#evaCommentariesSystem").attr("data-cpage");}
else if($("#evaCommentariesSystem").attr("data-citem")!=0){type="item";actStr="?citem="+$("#evaCommentariesSystem").attr("data-citem");}
$.ajax({url:'https://'+location.hostname+'/api/commentaries/show/'+type+'/'+$("#evaCommentariesSystem").attr("data-typeitem")+actStr,type:"POST",data:{host:'https://'+location.hostname+location.pathname},success:function(response){$("#evaCommentariesSystemList").html(response);evaCommentariesItemInit($(".commentItem.noINIT"));evaUserCardInitialization($(".commentItem.noINIT"));$(".commentItem").removeClass("noINIT");if(type1=='list'){var searchStr=location.search;var expls=searchStr.split("=");if(2<=expls.length&&expls[0]=='?citem'&&$("#commId_"+expls[1]).length){$(document).scrollTop(($("#commId_"+expls[1]).offset().top)-120);$("#commId_"+expls[1]).addClass("targeted");setTimeout(function(){$("#commId_"+expls[1]).removeClass("targeted")},8000);}}}});}
function evaCommentariesStartAutoRefreshing(){$.ajax({url:'https://'+location.hostname+'/api/commentaries/show/new/'+$("#evaCommentariesSystem").attr("data-typeitem"),type:"POST",data:{id:$("#evaCommentariesSystemList .commentItem:first").attr("data-commid"),host:'https://'+location.hostname+location.pathname},cache:false,async:false,success:function(response){if(response!="false"){$("#evaCommentariesSystemList").prepend(response);evaCommentariesItemInit($(".commentItem.noINIT"));$(".commentItem").removeClass("noINIT");}}});}
function evaCommentariesSendNewPost(){$.ajax({url:'https://'+location.hostname+'/api/commentaries/action/post/'+$("#evaCommentariesSystem").attr("data-typeitem"),type:"POST",data:{text:$("#evaCommentariesSystem .commentSecForm textarea").val(),host:'https://'+location.hostname+location.pathname},cache:false,async:false,success:function(response){if(checkIsJson(response)){var json=$.parseJSON(response);evaSendNotification(json["type"],json["title"],json["text"],json["time"]);}
else{if($("#evaCommentariesSystem").attr("data-cpage")!=0||$("#evaCommentariesSystem").attr("data-citem")!=0){location='https://'+location.hostname+location.pathname+"#evaCommentariesSystemList";return;}
$("#evaCommentariesSystemList").prepend(response);evaCommentariesItemInit($(".commentItem.noINIT"));$(".commentItem").removeClass("noINIT");$("#evaCommentariesSystem .commentSecForm textarea").val("");evaCommentariesToPostCountDown($("#evaCommentariesSystem").attr("data-membtime"));}}});}
var evaAbuseClickedButtonObject="";var evaCommentEditEn=0;var evaCommentTypeId=0;var evaCommentItemId=0;var evaCommentContent="";function evaCommentariesToPostCountDown(timeToPost){$(".commentSecForm .commentSubmit input").prop("disabled",true).addClass("red").attr("value","Ð¡Ð»ÐµÐ´ÑÑÑÐ°Ñ Ð¿ÑÐ±Ð»Ð¸ÐºÐ°ÑÐ¸Ñ ÑÐµÑÐµÐ· "+timeToPost+" ÑÐµÐºÑÐ½Ð´").attr("title","Ð¡Ð»ÐµÐ´ÑÑÑÐ°Ñ Ð¿ÑÐ±Ð»Ð¸ÐºÐ°ÑÐ¸Ñ ÑÐµÑÐµÐ· "+timeToPost+" ÑÐµÐºÑÐ½Ð´");var toPostTimer=setInterval(function(){timeToPost-=1;$(".commentSecForm .commentSubmit input").attr("value","Ð¡Ð»ÐµÐ´ÑÑÑÐ°Ñ Ð¿ÑÐ±Ð»Ð¸ÐºÐ°ÑÐ¸Ñ ÑÐµÑÐµÐ· "+timeToPost+" ÑÐµÐºÑÐ½Ð´").attr("title","Ð¡Ð»ÐµÐ´ÑÑÑÐ°Ñ Ð¿ÑÐ±Ð»Ð¸ÐºÐ°ÑÐ¸Ñ ÑÐµÑÐµÐ· "+timeToPost+" ÑÐµÐºÑÐ½Ð´");if(timeToPost<=0){clearInterval(toPostTimer);$(".commentSecForm .commentSubmit input").prop("disabled",false).removeClass("red").attr("value","ÐÐ¿ÑÐ±Ð»Ð¸ÐºÐ¾Ð²Ð°ÑÑ ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹").attr("title","ÐÐ¿ÑÐ±Ð»Ð¸ÐºÐ¾Ð²Ð°ÑÑ ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹");}},1000);}
function evaCommentariesItemInit(context){evaRatingInitialize(context);$(".lazyLoadStnd",context).show().lazyload({effect:"fadeIn",skip_invisible:false,load:function(){var thisM=$(this);setTimeout(function(){thisM.closest("figure").removeClass("loading_bef")},150)}});$(".lazyLoadStndTrigger",context).show().lazyload({effect:"fadeIn",skip_invisible:false,event:"sporty",load:function(){var thisM=$(this);setTimeout(function(){thisM.closest("figure").removeClass("loading_bef")},150)}}).trigger("sporty");$(".lazyLoadStndNoSpin",context).show().lazyload({effect:"fadeIn",skip_invisible:false});$(".lazyLoadStndNoSpinTrigger",context).show().lazyload({effect:"fadeIn",skip_invisible:false,event:"sporty"}).trigger("sporty");evaImageEnlargerInitialize(context);$(".commentActions .link.cDelete",context).click(function(e){e.preventDefault();var thisM=$(this);if(thisM.hasClass("confirm")){$.ajax({url:'https://'+location.hostname+'/api/commentaries/action/delete/'+$("#evaCommentariesSystem").attr("data-typeitem")+'/'+thisM.closest(".commentItem").attr("data-commid"),type:"POST",cache:false,async:false,success:function(response){var json=$.parseJSON(response);evaSendNotification(json["type"],json["title"],json["text"],json["time"]);if(json["type"]=="success")
thisM.closest(".commentItem").remove();}});}
else
thisM.addClass("confirm")});$(".commentActions .link.cHide",context).click(function(e){e.preventDefault();var thisM=$(this);if(thisM.hasClass("confirm")){$.ajax({url:'https://'+location.hostname+'/api/commentaries/action/hide/'+$("#evaCommentariesSystem").attr("data-typeitem")+'/'+thisM.closest(".commentItem").attr("data-commid"),type:"POST",cache:false,async:false,success:function(response){var json=$.parseJSON(response);evaSendNotification(json["type"],json["title"],json["text"],json["time"]);if(json["type"]=="success"){if($("#evaCommentariesSystem").attr("data-ismoder")){alert($("#evaCommentariesSystem").attr("data-ismoder"));thisM.closest(".commentItem").addClass("hidden");thisM.closest(".commentItem").find(".link.cShow").show();$(".commentActions .link").removeClass("confirm");thisM.hide();}
else
thisM.closest(".commentItem").remove();}}});}
else
thisM.addClass("confirm")});$(".commentActions .link.cShow",context).click(function(e){e.preventDefault();var thisM=$(this);if(thisM.hasClass("confirm")){$.ajax({url:'https://'+location.hostname+'/api/commentaries/action/hide/'+$("#evaCommentariesSystem").attr("data-typeitem")+'/'+thisM.closest(".commentItem").attr("data-commid"),type:"POST",cache:false,async:false,success:function(response){var json=$.parseJSON(response);evaSendNotification(json["type"],json["title"],json["text"],json["time"]);if(json["type"]=="success"){thisM.closest(".commentItem").removeClass("hidden");thisM.closest(".commentItem").find(".link.cHide").show();$(".commentActions .link").removeClass("confirm");thisM.hide();}}});}
else
thisM.addClass("confirm")});$(".commentActions .link.cReport",context).click(function(e){e.preventDefault();if($(this).attr("href")=="#show_list"){return true;}
var thisM=evaAbuseClickedButtonObject=$(this);var fCont=thisM.closest(".commentItem");var offset=thisM.offset();if(thisM.hasClass("cSuccess"))
return false;if($("#evaAbuseSystemPanel").length){$("#evaAbuseSystemPanel").css("top",Math.ceil(offset.top-300)).css("left",Math.ceil(offset.left-326)).show().find("textarea").val("");$("#evaAbuseSystemPanel").attr("data-commid",fCont.attr("data-commid"));}
else{$.ajax({url:'https://'+location.hostname+'/api/abuses/get-panel',cache:false,async:false,success:function(response){$("#evaGLOGABPanelsInsertArea").append(response);$("#evaAbuseSystemPanel").css("top",Math.ceil(offset.top-300)).css("left",Math.ceil(offset.left-326)).show().find("textarea").val("");$("select",$("#evaAbuseSystemPanel")).evaSelect();frE1PopupInitializer($("#evaGLOGABPanelsInsertArea"),"#evaAbuseSystemPanel");$("#evaAbuseSystemPanel").attr("data-commid",fCont.attr("data-commid"));$("#evaAbuseSystemPanel a.evaInt_button.dark").click(function(e){e.preventDefault();var thisM2=$(this);$.ajax({url:'https://'+location.hostname+'/api/abuses/make/1/'+$("#evaAbuseSystemPanel").attr("data-commid"),type:"POST",data:{reason:$("#evaAbuseSystemPanel select").val(),text:$("#evaAbuseSystemPanel textarea").val()},cache:false,async:false,success:function(response){evaAbuseClickedButtonObject.removeClass("cReport").addClass("cSuccess").attr("title","ÐÐ°Ð»Ð¾Ð±Ð° Ð¾ÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½Ð°").html("ÐÐ°Ð»Ð¾Ð±Ð° Ð¾ÑÐ¿ÑÐ°Ð²Ð»ÐµÐ½Ð°");$("#evaAbuseSystemPanel").hide().find("textarea").val("");var json=$.parseJSON(response);evaSendNotification(json["type"],json["title"],json["text"],json["time"]);}});});}});}});$(".commentActions .link.cSuccess",context).click(function(e){e.preventDefault();});$(".commentActions .link.cEdit",context).click(function(e){e.preventDefault();var thisM=$(this);var offset=thisM.offset();var height=thisM.closest(".commentItem").find(".commentContent").height();if(thisM.hasClass("confirm")){$(".commentActions .link.cEdit").removeClass("confirm").attr("title","Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ð¹").html("Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ");$("#evaCommentEditTextArea").hide();evaCommentEditEn=0;evaCommentTypeId=0;evaCommentItemId=0;}
else{$(".commentActions .link.cEdit").removeClass("confirm");thisM.attr("title","ÐÑÐ¼ÐµÐ½Ð¸ÑÑ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ðµ ÐºÐ¾Ð¼Ð¼ÐµÐ½ÑÐ°ÑÐ¸Ñ").html("ÐÑÐ¼ÐµÐ½Ð¸ÑÑ");thisM.addClass("confirm");$.ajax({url:'https://'+location.hostname+'/api/commentaries/action/get-bb/'+$("#evaCommentariesSystem").attr("data-typeitem")+'/'+thisM.closest(".commentItem").attr("data-commid"),cache:false,async:false,success:function(response){$("#evaCommentEditTextArea").val(response);evaCommentEditEn=1;evaCommentTypeId=$("#evaCommentariesSystem").attr("data-typeitem");evaCommentItemId=thisM.closest(".commentItem").attr("data-commid");evaCommentContent=thisM.closest(".commentItem").find(".commentContent");e.stopPropagation();}});$("#evaCommentEditTextArea").css("top",Math.ceil(offset.top-height-5)).height(height).show();}});$(".commentActions .link.cInfo",context).click(function(e){e.preventDefault();var thisM=$(this);$("#evaCommentInfoBookmarks a").removeClass("active");$('#evaCommentInfoBookmarks a[data-type="info"]').addClass("active");$("#evaPubContentCommentInfo").show().css({"top":(thisM.offset().top-530),"margin-left":139}).attr("data-commid",thisM.closest(".commentItem").attr("data-commid"));evaCommModeratorInfoGetData("comm_info",$("#evaPubContentCommentInfo").attr("data-commid"));});$(".commentActions .link.cQuote",context).click(function(e){e.preventDefault();var thisM=$(this);var cItem=thisM.closest(".commentItem");var explH=explodeHashedHref(cItem.find(".frE1UserAv.px80 a").attr("href"));$.ajax({url:'https://'+location.hostname+'/api/commentaries/action/get-bb/'+$("#evaCommentariesSystem").attr("data-typeitem")+'/'+cItem.attr("data-commid"),cache:false,async:false,success:function(response){$(".commentSecForm textarea").val($(".commentSecForm textarea").val()+"\n[quote author='"+explH[0]+"' datetime='"+cItem.find("time.time.ico_bef").html()+"' post='"+cItem.attr("data-commid")+"']"+response+"[/quote]");}});});$(".commentHeader .commentAnchor",context).click(function(e){e.preventDefault();var thisM=$(this);var fCont=thisM.closest(".commentItem").find(".fcont.commentLink");if(fCont.hasClass("show"))
fCont.removeClass("show");else{fCont.addClass("show");fCont.find("input").val(thisM.attr("href"));}});$(".fcont.commentLink input",context).click(function(e){$(this).select();});$("#evaCommentInfoBookmarks a").click(function(e){e.preventDefault();var thisM=$(this);if(thisM.hasClass("active"))
return false;$("#evaCommentInfoBookmarks a").removeClass("active");thisM.addClass("active");if(thisM.attr("data-type")=="info")
evaCommModeratorInfoGetData("comm_info",$("#evaPubContentCommentInfo").attr("data-commid"));else
evaCommModeratorInfoGetData("comm_edit",$("#evaPubContentCommentInfo").attr("data-commid"));});$(".commentSecHead span.fullStat").click(function(e){var thisM=$(this);if(thisM.hasClass("active")){thisM.removeClass("active");return false;}
$.ajax({url:'https://'+location.hostname+'/api/commentaries/show/stats/'+$("#evaCommentariesSystem").attr("data-typeitem"),type:"POST",cache:false,async:false,success:function(response){$(".commentSecHead .frE1Popup .popup_body").html(response);$(".commentSecHead .frE1Popup").removeAttr("style");$(".commentSecHead .frE1Popup").unbind("draggable");thisM.addClass("active");}});});$(".commentItem .deletedContent .evaCommDelShow").click(function(e){var thisM=$(this);$.ajax({url:'https://'+location.hostname+'/api/commentaries/show/delpreview/'+$("#evaCommentariesSystem").attr("data-typeitem")+"/"+thisM.closest(".commentItem").attr("data-commid"),type:"POST",success:function(response){if(checkIsJson(response)){var json=$.parseJSON(response);evaSendNotification(json["type"],json["title"],json["text"],json["time"]);}
else{$("#evaPubContentCommentPreview").show().css("top",thisM.offset().top-40).css("margin-left",52);$("#evaPubContentCommentPreview .popup_body div").html(response);evaBBCodesInitialization($("#evaPubContentCommentPreview .popup_body div"));}}});});evaBBCodesInitialization(context);evaUserCardInitialization(context);}
function evaCommModeratorInfoGetData(dataType,commId){$.ajax({url:'https://'+location.hostname+'/api/commentaries/show/'+dataType+'/'+$("#evaCommentariesSystem").attr("data-typeitem")+'/'+commId,type:"POST",cache:false,async:false,success:function(response){$("#evaPubContentCommentInfo .antiscroll-inner").html(response);scroller=$("#evaPubContentCommentInfo .antiscroll-wrap").antiscroll().data("antiscroll");$(window).resize(function(){scroller.rebuild();});}});}
function evaRatingInitialize(context){$(".link.change",context).click(function(e){e.preventDefault();var thisM=$(this);var contM=thisM.closest(".frE1Rating");if(thisM.hasClass("blocked")){var time=new Date();evaSendNotification("info","ÐÐ¾Ð»Ð¾Ñ Ð½Ðµ ÑÑÑÐµÐ½","ÐÑ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑÐµ Ð¿ÑÐ¾Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð°ÑÑ, ÑÐ°Ðº ÐºÐ°Ðº Ð²Ñ Ð°Ð²ÑÐ¾Ñ Ð¸Ð»Ð¸ ÑÐ¶Ðµ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð°Ð»Ð¸. Ð¢Ð°ÐºÐ¶Ðµ Ð³Ð¾ÑÑÐ¸ Ð½Ðµ Ð¼Ð¾Ð³ÑÑ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð°ÑÑ.",time.getHours()+":"+time.getMinutes()+":"+time.getSeconds());return false;}
if(thisM.hasClass("plus"))
var act=1;else if(thisM.hasClass("minus"))
var act=-1;$.ajax({url:'https://'+location.hostname+'/api/reputation/set/'+contM.attr("data-type")+'/'+contM.attr("data-item"),type:"POST",data:{act:act},cache:false,async:false,success:function(response){contM.find(".link.change").addClass("blocked");thisM.removeClass("blocked").addClass("added");if(response>0)
contM.find(".link.value").removeClass("negative").removeClass("positive").addClass("positive").html(response);else if(response<0)
contM.find(".link.value").removeClass("negative").removeClass("positive").addClass("positive").html(response);}});});$(".link.value",context).click(function(e){e.preventDefault();var thisM=$(this);var contM=thisM.closest(".frE1Rating");var offset=thisM.offset();$.ajax({url:'https://'+location.hostname+'/api/reputation/show/'+contM.attr("data-type")+'/'+contM.attr("data-item"),type:"POST",success:function(response){if(response=="false"){$("#evaReputationPopUpPreview").hide();$("#evaReputationPopUpFull").hide();return false;}
$("#evaReputationPopUpPreview .popupVotedUsers").html(response);if($("#evaReputationPopUpPreview .popupVotedUsers .frE1UserAv").length==10)
$("#evaReputationPopUpPreview .popupVotedUsersShowAll").attr("data-type",contM.attr("data-type")).attr("data-item",contM.attr("data-item")).show();else
$("#evaReputationPopUpPreview .popupVotedUsersShowAll").hide();var lft=$("#evaReputationPopUpPreview").width()-25;$("#evaReputationPopUpPreview").css("top",offset.top+24).css("left",offset.left-lft).show();}});});};function evaBBCodesInitialization(context){defaultPUBHiddenCont(context);$(".evaBBCodeHiddenCont .bb.nav.hider li.item a",context).click(function(e){var aHash=$(this).attr("href");aHash=aHash.replace(new RegExp("\#",'g'),"");var hidden=$("#hid_"+aHash,context);if(hidden.length>0){hidden.closest(".evaBBCodeHiddenCont").find(".evaBBCodeHiddenContItem").removeClass("show").removeClass("hide").addClass("hide");hidden.closest(".evaBBCodeHiddenCont").find(".bb.nav.hider li.item a").removeClass("active");hidden.delay(10).removeClass("show").removeClass("hide").addClass("show");$("#li_"+aHash+" a").addClass("active");}});$(".bb.spoiler h6.title",context).click(function(e){e.preventDefault();if($(this).hasClass("closed"))
$(this).removeClass("closed").attr("title","Ð¡ÐºÑÑÑÑ");else
$(this).addClass("closed").attr("title","ÐÐ¾ÐºÐ°Ð·Ð°ÑÑ");});$(".bb.menu .category a.cat",context).click(function(e){e.preventDefault();if($(this).closest("li").hasClass("closed"))
$(this).closest("li").removeClass("closed");else
$(this).closest("li").addClass("closed");});$("div.bb.media figure.bb.thumbnail",context).click(function(e){$(this).after('<iframe class="embed"  src="https://www.youtube.com/embed/'+$(this).closest("div.bb.media").attr("data-youtube")+'?theme=light&color=red&autoplay=1" frameborder="0" allowfullscreen></iframe>');$(this).removeClass("thumbnail");});$("pre.php",context).snippet("php",{style:"ide-eclipse",clipboard:"https://"+location.hostname+"/js/ZeroClipboard.swf",showNum:true});$("pre.html",context).snippet("html",{style:"ide-msvcpp",clipboard:"https://"+location.hostname+"/js/ZeroClipboard.swf",showNum:true});$("pre.js",context).snippet("javascript",{style:"ide-kdev",clipboard:"https://"+location.hostname+"/js/ZeroClipboard.swf",showNum:true});$("pre.css",context).snippet("css",{style:"the",clipboard:"https://"+location.hostname+"/js/ZeroClipboard.swf",showNum:true});$("a",context).fullrestToolTipInit();}
function checkPUBHiddenCont(context){var aHash=window.location.hash;aHash=aHash.replace(new RegExp("\#",'g'),"");var hidden=$("#hid_"+aHash,context);if(hidden.length>0){hidden.closest(".evaBBCodeHiddenCont").find(".evaBBCodeHiddenContItem").removeClass("show").removeClass("hide").addClass("hide");hidden.closest(".evaBBCodeHiddenCont").find(".bb.nav.hider li.item a").removeClass("active");hidden.delay(10).removeClass("show").removeClass("hide").addClass("show");$("#li_"+aHash+" a").addClass("active");}}
function defaultPUBHiddenCont(context){$(".evaBBCodeHiddenCont",context).each(function(){$(this).find(".evaBBCodeHiddenContItem").removeClass("show").removeClass("hide").addClass("hide");$($(this).find(".evaBBCodeHiddenContItem")[0]).removeClass("hide").addClass("show");$($(this).find(".bb.nav.hider li.item a")[0]).removeClass("active").addClass("active");});checkPUBHiddenCont(context);};function menuTopImitialization(content){$(document).click(function(event){if($(event.target).closest(".frE1Menu .item a").length==0){$(".frE1Menu .item a").removeClass("hover");}});$(".frE1Menu .item a",content).click(function(event){if($(this).next().hasClass("frE1SubM")&&!$(this).hasClass("hover")){event.preventDefault();event.stopPropagation();$(".frE1Menu a").removeClass("hover");$(this).addClass("hover");$(this).next(".frE1SubM").find("img").show().lazyload({event:"sporty"}).trigger("sporty");$("noscript").remove();}});};function antiscrollInitialization(){if($(".frE1FShowPrevGallery.antiscroll-wrap").length)
antiscrollFilesIndexGallInit($(document));}
function antiscrollFilesIndexGallInit(context){$(".frE1FShowPrevGallery.antiscroll-wrap",context).antiscroll().data('antiscroll');$(".frE1FShowPrevGallery .antiscroll-inner.horizontal").mousewheel(function(event,delta){this.scrollLeft-=(delta*198);event.preventDefault();});};var parentId='none';function pubEditMetaInitialize(context){if($(".pubEditMetaForm",context).length){pubEditMetaFormFunctions(context);pubEditMetaDeleteTagInit(context);pubEditMetaDeleteTeamInit(context);}}
function pubEditMetaFormFunctions(context){$(".pubEditMetaName",context).bind('textchange',function(e){pubEditMetaCheckName($(this));});$(".pubEditMetaTitle",context).bind('textchange',function(e){pubEditMetaCheckTitle($(this));});$(".pubEditMetaLinkHome",context).bind('textchange',function(e){pubEditMetaCheckLinks($(this));});$(".pubEditMetaLinkForum",context).bind('textchange',function(e){pubEditMetaCheckLinks($(this));});$(".pubEditMetaDesCount",context).bind('textchange',function(e){pubEditMetaCheckDesCount($(this));});if($(".pubEditMetaHierarchy").length){$(".pubEditMetaHierarchy",context).change(function(e){pubEditMetaCheckName($(".pubEditMetaName"));var rets=pubEditMetaMakeCheckRequest("hierarchy",$(this).val());});var rets=pubEditMetaMakeCheckRequest("hierarchy",$(".pubEditMetaHierarchy").val());}
$(".pubEditMetaAuthor",context).bind('textchange',function(e){var thisM=$(this);var value=$(this).val();var autoC=thisM.closest(".fcont").find(".frE1Autocomplete");$.ajax({url:'https://'+location.hostname+'/api/teams/'+thisM.attr("data-authoritem")+'/'+thisM.attr("data-teamtype")+'/select',type:"POST",data:{val:value},cache:false,async:false,success:function(response){if(response=="false")
autoC.removeClass("show").html("");else{autoC.addClass("show").html(response);$("li",autoC).click(function(e){thisM.val($(this).find("span").text());autoC.removeClass("show").html("");});}}});});$(".pubEditMetaAuthorSend").click(function(e){e.preventDefault();var thisM=$(this);$.ajax({url:'https://'+location.hostname+'/api/teams/'+thisM.attr("data-authoritem")+'/'+$(".pubEditMetaAuthor").attr("data-teamtype")+'/add',type:"POST",data:{member_nick:$(".pubEditMetaAuthor").val(),role_title:$(".pubEditMetaAuthorRole").val()},cache:false,async:false,success:function(response){if(response!="false"){$(".frE1Authors").append(response);$(".pubEditMetaAuthor").val("");$(".pubEditMetaAuthorRole").val("");pubEditMetaDeleteTeamInit($(".frE1Authors"));}}});});$(".pubEditMetaPSiteSend").click(function(e){e.preventDefault();var thisM=$(this);$.ajax({url:'https://'+location.hostname+'/api/teams/'+thisM.attr("data-authoritem")+'/'+$(".pubEditMetaAuthor").attr("data-teamtype")+'/add',type:"POST",data:{psite_id:$(".pubEditMetaPSite").val()},cache:false,async:false,success:function(response){if(response!="false"){$(".frE1Authors").append(response);pubEditMetaDeleteTeamInit($(".frE1Authors"));}}});});$(".pubEditMetaTag",context).bind('textchange',function(e){var thisM=$(this);var value=$(this).val();var autoC=thisM.closest(".fcont").find(".frE1Autocomplete");$.ajax({url:'https://'+location.hostname+'/api/tags/'+$("#currentArticleId").val()+'/'+thisM.attr("data-tagtype")+'/select',type:"POST",data:{tag_title:value},cache:false,async:false,success:function(response){if(response=="false")
autoC.removeClass("show").html("");else{autoC.addClass("show").html(response);$("li",autoC).click(function(e){$.ajax({url:'https://'+location.hostname+'/api/tags/'+$("#currentArticleId").val()+'/'+thisM.attr("data-tagtype")+'/set',type:"POST",data:{tag_id:$(this).find("span").attr("data-tagid")},success:function(response){if(response!="false"){thisM.val("");autoC.removeClass("show").html("");$(".cmAdvTagList").append(response);pubEditMetaDeleteTagInit($(".cmAdvTagList"));}}});});}}});});$(".pubEditMetaTagSend").click(function(e){e.preventDefault();$.ajax({url:'https://'+location.hostname+'/api/tags/'+$("#currentArticleId").val()+'/'+$(".pubEditMetaTag").attr("data-tagtype")+'/add',type:"POST",data:{tag_title:$(".pubEditMetaTag").val()},cache:false,async:false,success:function(response){if(response!="false"){$(".cmAdvTagList").append(response);$(".pubEditMetaTag").val("");pubEditMetaDeleteTagInit($(".cmAdvTagList"));}}});});$(".pubEditMetaName",context).each(function(e){pubEditMetaCheckName($(this));});$(".pubEditMetaTitle",context).each(function(e){pubEditMetaCheckTitle($(this));});$(".pubEditMetaDesCount.required",context).each(function(e){pubEditMetaCheckDesCount($(this));});$(".pubEditMetaLinkHome",context).each(function(e){pubEditMetaCheckLinks($(this));});$(".pubEditMetaLinkForum",context).each(function(e){pubEditMetaCheckLinks($(this));});$("#evaArticleMetaHeaderIconDel").click(function(e){e.preventDefault();if($(this).hasClass("ico_bef")){$(this).find("img").attr("src","https://"+location.hostname+"/"+$("#evaArticleMetaHeaderIconDef").val());$(this).removeClass("ico_bef");$.ajax({url:'https://'+location.hostname+location.pathname+location.search+'&pubCheck=iconDel&val=1'});}});$(".frE1CMHeader .mItem").click(function(e){e.preventDefault();var thisM=$(this);if(thisM.hasClass("active")){$(".frE1CMHeader .mItem").removeClass("active");$(".pubEditMetaForm").removeClass("hide").addClass("hide");thisM.find("span").html("ÐÐ¾ÐºÐ°Ð·Ð°ÑÑ");}
else{$(".frE1CMHeader .mItem").removeClass("active");thisM.addClass("active");$(".pubEditMetaForm").removeClass("hide").addClass("hide");thisM.find("span").html("Ð¡ÐºÑÑÑÑ");if(thisM.hasClass("mainSettings"))
$(".pubEditMetaForm.mainSettings").removeClass("hide");else if(thisM.hasClass("headerSettings"))
$(".pubEditMetaForm.headerSettings").removeClass("hide");else if(thisM.hasClass("seoSettings"))
$(".pubEditMetaForm.seoSettings").removeClass("hide");}});if($(".pubEditMetaForm.headerSettings").length){$(".pubEditMetaForm.headerSettings").ajaxForm({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/save/header',success:function(response){var jsonDecoded=$.parseJSON(response);var thisM=$(".pubEditMetaForm.headerSettings .pubEditMetaFormSubmit");var oVal=thisM.val();var arr=[];arr["error"]="red";arr["success"]="green";thisM.addClass("active").addClass(arr[jsonDecoded["state"]]).val(jsonDecoded["msg"]);setTimeout(function(){thisM.removeClass("red").removeClass("green").removeClass("active").val(oVal);},5000);if(jsonDecoded["iconEnable"]=="yes"){if(!$("#evaPubMetaHeaderGraphHIcon").hasClass("ico_bef"))
$("#evaPubMetaHeaderGraphHIcon").addClass("ico_bef");$("#evaPubMetaHeaderGraphHIcon img").attr("src",jsonDecoded["iconUrl"]+"?"+getRandomInt(1,900));}
if(jsonDecoded["mainbgEnable"]=="yes"){if(!$("#evaPubMetaHeaderGraphMainBG").hasClass("ico_bef"))
$("#evaPubMetaHeaderGraphMainBG").addClass("ico_bef");$("#evaPubMetaHeaderGraphMainBG img").attr("src",jsonDecoded["mainbgUrl"]+"?"+getRandomInt(1,900));}
if(jsonDecoded["headbgEnable"]=="yes"){if(!$("#evaPubMetaHeaderGraphHeadBG").hasClass("ico_bef"))
$("#evaPubMetaHeaderGraphHeadBG").addClass("ico_bef");$("#evaPubMetaHeaderGraphHeadBG img").attr("src",jsonDecoded["headbgUrl"]+"?"+getRandomInt(1,900));}}});$("#evaPubMetaHeaderGraphActive").click(function(e){if($(this).attr("checked")=="checked"){$(".gHeaderUpload.p10_t").removeClass("disabled");$("#evaPubMetaHeaderGraphBooks").removeAttr("disabled").prop("disabled",false);$("#evaPubMetaHeaderGraphNears").removeAttr("disabled").prop("disabled",false);}
else{$(".gHeaderUpload.p10_t").addClass("disabled");$("#evaPubMetaHeaderGraphBooks").attr("disabled","disabled").prop("disabled",true);$("#evaPubMetaHeaderGraphNears").attr("disabled","disabled").prop("disabled",true);}});$("#evaPubMetaHeaderGraphBooks").click(function(e){if($(this).attr("checked")=="checked")
$(".gHOver.gHeaderBookmarks").addClass("show");else
$(".gHOver.gHeaderBookmarks").removeClass("show");});$("#evaPubMetaHeaderGraphNears").click(function(e){if($(this).attr("checked")=="checked")
$(".gHOver.gHeaderArticles").addClass("show");else
$(".gHOver.gHeaderArticles").removeClass("show");});$("#evaPubMetaHeaderGraphHIcon").click(function(e){e.preventDefault();var thisM=$(this);if(thisM.hasClass("ico_bef")){$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/save/del_icon',success:function(response){$("#evaPubMetaHeaderGraphHIcon img").attr("src",'https://'+location.hostname+'/uploads/article_icons/default_arts.png');thisM.removeClass("ico_bef");}});}});$("#evaPubMetaHeaderGraphMainBG").click(function(e){e.preventDefault();var thisM=$(this);if(thisM.hasClass("ico_bef")){$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/save/del_mbg',success:function(response){$("#evaPubMetaHeaderGraphMainBG img").attr("src",'https://'+location.hostname+'/images/default_main_bg.png');thisM.removeClass("ico_bef");}});}});$("#evaPubMetaHeaderGraphHeadBG").click(function(e){e.preventDefault();var thisM=$(this);if(thisM.hasClass("ico_bef")){$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/save/del_hbg',success:function(response){$("#evaPubMetaHeaderGraphHeadBG img").attr("src",'https://'+location.hostname+'/images/default_header_bg.png');thisM.removeClass("ico_bef");}});}});pubEditMetaCheckSubmit($(".pubEditMetaForm.headerSettings"));}
if($(".pubEditMetaForm.seoSettings").length){$(".pubEditMetaForm.seoSettings").ajaxForm({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/save/seo',success:function(response){var jsonDecoded=$.parseJSON(response);var thisM=$(".pubEditMetaForm.seoSettings .pubEditMetaFormSubmit");var oVal=thisM.val();var arr=[];arr["error"]="red";arr["success"]="green";thisM.addClass("active").addClass(arr[jsonDecoded["state"]]).val(jsonDecoded["msg"]);setTimeout(function(){thisM.removeClass("red").removeClass("green").removeClass("active").val(oVal);},5000);}});pubEditMetaCheckSubmit($(".pubEditMetaForm.headerSettings"));}
if($(".pubEditMetaForm.mainSettings").length){$(".pubEditMetaForm.mainSettings").ajaxForm({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/save/meta',success:function(response){var jsonDecoded=$.parseJSON(response);var thisM=$(".pubEditMetaForm.mainSettings .pubEditMetaFormSubmit");var oVal=thisM.val();var arr=[];arr["error"]="red";arr["success"]="green";thisM.addClass("active").addClass(arr[jsonDecoded["state"]]).val(jsonDecoded["msg"]);setTimeout(function(){thisM.removeClass("red").removeClass("green").removeClass("active").val(oVal);},5000);if(jsonDecoded["redir"]=="yes")
location=$(".linkResault .domain").html()+$(".linkResault .way").html()+jsonDecoded["redir_addr"]+"?act=edit";}});pubEditMetaCheckSubmit($(".pubEditMetaForm.mainSettings"));}
if($(".pubEditMetaForm.mainSettingsAdd").length){$(".pubEditMetaForm.mainSettingsAdd").ajaxForm({url:'https://'+location.hostname+'/api/publicatr/0/add/article',success:function(response){location=$("form .linkResault span.domain").html()+$("form .linkResault span.way").html()+response;}});pubEditMetaCheckSubmit($(".pubEditMetaForm.mainSettingsAdd"));}
if($("#evaArtLoaderWallPapersUploader").length){initArtWallPapersUploader();function initArtWallPapersUploader(){$("#evaArtLoaderWallPapersUploader").pluploadQueue({runtimes:'html5,flash,silverlight',url:'https://'+location.hostname+location.pathname+'?act=edit&load=walls',max_file_size:'5mb',unique_names:true,dragdrop:true,filters:[{title:"Image files",extensions:"jpg,gif,png,jpeg"}],flash_swf_url:'/js/v5/libs/plupload.flash.swf',silverlight_xap_url:'/js/v5/libs/plupload.silverlight.xap',init:{FileUploaded:function(up,file,info){$(".frE1FShowMedia .eGallery.mList").prepend(info.response);$("img",$(".frE1FShowMedia .eGallery.mList figure.bb.mItem.zoomIn.noInit")).show().lazyload({event:"sporty"}).trigger("sporty");},UploadComplete:function(up,files){up.destroy();initArtWallPapersUploader()();$(".frE1FShowMedia .eGallery.mList figure").removeClass("noInit");}}});}}
if($("#evaPubMetaArticleGames").length){$("#evaPubMetaArticleGames").change(function(){if($(this).val()!=0){$.ajax({url:'https://'+location.hostname+location.pathname+'?act=add&chkgame='+$(this).val(),type:"POST",cache:false,async:false,success:function(response){$('#evaPubMetaArticleDLC option[value="0"]').nextAll("option").remove();$("#evaPubMetaArticleDLC").find("p.selTxt").html("ÐÐµÑ DLC");$('#evaPubMetaArticleDLC select').val(0);if(response!="false"){$('#evaPubMetaArticleDLC option[value="0"]').after(response);$("#evaPubMetaArticleDLC").removeClass("hide");}
else{$("#evaPubMetaArticleDLC").removeClass("hide").addClass("hide");}}});}});}
if($("#evaPubMetaArtMultiLoader").length){$("#evaPubMetaArtType").change(function(){if($('#evaPubMetaArtType option[value="5"]').prop("disabled")==false){$("#evaPubMetaArtMultiLoadEn").closest(".fcont").removeClass("hide");$("#evaPubMetaArtSingleLoader").removeClass("hide");if($(this).val()==5){$("#evaPubMetaArtSingleLoader").addClass("hide");$("#evaPubMetaArtMultiLoadEn").closest(".fcont").addClass("hide");$("#evaPubMetaArtWallsDescr").removeClass("hide");}
else{if(!$("#evaPubMetaArtWallsDescr").hasClass("hide"))
$("#evaPubMetaArtWallsDescr").addClass("hide");}}});$("#evaPubMetaArtMultiLoadEn").change(function(){if($(this).attr("checked")){initArtAddMultiAploader();$("#evaPubMetaArtMultiLoader").closest(".fcont").removeClass("hide");$("#evaPubMetaArtTitleField").addClass("hide");$("#evaPubMetaArtSingleLoader").addClass("hide");$('#evaPubMetaArtType option[value="5"]').prop("disabled",true);$("#evaPubMetaArtSubmitter").prop("disabled",true);}
else{$("#evaPubMetaArtMultiLoader").closest(".fcont").addClass("hide");$("#evaPubMetaArtTitleField").removeClass("hide");$("#evaPubMetaArtSingleLoader").removeClass("hide");$('#evaPubMetaArtType option[value="5"]').prop("disabled",false);$("#evaPubMetaArtSubmitter").prop("disabled",false);}});$("#evaPubMetaArtGames").change(function(){if($(this).val()!=0){$.ajax({url:'https://'+location.hostname+location.pathname+'?act=add&chkgame='+$(this).val(),type:"POST",cache:false,async:false,success:function(response){$('#evaPubMetaArtDLCField option[value="0"]').nextAll("option").remove();$("#evaPubMetaArtDLCField").find("p.selTxt").html("ÐÐµÑ DLC");$('#evaPubMetaArtDLCField select').val(0);if(response!="false"){$('#evaPubMetaArtDLCField option[value="0"]').after(response);$("#evaPubMetaArtDLCField").removeClass("hide");}
else{$("#evaPubMetaArtDLCField").removeClass("hide").addClass("hide");}}});}
initArtAddMultiAploader();});$("#evaPubMetaArtDLCField select").change(function(){initArtAddMultiAploader();});function initArtAddMultiAploader(){$("#evaPubMetaArtMultiLoader").pluploadQueue({runtimes:'html5,flash,silverlight',url:'https://'+location.hostname+location.pathname+'?act=add&load=multi&game='+$("#evaPubMetaArtGames").val()+'&dlc='+$('#evaPubMetaArtDLCField select').val()+'&type='+$('#evaPubMetaArtType').val(),max_file_size:'5mb',unique_names:true,dragdrop:true,filters:[{title:"Image files",extensions:"jpg,gif,png,jpeg"}],flash_swf_url:'/js/v5/libs/plupload.flash.swf',silverlight_xap_url:'/js/v5/libs/plupload.silverlight.xap',init:{UploadComplete:function(up,files){location='https://'+location.hostname+'/gallery';}}});}}}
function pubEditMetaCheckSubmit(formObject){if(formObject.find(".ico.error").length){formObject.find('input[type="submit"]').addClass("red").prop("disabled",true);}
else{formObject.find('input[type="submit"]').removeClass("red").prop("disabled",false);}}
function pubEditMetaCheckName(thisM){var result=pubEditMetaMakeCheckRequest(thisM.attr("name"),thisM.val());$("#pubEditMetaNameTrans").val("");if(result=="noAnswer")
return;if($.trim(thisM.val())=="")
thisM.closest(".fcont").find("span").removeClass("ico").removeClass("error").removeClass("success").attr("data-title","");else
thisM.closest(".fcont").find("span").removeClass("ico").removeClass("error").removeClass("success").addClass("ico").addClass(result["state"]).attr("data-title",result["msg"]);if(thisM.closest(".fcont").find("span").hasClass("success")){$("form .linkResault span.adress").html(result["trans"]);$("#pubEditMetaNameTrans").val(result["trans"]);}
pubEditMetaCheckSubmit(thisM.closest("form"));}
function pubEditMetaCheckTitle(thisM){var result=pubEditMetaMakeCheckRequest(thisM.attr("name"),thisM.val());$("#pubEditMetaTitleTrans").val("");if(result=="noAnswer")
return;thisM.closest(".fcont").find("span").removeClass("ico").removeClass("error").removeClass("success").addClass("ico").addClass(result["state"]).attr("data-title",result["msg"]);if(thisM.closest(".fcont").find("span").hasClass("success")&&!$(".pubEditMetaName").closest(".fcont").find("span").hasClass("success")){$("form .linkResault span.adress").html(result["trans"]);$("#pubEditMetaTitleTrans").val(result["trans"]);}
pubEditMetaCheckSubmit(thisM.closest("form"));}
function pubEditMetaCheckLinks(thisM){var result=pubEditMetaMakeCheckRequest(thisM.attr("name"),thisM.val());if(result=="noAnswer")
return;if($.trim(thisM.val())=="")
thisM.closest(".fcont").find("span").removeClass("ico").removeClass("error").removeClass("success").attr("data-title","");else
thisM.closest(".fcont").find("span").removeClass("ico").removeClass("error").removeClass("success").addClass("ico").addClass(result["state"]).attr("data-title",result["msg"]);pubEditMetaCheckSubmit(thisM.closest("form"));}
function pubEditMetaCheckDesCount(thisM){var limit=thisM.next(".pubEditMetaDesCountLim").val();var result=new Array();var value=$.trim(thisM.val());result["state"]="success";result["msg"]="Ð£ÑÐ»Ð¾Ð²Ð¸Ñ Ð²ÑÐ¿Ð¾Ð»Ð½ÐµÐ½Ñ!";if(thisM.hasClass("required")&&value==""){result["state"]="error";result["msg"]="ÐÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ Ð±ÑÑÑ Ð¿ÑÑÑÑÐ¼!";thisM.closest(".fcont").next(".pubEditMetaDesCountDiv").find("b").html(limit);}
else if(value.length>limit){result["state"]="error";result["msg"]="ÐÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ Ð½Ðµ Ð¼Ð¾Ð¶ÐµÑ Ð±ÑÑÑ Ð´Ð»Ð¸Ð½Ð½ÐµÐµ "+limit+" ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð²!";thisM.closest(".fcont").next(".pubEditMetaDesCountDiv").find("b").html("0");}
else
thisM.closest(".fcont").next(".pubEditMetaDesCountDiv").find("b").html(limit-value.length);thisM.closest(".fcont").find("span").removeClass("ico").removeClass("error").removeClass("success").addClass("ico").addClass(result["state"]).attr("data-title",result["msg"]);pubEditMetaCheckSubmit(thisM.closest("form"));}
function pubEditMetaMakeCheckRequest(name,value){var getStart="";var result="noAnswer";if(location.search=="")
getStart="?";else
getStart="&";if($(".pubEditMetaHierarchy").length)
parentId=$(".pubEditMetaHierarchy").val();$.ajax({url:'https://'+location.hostname+location.pathname+location.search+getStart+'pubCheck='+name+'&val='+value,type:"POST",data:{val:value,pubCheck:name,pid:parentId},cache:false,async:false,success:function(response){result=$.parseJSON(response);}});return result;}
function pubEditMetaDeleteTagInit(context){$(".tagItem.noINIT span i",context).click(function(e){var thisM=$(this);var tagId=thisM.attr("data-tagid");$.ajax({url:'https://'+location.hostname+'/api/tags/'+$("#currentArticleId").val()+'/'+$(".pubEditMetaTag").attr("data-tagtype")+'/delete',type:"POST",data:{tag_id:tagId},success:function(response){thisM.closest("li").remove();}});});$(".tagItem",context).removeClass("noINIT");}
function pubEditMetaDeleteTeamInit(context){$(".authorItem.item.noINIT a i",context).click(function(e){var thisM=$(this);var explH=explodeHashedHref(thisM.closest("a").attr("href"));var nick=thisM.closest("a").attr("title");e.preventDefault();e.stopPropagation();$.ajax({url:'https://'+location.hostname+'/api/teams/'+$(".pubEditMetaAuthor").attr("data-authoritem")+'/'+$(".pubEditMetaAuthor").attr("data-teamtype")+'/delete',type:"POST",data:{member_id:explH[0],member_nick:nick},success:function(response){thisM.closest("li").remove();}});});$(".authorItem",context).removeClass("noINIT");};$(function(){var itemDBID=$(".dbListTable .dbItem .dbCell.itemDBID");if(!itemDBID.length)
return false;itemDBID.click(function(e){var thisM=$(this);var offset=thisM.offset();var itemId=thisM.attr("data-id");var itemType=thisM.attr("data-type");var itemHref=thisM.closest(".dbItem").find(".dbCell.itemIcon").attr("href");var itemImg=thisM.closest(".dbItem").find(".dbCell.itemIcon img").attr("src");var itemTitle=thisM.closest(".dbItem").find(".dbCell.itemTitle strong").html();var popupWindow=$("#frE1_FunDBCodePanel");popupWindow.find(".itemDBIDInsert .itemPreview img").attr("src",itemImg);popupWindow.find(".itemDBIDInsert .itemTitle .title").html(itemTitle);$("#funDB_InsertLink").val(itemHref);$("#funDB_InsertHtml").val('<a class="frFunApi" href="'+itemHref+'" data-type="'+itemType+'" data-id="'+itemId+'">'+itemTitle+'</a>');$("#funDB_InsertBBCode").val("[db:"+itemType+"="+itemId+"]"+itemTitle+"[/db]");popupWindow.css("left",(parseInt(offset.left)-440)).css("top",parseInt(offset.top)).show();});});;var frPUBvarFocusedTextarea;var frSelectionRangeObject;var frSelectionRangeStart;var frSelectionRangeEnd;var frSelectionText;var evaPubContentTextsHistory=[];function pubEditBBCodeInitialize(context){if($("#evaPubContentFloatingBBcodes",context).length){pubEditBBCodeBTNSFuncs($("#evaPubContentFloatingBBcodes"));}
if($("#evaPubContentSectionTextsForm",context).length){pubEditSectionsFormSend($("#evaPubContentSectionTextsForm"));pubEditSectionsControlFuncs($(".pubSecAdded.noINIT"));$(".pubSecAdded").removeClass("noINIT");}}
function pubEditBBCodeBTNSFuncs(context){$(".frE1EBBC a",context).click(function(e){e.preventDefault();var thisM=$(this);var spanM=$(this).find("span");var offset=thisM.offset();SelectionTextInit();if(spanM.hasClass("bbc_bold"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[b]","[/b]");else if(spanM.hasClass("bbc_italic"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[i]","[/i]");else if(spanM.hasClass("bbc_underline"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[u]","[/u]");else if(spanM.hasClass("bbc_strike"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[s]","[/s]");else if(spanM.hasClass("bbc_sub"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[sub]","[/sub]");else if(spanM.hasClass("bbc_sup"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[sup]","[/sup]");else if(spanM.hasClass("bbc_small"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[small]","[/small]");else if(spanM.hasClass("bbc_big"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[large]","[/large]");else if(spanM.hasClass("bbc_br"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[br]","");else if(spanM.hasClass("bbc_p"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[p]","[/p]");else if(spanM.hasClass("bbc_hr"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[hr]","");else if(spanM.hasClass("bbc_left"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[left]","[/left]");else if(spanM.hasClass("bbc_center"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[center]","[/center]");else if(spanM.hasClass("bbc_right"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[right]","[/right]");else if(spanM.hasClass("bbc_float_left")){wrapTextByBBCode(frPUBvarFocusedTextarea,"[float:left]","[/float]");}
else if(spanM.hasClass("bbc_float_right")){wrapTextByBBCode(frPUBvarFocusedTextarea,"[float:right]","[/float]");}
else if(spanM.hasClass("bbc_margin_top")){frSelectionText=10;wrapTextByBBCode(frPUBvarFocusedTextarea,"[indent]","[/indent]");}
else if(spanM.hasClass("bbc_h1"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[h1]","[/h1]");else if(spanM.hasClass("bbc_h2"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[h2]","[/h2]");else if(spanM.hasClass("bbc_h3"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[h3]","[/h3]");else if(spanM.hasClass("bbc_h4"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[h4]","[/h4]");else if(spanM.hasClass("bbc_quote"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[quote]","[/quote]");else if(spanM.hasClass("bbc_code"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[code]","[/code]");else if(spanM.hasClass("bbc_warning"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[warning]","[/warning]");else if(spanM.hasClass("bbc_type1"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[white]","[/white]");else if(spanM.hasClass("bbc_spoiler"))
$("#"+thisM.attr("id")+"Block").css("top",offset.top+34).css("left",offset.left-290).show();else if(spanM.hasClass("bbc_info"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[info]","[/info]");else if(spanM.hasClass("bbc_error"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[error]","[/error]");else if(spanM.hasClass("bbc_type2"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[dark]","[/dark]");else if(spanM.hasClass("bbc_url"))
$("#"+thisM.attr("id")+"Block").css("top",offset.top+34).css("left",offset.left-251).show();else if(spanM.hasClass("bbc_abbr"))
$("#"+thisM.attr("id")+"Block").css("top",offset.top+34).css("left",offset.left-251).show();else if(spanM.hasClass("bbc_img")){$("#"+thisM.attr("id")+"Block").css("top",offset.top+34).css("left",offset.left-261).show();evaPubImgUploaderInit();}
else if(spanM.hasClass("bbc_gallery"))
$("#"+thisM.attr("id")+"Block").css("top",offset.top+34).css("left",offset.left-261).show();else if(spanM.hasClass("bbc_media"))
$("#"+thisM.attr("id")+"Block").css("top",offset.top+34).css("left",offset.left-264).show();else if(spanM.hasClass("bbc_ul"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[ul]","[/ul]");else if(spanM.hasClass("bbc_ol"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[ol]","[/ol]");else if(spanM.hasClass("bbc_el"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[el]","[/el]");else if(spanM.hasClass("bbc_li"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[li]","[/li]");else if(spanM.hasClass("bbc_user")){$("#"+thisM.attr("id")+"Block").css("top",offset.top+34).css("left",offset.left-110).show();}
else if(spanM.hasClass("bbc_table"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[table]","[/table]");else if(spanM.hasClass("bbc_thead"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[tbody]","[/tbody]");else if(spanM.hasClass("bbc_tfoot"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[tfoot]","[/tfoot]");else if(spanM.hasClass("bbc_tr"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[tr]","[/tr]");else if(spanM.hasClass("bbc_td"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[td]","[/td]");else if(spanM.hasClass("bbc_th"))
wrapTextByBBCode(frPUBvarFocusedTextarea,"[th]","[/th]");else if(spanM.hasClass("bbc_menu_sys"))
$("#"+thisM.attr("id")+"Block").css("top",offset.top+34).css("left",offset.left-164).show();else if(spanM.hasClass("bbc_menu"))
$("#"+thisM.attr("id")+"Block").css("top",offset.top+34).css("left",offset.left-388).show();else if(spanM.hasClass("bbc_menu_cat"))
$("#"+thisM.attr("id")+"Block").css("top",offset.top+34).css("left",offset.left-354).show();else if(spanM.hasClass("bbc_menu_item"))
$("#"+thisM.attr("id")+"Block").css("top",offset.top+34).css("left",offset.left-388).show();else if(spanM.hasClass("bbc_hmenu"))
$("#"+thisM.attr("id")+"Block").css("top",offset.top+34).css("left",offset.left-432).show();else if(spanM.hasClass("bbc_hmenu_item"))
$("#"+thisM.attr("id")+"Block").css("top",offset.top+34).css("left",offset.left-424).show();});$("#evaPubContentBBCodeSMenuBlock div.item.parent").click(function(e){e.preventDefault();$(this).closest("#evaPubContentBBCodeSMenuBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[smenu=self]"+$("#currentArticleId").val()+"[/smenu]","");});$("#evaPubContentBBCodeSMenuBlock div.item.self").click(function(e){e.preventDefault();$(this).closest("#evaPubContentBBCodeSMenuBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[smenu=parent]"+$("#currentArticleId").val()+"[/smenu]","");});$("#evaPubContentBBCodeMenuBlock a.evaInt_button.dark").click(function(e){e.preventDefault();var Title=$("#evaPubContentBBCodeMenuBlock input").val();$("#evaPubContentBBCodeMenuBlock input").val("");$(this).closest("#evaPubContentBBCodeMenuBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[menu="+Title+"]","[/menu]");});$("#evaPubContentBBCodeMCatBlock a.evaInt_button.dark").click(function(e){e.preventDefault();var Title=$("#evaPubContentBBCodeMCatBlock input").val();$("#evaPubContentBBCodeMCatBlock input").val("");$(this).closest("#evaPubContentBBCodeMCatBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[cat="+Title+"]","[/cat]");});$("#evaPubContentBBCodeMLinkBlock a.evaInt_button.dark").click(function(e){e.preventDefault();var title=$("#evaPubContentBBCodeMLinkBlock .popMenuItem input").val();var Href=$("#evaPubContentBBCodeMLinkBlock .popLink input").val();$("#evaPubContentBBCodeMLinkBlock .popMenuItem input").val("");$("#evaPubContentBBCodeMLinkBlock .popLink input").val("");frSelectionText=title;$(this).closest("#evaPubContentBBCodeMLinkBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[item="+Href+"]","[/item]");});$("#evaPubContentBBCodeAbbrBlock a.evaInt_button.dark").click(function(e){e.preventDefault();var title=$("#evaPubContentBBCodeAbbrBlock .popAbbr input").val();var text=$("#evaPubContentBBCodeAbbrBlock .popTitle input").val();$("#evaPubContentBBCodeAbbrBlock .popAbbr input").val("");$("#evaPubContentBBCodeAbbrBlock .popTitle input").val("");frSelectionText=text;$(this).closest("#evaPubContentBBCodeAbbrBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[abbr="+title+"]","[/abbr]");});$("#evaPubContentBBCodeSpoilerBlock a.evaInt_button.dark").click(function(e){e.preventDefault();var title=$("#evaPubContentBBCodeSpoilerBlock .popSpoiler input").val();var text=$("#evaPubContentBBCodeSpoilerBlock textarea").val();$("#evaPubContentBBCodeSpoilerBlock .popSpoiler input").val("");$("#evaPubContentBBCodeSpoilerBlock textarea").val("");frSelectionText=text;$(this).closest("#evaPubContentBBCodeSpoilerBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[spoiler="+title+"]","[/spoiler]");});$("#evaPubContentBBCodeUrlBlock a.evaInt_button.dark").click(function(e){e.preventDefault();var title=$("#evaPubContentBBCodeUrlBlock .popTitle input").val();var url=$("#evaPubContentBBCodeUrlBlock .popLink input").val();frSelectionText=title;$("#evaPubContentBBCodeUrlBlock .popLink input").val("");$("#evaPubContentBBCodeUrlBlock .popTitle input").val("");$(this).closest("#evaPubContentBBCodeUrlBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[url="+url+"]","[/url]");});$("#evaPubContentBBCodeGalleryBlock .item.small.ico_bef").click(function(e){e.preventDefault();$(this).closest("#evaPubContentBBCodeGalleryBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[gallery=4]","[/gallery]");});$("#evaPubContentBBCodeGalleryBlock .item.medium.ico_bef").click(function(e){e.preventDefault();$(this).closest("#evaPubContentBBCodeGalleryBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[gallery=3]","[/gallery]");});$("#evaPubContentBBCodeGalleryBlock .item.big.ico_bef").click(function(e){e.preventDefault();$(this).closest("#evaPubContentBBCodeGalleryBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[gallery]","[/gallery]");});$("#evaPubContentBBCodeImgBlock a.evaInt_button.dark").click(function(e){e.preventDefault();var title=$("#evaPubContentBBCodeImgBlock .popTitle input").val();var Href=$("#evaPubContentBBCodeImgBlock .popLink input").val();frSelectionText=title;$(this).closest("#evaPubContentBBCodeImgBlock").hide();if($("#evaPubContentBBCodeImgBlock .popTitle input").val()!="")
wrapTextByBBCode(frPUBvarFocusedTextarea,"[img="+Href+"]","[/img]");else{frSelectionText=Href;wrapTextByBBCode(frPUBvarFocusedTextarea,"[img]","[/img]");}
$("#evaPubContentBBCodeImgBlock .popTitle input").val("");$("#evaPubContentBBCodeImgBlock .popLink input").val("");});$("#evaPubContentBBCodeUserBlock input").bind('textchange',function(e){var thisM=$(this);var value=$(this).val();var autoC=thisM.closest(".fcont").find(".frE1Autocomplete");$.ajax({url:'https://'+location.hostname+'/api/users/select',type:"POST",data:{nick:value},cache:false,async:false,success:function(response){if(response=="false")
autoC.removeClass("show").html("");else{autoC.addClass("show").html(response);$("li",autoC).click(function(e){frSelectionText=$(this).find("span").attr("data-memberid");wrapTextByBBCode(frPUBvarFocusedTextarea,"[user]","[/user]");thisM.val("");autoC.removeClass("show").html("");$("#evaPubContentBBCodeUserBlock").hide();});}}});});$("#evaPubContentBBCodeMenuHorBlock .item.small.ico_bef").click(function(e){e.preventDefault();$(this).closest("#evaPubContentBBCodeMenuHorBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[hmenu=small]","[/[hmenu]");});$("#evaPubContentBBCodeMenuHorBlock .item.medium.ico_bef").click(function(e){e.preventDefault();$(this).closest("#evaPubContentBBCodeMenuHorBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[hmenu=medium]","[/[hmenu]");});$("#evaPubContentBBCodeMenuHorBlock .item.large.ico_bef").click(function(e){e.preventDefault();$(this).closest("#evaPubContentBBCodeMenuHorBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,"[hmenu=large]","[/[hmenu]");});$("#evaPubContentBBCodeMenuHorItemBlock a.evaInt_button.dark").click(function(e){e.preventDefault();var title=$("#evaPubContentBBCodeMenuHorItemBlock .popMenuItem input").val();var descr=$("#evaPubContentBBCodeMenuHorItemBlock .popTitle input").val();var Href=$("#evaPubContentBBCodeMenuHorItemBlock .popLink input").val();var img=$("#evaPubContentBBCodeMenuHorItemBlock .popImage input").val();frSelectionText=title;wrapTextByBBCode(frPUBvarFocusedTextarea,"[hitem url='"+Href+"' img='"+img+"' descr='"+descr+"']","[/hitem]");$("#evaPubContentBBCodeMenuHorItemBlock .popTitle input").val("");$("#evaPubContentBBCodeMenuHorItemBlock .popLink input").val("");$("#evaPubContentBBCodeMenuHorItemBlock .popMenuItem input").val("");$("#evaPubContentBBCodeMenuHorItemBlock .popImage input").val("");$("#evaPubContentBBCodeMenuHorItemBlock").hide();});$("#evaPubContentBBCodeAddMediaBlock a.evaInt_button.dark").click(function(e){e.preventDefault();frSelectionText=$("#evaPubContentBBCodeAddMediaBlock .popMedia input").val();wrapTextByBBCode(frPUBvarFocusedTextarea,"[video]","[/video]");$("#evaPubContentBBCodeAddMediaBlock .popMedia input").val("");$("#evaPubContentBBCodeAddMediaBlock").hide();});$("#evaPubContentSectionPopUps .frE1Popup a.evaInt_button.light").click(function(e){e.preventDefault();$(this).closest(".frE1Popup").hide();});}
function pubEditSectionsFormSend(context){context.ajaxForm({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/save/savesecs/',type:"POST",cache:false,async:false,success:function(response){var jsonDecoded=$.parseJSON(response);var thisM=$("#evaPubContentSectionTextsFormSubmit");var oVal=thisM.val();var arr=[];arr["error"]="red";arr["success"]="green";thisM.addClass("active").addClass(arr[jsonDecoded["state"]]).val(jsonDecoded["msg"]);setTimeout(function(){thisM.removeClass("red").removeClass("green").removeClass("active").val(oVal);},5000);}});}
function pubEditSectionsControlFuncs(context){$(".frE1CMFooter .evaInt_button.preview").click(function(e){e.preventDefault();var thisM=$(this);$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/preview/full',success:function(response){$("#frE1InterfaceOverlay").show();$("#frE1PublicatrPreview").show();$("#frE1PublicatrPreview .previewCont").html(response);evaBBCodesInitialization($("#frE1PublicatrPreview .previewCont"));scroller=$('#frE1PublicatrPreview .antiscroll-wrap').antiscroll().data('antiscroll');$(window).resize(function(){scroller.rebuild();});}});});$("textarea",context).bind('keydown.ctrl_b',function(event){hotKeyPrevent(event);SelectionTextInit();wrapTextByBBCode(frPUBvarFocusedTextarea,"[b]","[/b]");});$("textarea",context).bind('keydown.ctrl_i',function(event){hotKeyPrevent(event);SelectionTextInit();wrapTextByBBCode(frPUBvarFocusedTextarea,"[i]","[/i]");});$("textarea",context).bind('keydown.ctrl_u',function(event){hotKeyPrevent(event);SelectionTextInit();wrapTextByBBCode(frPUBvarFocusedTextarea,"[u]","[/u]");});$("textarea",context).bind('keydown.ctrl_s',function(event){hotKeyPrevent(event);SelectionTextInit();wrapTextByBBCode(frPUBvarFocusedTextarea,"[s]","[/s]");});$("textarea",context).bind('keydown.ctrl_return',function(event){hotKeyPrevent(event);SelectionTextInit();wrapTextByBBCode(frPUBvarFocusedTextarea,"[br]","");});$("textarea",context).bind('keydown.shift_return',function(event){hotKeyPrevent(event);SelectionTextInit();wrapTextByBBCode(frPUBvarFocusedTextarea,"[p]","[/p]");});$("textarea",context).bind('keydown.ctrl_up',function(event){hotKeyPrevent(event);SelectionTextInit();wrapTextByBBCode(frPUBvarFocusedTextarea,"[sup]","[/sup]");});$("textarea",context).bind('keydown.ctrl_down',function(event){hotKeyPrevent(event);SelectionTextInit();wrapTextByBBCode(frPUBvarFocusedTextarea,"[sub]","[/sub]");});$("textarea",context).bind('keydown.ctrl_l',function(event){hotKeyPrevent(event);SelectionTextInit();wrapTextByBBCode(frPUBvarFocusedTextarea,"\n[hr]\n","");});$(".pubSecCont",context).sortable({handle:".setTMove",items:"> .secCol",axis:"x",placeholder:"evaPubHandleBackground",start:function(event,ui){ui.item.width(ui.item.width()+20);ui.placeholder.html('<div style="width:'+(ui.item.width())+'px; height:'+(ui.item.height())+'px;"></div>');$("#evaPubContentFloatingBBcodes").hide();},update:function(event,ui){evaPubHorizontalChainsInit($(this));$(this).find("i").remove();$(this).find(".setBridge.ic_aft").removeClass("active");$(this).find(".secCol").attr("data-chain","");$(this).find(".secCol").closest(".pubSecAdded").find(".item.flt_right.saveButton").removeClass("show").addClass("show");}});$(".pubSecCont",context).disableSelection();$(".setTMove",context).click(function(e){e.preventDefault();});$(".secCol .setBridge.ic_aft",context).click(function(e){var thisM=$(this);var genUn=getRandomInt(0,9)+""+getRandomInt(0,9)+""+getRandomInt(0,9)+""+getRandomInt(0,9)+""+getRandomInt(0,9);var selAdd=thisM.closest(".pubSecAdded");var bridge=["","","",""];var idx=0;e.preventDefault();if(thisM.hasClass("disabled"))
return;if(thisM.hasClass("left")&&thisM.closest(".secCol").prev(".secCol").length){if(thisM.hasClass("active")){thisM.removeClass("active");thisM.closest(".secCol").prev(".secCol").find(".setBridge.ic_aft.right").removeClass("active");thisM.closest(".secCol").find("i.bridge.left").remove();thisM.closest(".secCol").prev(".secCol").find("i.bridge.right").remove();var curCh=thisM.closest(".secCol").attr("data-chain");var prev=thisM.closest(".secCol").prev(".secCol");var next=thisM.closest(".secCol").next(".secCol");if(thisM.closest(".secCol").prevAll(".secCol").length==1)
prev.attr("data-chain","");else if(thisM.closest(".secCol").prevAll(".secCol").length>1){thisM.closest(".secCol").prevAll(".secCol").each(function(){if($(this).attr("data-chain")==curCh)
$(this).attr("data-chain",genUn);});}
if(next.attr("data-chain")!=curCh)
thisM.closest(".secCol").attr("data-chain","");}
else{thisM.addClass("active");thisM.closest(".secCol").prev(".secCol").find(".setBridge.ic_aft.right").addClass("active");thisM.closest(".secCol").find("ul").after('<i class="bridge left" title="Ð­ÑÐ¸ Ð¾Ð±Ð»Ð°ÑÑÐ¸ ÑÐ²ÑÐ·Ð°Ð½Ñ Ð¿Ð¾ ÑÐ²ÐµÑÑ"></i>');thisM.closest(".secCol").prev(".secCol").find("ul").after('<i class="bridge right" title="Ð­ÑÐ¸ Ð¾Ð±Ð»Ð°ÑÑÐ¸ ÑÐ²ÑÐ·Ð°Ð½Ñ Ð¿Ð¾ ÑÐ²ÐµÑÑ"></i>');if(!thisM.closest(".secCol").attr("data-chain")&&!thisM.closest(".secCol").prev(".secCol").attr("data-chain")){thisM.closest(".secCol").attr("data-chain",genUn);thisM.closest(".secCol").prev(".secCol").attr("data-chain",genUn);}
else if(!thisM.closest(".secCol").attr("data-chain")&&thisM.closest(".secCol").prev(".secCol").attr("data-chain")){thisM.closest(".secCol").attr("data-chain",thisM.closest(".secCol").prev(".secCol").attr("data-chain"));}
else if(thisM.closest(".secCol").attr("data-chain")&&!thisM.closest(".secCol").prev(".secCol").attr("data-chain")){thisM.closest(".secCol").prev(".secCol").attr("data-chain",thisM.closest(".secCol").attr("data-chain"));}
else{var curCh=thisM.closest(".secCol").attr("data-chain");var next1=thisM.closest(".secCol").next(".secCol");var next2=next1.next(".secCol");var next3=next2.next(".secCol");thisM.closest(".secCol").attr("data-chain",thisM.closest(".secCol").prev(".secCol").attr("data-chain"));if(next1.attr("data-chain")==curCh)
next1.attr("data-chain",thisM.closest(".secCol").prev(".secCol").attr("data-chain"));if(next2.attr("data-chain")==curCh)
next2.attr("data-chain",thisM.closest(".secCol").prev(".secCol").attr("data-chain"));if(next2.attr("data-chain")==curCh)
next2.attr("data-chain",thisM.closest(".secCol").prev(".secCol").attr("data-chain"));}}}
else if(thisM.hasClass("right")&&thisM.closest(".secCol").next(".secCol").length){if(thisM.hasClass("active")){thisM.removeClass("active");thisM.closest(".secCol").next(".secCol").find(".setBridge.ic_aft.left").removeClass("active");thisM.closest(".secCol").find("i.bridge.right").remove();thisM.closest(".secCol").next(".secCol").find("i.bridge.left").remove();var curCh=thisM.closest(".secCol").attr("data-chain");var prev=thisM.closest(".secCol").prev(".secCol");var next=thisM.closest(".secCol").next(".secCol");if(thisM.closest(".secCol").nextAll(".secCol").length==1)
next.attr("data-chain","");else if(thisM.closest(".secCol").nextAll(".secCol").length>1){thisM.closest(".secCol").nextAll(".secCol").each(function(){if($(this).attr("data-chain")==curCh)
$(this).attr("data-chain",genUn);});}
if(prev.attr("data-chain")!=curCh)
thisM.closest(".secCol").attr("data-chain","");}
else{thisM.addClass("active");thisM.closest(".secCol").next(".secCol").find(".setBridge.ic_aft.left").addClass("active");thisM.closest(".secCol").find("ul").after('<i class="bridge right" title="Ð­ÑÐ¸ Ð¾Ð±Ð»Ð°ÑÑÐ¸ ÑÐ²ÑÐ·Ð°Ð½Ñ Ð¿Ð¾ ÑÐ²ÐµÑÑ"></i>');thisM.closest(".secCol").next(".secCol").find("ul").after('<i class="bridge left" title="Ð­ÑÐ¸ Ð¾Ð±Ð»Ð°ÑÑÐ¸ ÑÐ²ÑÐ·Ð°Ð½Ñ Ð¿Ð¾ ÑÐ²ÐµÑÑ"></i>');if(!thisM.closest(".secCol").attr("data-chain")&&!thisM.closest(".secCol").next(".secCol").attr("data-chain")){thisM.closest(".secCol").attr("data-chain",genUn);thisM.closest(".secCol").next(".secCol").attr("data-chain",genUn);}
else if(!thisM.closest(".secCol").attr("data-chain")&&thisM.closest(".secCol").next(".secCol").attr("data-chain")){thisM.closest(".secCol").attr("data-chain",thisM.closest(".secCol").next(".secCol").attr("data-chain"));}
else if(thisM.closest(".secCol").attr("data-chain")&&!thisM.closest(".secCol").next(".secCol").attr("data-chain")){thisM.closest(".secCol").next(".secCol").attr("data-chain",thisM.closest(".secCol").attr("data-chain"));}
else{var curCh=thisM.closest(".secCol").attr("data-chain");var prev1=thisM.closest(".secCol").prev(".secCol");var prev2=prev1.prev(".secCol");var prev3=prev2.prev(".secCol");thisM.closest(".secCol").attr("data-chain",thisM.closest(".secCol").next(".secCol").attr("data-chain"));if(prev1.attr("data-chain")==curCh)
prev1.attr("data-chain",thisM.closest(".secCol").next(".secCol").attr("data-chain"));if(prev2.attr("data-chain")==curCh)
prev2.attr("data-chain",thisM.closest(".secCol").next(".secCol").attr("data-chain"));if(prev3.attr("data-chain")==curCh)
prev3.attr("data-chain",thisM.closest(".secCol").next(".secCol").attr("data-chain"));}}}
selAdd.find(".secCol").each(function(){var bLeft=$(this).find(".setBridge.ic_aft.left");var bRight=$(this).find(".setBridge.ic_aft.right");if(!bLeft.hasClass("active")&&bRight.hasClass("active")){bridge[idx]="s";}
else if(bLeft.hasClass("active")&&!bRight.hasClass("active")){bridge[idx]="e";}
idx++;});$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/action_sec/hgroup/'+selAdd.attr("data-pubname"),type:"POST",data:{hgroup:bridge.join("|")},cache:false,async:false});});$(".secCol .ico_bef.pbl",context).click(function(e){e.preventDefault();var thisM=$(this);var btnColor="";var selCol=thisM.closest(".secCol");var selAdd=thisM.closest(".pubSecAdded");var idx=0;if(thisM.hasClass("setColorLight"))
btnColor="setColorLight";else if(thisM.hasClass("setColorDark"))
btnColor="setColorDark";if(selCol.attr("data-chain")){if(thisM.hasClass("active")){selCol.closest(".pubSecCont").find('.secCol[data-chain="'+selCol.attr("data-chain")+'"]  .ico_bef.pbl').removeClass("active");}
else{selCol.closest(".pubSecCont").find('.secCol[data-chain="'+selCol.attr("data-chain")+'"]  .ico_bef.pbl').removeClass("active");selCol.closest(".pubSecCont").find('.secCol[data-chain="'+selCol.attr("data-chain")+'"]  .ico_bef.pbl.'+btnColor).addClass("active");}}
else{if(thisM.hasClass("active")){selCol.find('.ico_bef.pbl').removeClass("active");}
else{selCol.find('.ico_bef.pbl').removeClass("active");selCol.find('.ico_bef.pbl.'+btnColor).addClass("active");}}
var colors=["","","",""];selAdd.find(".secCol").each(function(){if($(this).find(".setColorDark").hasClass("active"))
colors[idx]="d";else if($(this).find(".setColorLight").hasClass("active"))
colors[idx]="w";else
colors[idx]="";idx++;});$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/action_sec/hcolor/'+selAdd.attr("data-pubname"),type:"POST",data:{hcolor:colors.join("|")},cache:false,async:false});});$(".pubSecSettings .setBridge.ic_aft",context).click(function(e){var thisM=$(this);var genUn=getRandomInt(0,9)+""+getRandomInt(0,9)+""+getRandomInt(0,9)+""+getRandomInt(0,9)+""+getRandomInt(0,9);var idx=0;var bridgeS=[];var bridgeE=[];e.preventDefault();if(thisM.hasClass("disabled"))
return;if(thisM.hasClass("top")&&thisM.closest(".pubSecAdded").prev(".pubSecAdded").length){if(thisM.hasClass("active")){thisM.removeClass("active");thisM.closest(".pubSecAdded").prev(".pubSecAdded").find(".setBridge.ic_aft.bottom").removeClass("active");thisM.closest(".pubSecSettings").nextAll("i.bridge.top").remove();thisM.closest(".pubSecAdded").prev(".pubSecAdded").find(".pubSecSettings").nextAll("i.bridge.bottom").remove();var curCh=thisM.closest(".pubSecAdded").attr("data-chain");var prev=thisM.closest(".pubSecAdded").prev(".pubSecAdded");var next=thisM.closest(".pubSecAdded").next(".pubSecAdded");if(thisM.closest(".pubSecAdded").prevAll(".pubSecAdded").length==1)
prev.attr("data-chain","");else if(thisM.closest(".pubSecAdded").prevAll(".pubSecAdded").length>1){thisM.closest(".pubSecAdded").prevAll(".pubSecAdded").each(function(){if($(this).attr("data-chain")==curCh)
$(this).attr("data-chain",genUn);});}
if(next.attr("data-chain")!=curCh)
thisM.closest(".pubSecAdded").attr("data-chain","");}
else{thisM.addClass("active");thisM.closest(".pubSecAdded").prev(".pubSecAdded").find(".setBridge.ic_aft.bottom").addClass("active");thisM.closest(".pubSecSettings").after('<i class="bridge top" title="Ð­ÑÐ¸ ÑÐµÐºÑÐ¸Ð¸ ÑÐ²ÑÐ·Ð°Ð½Ñ Ð¿Ð¾ ÑÐ²ÐµÑÑ"></i>');thisM.closest(".pubSecAdded").prev(".pubSecAdded").find(".pubSecSettings").after('<i class="bridge bottom" title="Ð­ÑÐ¸ ÑÐµÐºÑÐ¸Ð¸ ÑÐ²ÑÐ·Ð°Ð½Ñ Ð¿Ð¾ ÑÐ²ÐµÑÑ"></i>');if(!thisM.closest(".pubSecAdded").attr("data-chain")&&!thisM.closest(".pubSecAdded").prev(".pubSecAdded").attr("data-chain")){thisM.closest(".pubSecAdded").attr("data-chain",genUn);thisM.closest(".pubSecAdded").prev(".pubSecAdded").attr("data-chain",genUn);}
else if(!thisM.closest(".pubSecAdded").attr("data-chain")&&thisM.closest(".pubSecAdded").prev(".pubSecAdded").attr("data-chain")){thisM.closest(".pubSecAdded").attr("data-chain",thisM.closest(".pubSecAdded").prev(".pubSecAdded").attr("data-chain"));}
else if(thisM.closest(".pubSecAdded").attr("data-chain")&&!thisM.closest(".pubSecAdded").prev(".pubSecAdded").attr("data-chain")){thisM.closest(".pubSecAdded").prev(".pubSecAdded").attr("data-chain",thisM.closest(".pubSecAdded").attr("data-chain"));}
else{var curCh=thisM.closest(".pubSecAdded").attr("data-chain");var next1=thisM.closest(".pubSecAdded").next(".pubSecAdded");var next2=next1.next(".pubSecAdded");var next3=next2.next(".pubSecAdded");thisM.closest(".pubSecAdded").attr("data-chain",thisM.closest(".pubSecAdded").prev(".pubSecAdded").attr("data-chain"));thisM.closest(".pubSecAdded").nextAll(".pubSecAdded").each(function(){if($(this).attr("data-chain")==curCh)
$(this).attr("data-chain",thisM.closest(".pubSecAdded").prev(".pubSecAdded").attr("data-chain"));});}}}
else if(thisM.hasClass("bottom")&&thisM.closest(".pubSecAdded").next(".pubSecAdded").length){if(thisM.hasClass("active")){thisM.removeClass("active");thisM.closest(".pubSecAdded").next(".pubSecAdded").find(".setBridge.ic_aft.top").removeClass("active");thisM.closest(".pubSecSettings").nextAll("i.bridge.bottom").remove();thisM.closest(".pubSecAdded").next(".pubSecAdded").find(".pubSecSettings").nextAll("i.bridge.top").remove();var curCh=thisM.closest(".pubSecAdded").attr("data-chain");var prev=thisM.closest(".pubSecAdded").prev(".pubSecAdded");var next=thisM.closest(".pubSecAdded").next(".pubSecAdded");if(thisM.closest(".pubSecAdded").nextAll(".pubSecAdded").length==1)
next.attr("data-chain","");else if(thisM.closest(".pubSecAdded").nextAll(".pubSecAdded").length>1){thisM.closest(".pubSecAdded").nextAll(".pubSecAdded").each(function(){if($(this).attr("data-chain")==curCh)
$(this).attr("data-chain",genUn);});}
if(prev.attr("data-chain")!=curCh)
thisM.closest(".pubSecAdded").attr("data-chain","");}
else{thisM.addClass("active");thisM.closest(".pubSecAdded").next(".pubSecAdded").find(".setBridge.ic_aft.top").addClass("active");thisM.closest(".pubSecSettings").after('<i class="bridge bottom" title="Ð­ÑÐ¸ ÑÐµÐºÑÐ¸Ð¸ ÑÐ²ÑÐ·Ð°Ð½Ñ Ð¿Ð¾ ÑÐ²ÐµÑÑ"></i>');thisM.closest(".pubSecAdded").next(".pubSecAdded").find(".pubSecSettings").after('<i class="bridge top" title="Ð­ÑÐ¸ ÑÐµÐºÑÐ¸Ð¸ ÑÐ²ÑÐ·Ð°Ð½Ñ Ð¿Ð¾ ÑÐ²ÐµÑÑ"></i>');if(!thisM.closest(".pubSecAdded").attr("data-chain")&&!thisM.closest(".pubSecAdded").next(".pubSecAdded").attr("data-chain")){thisM.closest(".pubSecAdded").attr("data-chain",genUn);thisM.closest(".pubSecAdded").next(".pubSecAdded").attr("data-chain",genUn);}
else if(!thisM.closest(".pubSecAdded").attr("data-chain")&&thisM.closest(".pubSecAdded").next(".pubSecAdded").attr("data-chain")){thisM.closest(".pubSecAdded").attr("data-chain",thisM.closest(".pubSecAdded").next(".pubSecAdded").attr("data-chain"));}
else if(thisM.closest(".pubSecAdded").attr("data-chain")&&!thisM.closest(".pubSecAdded").next(".pubSecAdded").attr("data-chain")){thisM.closest(".pubSecAdded").next(".pubSecAdded").attr("data-chain",thisM.closest(".pubSecAdded").attr("data-chain"));}
else{var curCh=thisM.closest(".pubSecAdded").attr("data-chain");var prev1=thisM.closest(".pubSecAdded").prev(".pubSecAdded");var prev2=prev1.prev(".pubSecAdded");var prev3=prev2.prev(".pubSecAdded");thisM.closest(".pubSecAdded").attr("data-chain",thisM.closest(".pubSecAdded").next(".pubSecAdded").attr("data-chain"));thisM.closest(".pubSecAdded").prevAll(".pubSecAdded").each(function(){if($(this).attr("data-chain")==curCh)
$(this).attr("data-chain",thisM.closest(".pubSecAdded").next(".pubSecAdded").attr("data-chain"));});}}}
$(this).closest(".CM_body.publisherZone").find(".pubSecAdded").each(function(){var bTop=$(this).find(".pubSecSettings .setBridge.ic_aft.top");var bBot=$(this).find(".pubSecSettings .setBridge.ic_aft.bottom");if(!bTop.hasClass("active")&&bBot.hasClass("active")){bridgeS.push($(this).attr("data-pubname"));}
else if(bTop.hasClass("active")&&!bBot.hasClass("active")){bridgeE.push($(this).attr("data-pubname"));}
idx++;});$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/action_main/vgroup',type:"POST",data:{bridge_s:bridgeS.join("|"),bridge_e:bridgeE.join("|")},cache:false,async:false});});$(".pubSecSettings.pssCore .ico_bef.pbl",context).click(function(e){e.preventDefault();var thisM=$(this);var btnColor="";var mcolor="";var selCol=thisM.closest(".pubSecAdded");if(thisM.hasClass("setColorLight"))
btnColor="setColorLight";else if(thisM.hasClass("setColorDark"))
btnColor="setColorDark";if(selCol.attr("data-chain")){if(thisM.hasClass("active")){selCol.closest(".CM_body.publisherZone").find('.pubSecAdded[data-chain="'+selCol.attr("data-chain")+'"] .pubSecSettings.pssCore .ico_bef.pbl').removeClass("active");}
else{selCol.closest(".CM_body.publisherZone").find('.pubSecAdded[data-chain="'+selCol.attr("data-chain")+'"] .pubSecSettings.pssCore .ico_bef.pbl').removeClass("active");selCol.closest(".CM_body.publisherZone").find('.pubSecAdded[data-chain="'+selCol.attr("data-chain")+'"] .pubSecSettings.pssCore .ico_bef.pbl.'+btnColor).addClass("active");}}
else{if(thisM.hasClass("active")){selCol.find('.pubSecSettings.pssCore .ico_bef.pbl').removeClass("active");}
else{selCol.find('.pubSecSettings.pssCore .ico_bef.pbl').removeClass("active");selCol.find('.pubSecSettings.pssCore .ico_bef.pbl.'+btnColor).addClass("active");}}
selCol.find('.pubSecSettings.pssCore').each(function(){if($(this).find(".setColorDark").hasClass("active"))
mcolor="d";else if($(this).find(".setColorLight").hasClass("active"))
mcolor="w";else
mcolor="";});$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/action_sec/mcolor/'+selCol.attr("data-pubname"),type:"POST",data:{mcolor:mcolor},cache:false,async:false});});$(".ico_bef.setTUp",context).click(function(e){e.preventDefault();if($(this).hasClass("disabled"))
return;$(this).closest(".pubSecAdded").insertBefore($(this).closest(".pubSecAdded").prev(".pubSecAdded"));var sortList=evaPubVerticalSecSortInit("");$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/action_main/vsort',type:"POST",data:{msort:sortList},cache:false,async:false});});$(".ico_bef.setTDown",context).click(function(e){e.preventDefault();if($(this).hasClass("disabled"))
return;$(this).closest(".pubSecAdded").insertAfter($(this).closest(".pubSecAdded").next(".pubSecAdded"));var sortList=evaPubVerticalSecSortInit("");$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/action_main/vsort',type:"POST",data:{msort:sortList},cache:false,async:false});});$(".pubSecSettings.pssCore .setDelete",context).click(function(e){e.preventDefault();var thisM=$(this);var secAdd=thisM.closest(".pubSecAdded");if(thisM.hasClass("active")){$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/action_sec/delete/'+secAdd.attr("data-pubname"),success:function(response){if(response=="true"){secAdd.remove();evaPubVerticalSecSortInit("");}}});}
else{thisM.addClass("active");}});$(".pubSecSettings.pssCore .setPreview",context).click(function(e){e.preventDefault();var thisM=$(this);var secAdd=thisM.closest(".pubSecAdded");$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/preview/'+secAdd.attr("data-pubname"),success:function(response){$("#frE1InterfaceOverlay").show();$("#frE1PublicatrPreview").show();$("#frE1PublicatrPreview .previewCont").html(response);evaBBCodesInitialization($("#frE1PublicatrPreview .previewCont"));scroller=$('#frE1PublicatrPreview .antiscroll-wrap').antiscroll().data('antiscroll');$(window).resize(function(){scroller.rebuild();});}});});evaPubHorizontalChainsInit($(".secCol",context));evaPubVerticalSecSortInit("first");$(".pubSecCont .secCol textarea",context).focusin(function(){var secCol=$(this).closest(".secCol");var position=$(this).offset();var bbpanel=$("#evaPubContentFloatingBBcodes");var leftLen=($(document).width()-1000)/2;var shiftes={"c2":500,"c3":333,"c4":250};evaPubContentTextsHistory[$(this).closest(".pubSecAdded")]=$(this).val();bbpanel.css("top",(position.top-108)+"px");bbpanel.show();evaPubBBCodePanelCursorClean(bbpanel);if(secCol.hasClass("c2")){if(position.left<leftLen+shiftes.c2)
bbpanel.addClass("col21");else
bbpanel.addClass("col22");}
else if(secCol.hasClass("c3")){if(secCol.hasClass("sider")){if(position.left>leftLen+shiftes.c3)
bbpanel.addClass("col33s");else
bbpanel.addClass("col31s");}
else{if(position.left<leftLen+shiftes.c3)
bbpanel.addClass("col31");else if(position.left<leftLen+shiftes.c3*2)
bbpanel.addClass("col32");else
bbpanel.addClass("col33");}}
else if(secCol.hasClass("c4")){if(secCol.hasClass("sider")){if(position.left>leftLen+shiftes.c4)
bbpanel.addClass("col44s");else
bbpanel.addClass("col41s");}
else{if(position.left<leftLen+shiftes.c4)
bbpanel.addClass("col41");else if(position.left<leftLen+shiftes.c4*2)
bbpanel.addClass("col42");else if(position.left<leftLen+shiftes.c4*3)
bbpanel.addClass("col43");else
bbpanel.addClass("col44");}}
frPUBvarFocusedTextarea=$(this);});$(".pubSecCont .secCol textarea",context).bind('textchange',function(e){var secCol=$(this).closest(".secCol");var txtBefore=evaPubContentTextsHistory[$(this).closest(".pubSecAdded")];if(txtBefore!=$(this).val())
$(this).closest(".pubSecAdded").find(".item.flt_right.saveButton").removeClass("show").addClass("show");else
$(this).closest(".pubSecAdded").find(".item.flt_right.saveButton").removeClass("show");});$(".pubSecSettings .saveButton a",context).click(function(e){e.preventDefault();var thisM=$(this);var secAdd=thisM.closest(".pubSecAdded");var pubName=secAdd.attr("data-pubname");var dataToSend={};var counter=1;secAdd.find(".pubSecForFastSave").each(function(){dataToSend["field"+counter]=$(this).val();counter++;});if(secAdd.find(".secCol").length==2&&secAdd.find(".secCol.sider").length){var idx=0;var flag="";secAdd.find(".secCol").each(function(){if($(this).hasClass("sider")){if(idx)
flag="l";else
flag="r";}
idx++;});$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/action_sec/hsort/'+$(this).closest(".pubSecAdded").attr("data-pubname"),type:"POST",data:{hsort:flag+"|||"},cache:false,async:false});}
else if(secAdd.find(".secCol").length==3&&secAdd.find(".secCol.c2").length&&secAdd.find(".secCol.c4").length){var flag="";secAdd.find(".secCol").each(function(){if($(this).hasClass("c2"))
flag+="m|";else
flag+="|";});$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/action_sec/hsort/'+$(this).closest(".pubSecAdded").attr("data-pubname"),type:"POST",data:{hsort:flag},cache:false,async:false});}
$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/save/savesecs/'+pubName,type:"POST",data:dataToSend,cache:false,async:false,success:function(response){var jsonDecoded=$.parseJSON(response);var oVal=thisM.html();var arr=[];arr["error"]="red";arr["success"]="green";thisM.addClass("active").addClass(arr[jsonDecoded["state"]]).html(jsonDecoded["msg"]);setTimeout(function(){thisM.removeClass("red").removeClass("green").removeClass("active").html(oVal);thisM.closest(".saveButton").removeClass("show");},5000);}});var selAdd=$(this).closest(".pubSecAdded");var colors=["","","",""];var idx=0;selAdd.find(".secCol").each(function(){if($(this).find(".setColorDark").hasClass("active"))
colors[idx]="d";else if($(this).find(".setColorLight").hasClass("active"))
colors[idx]="w";else
colors[idx]="";idx++;});$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/action_sec/hcolor/'+selAdd.attr("data-pubname"),type:"POST",data:{hcolor:colors.join("|")},cache:false,async:false});});$(".pubEditHiddenAddSec",context).click(function(e){e.preventDefault();var addSec=$(this).closest(".pubSecAdded");$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/add/hidden-cont/'+addSec.attr("data-pubname"),type:"POST",cache:false,async:false,success:function(response){addSec.find(".hiderItemsSorting").append(response);evaPubHiddenSecItemInit($(".hiderItem.noINIT"));$(".hiderItem").removeClass("noINIT");}});});$(".pubEditHiddenAddSep",context).click(function(e){e.preventDefault();var addSec=$(this).closest(".pubSecAdded");$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/add/hidden-sep/'+addSec.attr("data-pubname"),type:"POST",cache:false,async:false,success:function(response){addSec.find(".hiderItemsSorting").append(response);evaPubHiddenSecItemInit($(".hiderItem.noINIT"));$(".hiderItem").removeClass("noINIT");}});});$(".hiderItemsSorting",context).sortable({handle:".itemSort.ico_bef",items:"> .hiderItem",axis:"y",update:function(event,ui){var hiderIds=[];var counter=0;var addSec=$(this).closest(".pubSecAdded");$(this).closest(".hiderItemsSorting ").find(".hiderItem").each(function(){hiderIds[counter]=$(this).attr("data-hiddenid");counter++;});$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/save/hidden-order/'+addSec.attr("data-pubname"),type:"POST",data:{iid:$(this).attr("data-hiddenid"),order:hiderIds.join("|")},cache:false,async:false});}});$(".hiderItemsSorting",context).disableSelection();evaPubHiddenSecItemInit(context);}
$(function(){$(document).click(function(e){if($(e.target).closest("#evaPubContentFloatingBBcodes").length==0&&$(e.target).closest("textarea").length==0&&$(e.target).closest("#evaPubContentSectionPopUps .frE1Popup").length==0){$("#evaPubContentFloatingBBcodes").hide();}
if($(e.target).closest("#evaPubContentBBCodeUserBlock").length==0&&$(e.target).closest("#evaPubContentBBCodeUser").length==0){$("#evaPubContentBBCodeUserBlock").hide();$("#evaPubContentBBCodeUserBlock input").val("");$("#evaPubContentBBCodeUserBlock .frE1Autocomplete").removeClass("show").html("");}});$(".frE1AddSecPanel .item.evaInt_button_h.light.ico_bef.pbl").click(function(e){e.preventDefault();var thisM=$(this);var typeM=0;if(thisM.hasClass("secType1"))
typeM=1;else if(thisM.hasClass("secType2"))
typeM=2;else if(thisM.hasClass("secType3"))
typeM=3;else if(thisM.hasClass("secType4"))
typeM=4;else if(thisM.hasClass("secType5"))
typeM=5;else if(thisM.hasClass("secType6"))
typeM=6;else if(thisM.hasClass("secType7"))
typeM=7;else if(thisM.hasClass("secType8"))
typeM=8;else if(thisM.hasClass("secType9"))
typeM=9;$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/add/section/'+typeM,success:function(response){$(".frE1AddSecPanel").before(response);pubEditSectionsControlFuncs($(".pubSecAdded.noINIT"));$(".pubSecAdded").removeClass("noINIT");}});});});function evaPubHiddenSecItemInit(context){$(".pubHiddenEdit",context).click(function(e){e.preventDefault();var hiderItem=$(this).closest(".hiderItem");var thisM=$(this);var addSec=$(this).closest(".pubSecAdded");if(thisM.hasClass("setSuccess")){hiderItem.removeClass("editing");thisM.removeClass("setSuccess").addClass("setEdit");$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/save/hidden-sep/'+addSec.attr("data-pubname"),type:"POST",data:{iid:hiderItem.attr("data-hiddenid"),title:hiderItem.find("input").val()},cache:false,async:false,success:function(response){if(response=="true"){hiderItem.find(".itemTitle").html(hiderItem.find("input").val());}}});}
else{hiderItem.addClass("editing");thisM.removeClass("setEdit").addClass("setSuccess");}});$(".pubHiddenEditClose",context).click(function(e){e.preventDefault();var hiderItem=$(this).closest(".hiderItem");hiderItem.removeClass("editing");hiderItem.find(".pubHiddenEdit").removeClass("setSuccess").addClass("setEdit");});$(".pubHiddenEditSubmit",context).click(function(e){e.preventDefault();var hiderItem=$(this).closest(".hiderItem");var thisM=$(this);var addSec=$(this).closest(".pubSecAdded");hiderItem.removeClass("editing");hiderItem.find(".pubHiddenEdit").removeClass("setSuccess").addClass("setEdit");$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/save/hidden-sec/'+addSec.attr("data-pubname"),type:"POST",data:{iid:hiderItem.attr("data-hiddenid"),title:hiderItem.find(".editCont .fcont input").val(),bbcode:hiderItem.find("textarea").val()},cache:false,async:false,success:function(response){if(response=="true"){hiderItem.find(".itemTitle").html(hiderItem.find(".editCont .fcont input").val());}}});});$(".pubHiddenDel",context).click(function(e){e.preventDefault();var thisM=$(this);var secAdd=thisM.closest(".pubSecAdded");var hiderItem=$(this).closest(".hiderItem");if(thisM.hasClass("active")){$.ajax({url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/action_sec/delete-hidden/'+secAdd.attr("data-pubname"),type:"POST",data:{id:hiderItem.attr("data-hiddenid")},cache:false,async:false,success:function(response){if(response=="true"){hiderItem.remove();}}});}
else{thisM.addClass("active");}});}
function evaPubVerticalSecSortInit(first){var sortList=[];$(".pubSecAdded").each(function(){var thisM=$(this);sortList.push(thisM.attr("data-pubname"));thisM.find(".link.ico_bef.setTDown").removeClass("disabled");thisM.find(".link.ico_bef.setTUp").removeClass("disabled");thisM.find(".setBridge.ic_aft.top").removeClass("disabled");thisM.find(".setBridge.ic_aft.bottom").removeClass("disabled");if(!thisM.next(".pubSecAdded").length){thisM.find(".link.ico_bef.setTDown").addClass("disabled");thisM.find(".setBridge.ic_aft.bottom").addClass("disabled");}
if(!thisM.prev(".pubSecAdded").length){thisM.find(".link.ico_bef.setTUp").addClass("disabled");thisM.find(".setBridge.ic_aft.top").addClass("disabled");}
if(first!="first"){$(".pubSecAdded .pubSecSettings.pssCore").nextAll("i").remove();$(".pubSecAdded .pubSecSettings .setBridge.ic_aft").removeClass("active");}});return sortList.join("|");}
function evaPubHorizontalChainsInit(context){$(".setBridge.ic_aft",context).each(function(e){var thisM=$(this);thisM.removeClass("disabled");if(thisM.hasClass("left")&&!thisM.closest(".secCol").prev(".secCol").length){thisM.addClass("disabled");}
else if(thisM.hasClass("right")&&!thisM.closest(".secCol").next(".secCol").length){thisM.addClass("disabled");}});}
function evaPubBBCodePanelCursorClean(thisM){thisM.removeClass("col21").removeClass("col22").removeClass("col31").removeClass("col32").removeClass("col33").removeClass("col31s").removeClass("col33s");thisM.removeClass("col41").removeClass("col42").removeClass("col43").removeClass("col44").removeClass("col41s").removeClass("col44s");}
function getRandomInt(min,max){return Math.floor(Math.random()*(max-min+1))+min;}
function hotKeyPrevent(event){if(event.preventDefault)
event.preventDefault();else
event.returnValue=false;if(event.stopPropagation)
event.stopPropagation();if(event.cancelBubble)
event.cancelBubble=true;}
function wrapTextByBBCode(object,openTag,closeTag){if(window.attachEvent&&navigator.userAgent.indexOf('Opera')===-1){object[0].focus();frSelectionRangeObject.text=openTag+frSelectionText+closeTag;object[0].focus();}
else{var doc=object[0];var ss=doc.scrollTop;sel1=doc.value.substr(0,frSelectionRangeStart);sel2=doc.value.substr(frSelectionRangeEnd);var text=doc.firstChild;doc.value=sel1+openTag+frSelectionText+closeTag+sel2;selPos=openTag.length+sel1.length+frSelectionText.length+closeTag.length;doc.setSelectionRange(sel1.length,selPos);doc.scrollTop=ss;}}
function SelectionTextInit(){if(window.attachEvent&&navigator.userAgent.indexOf('Opera')===-1){frPUBvarFocusedTextarea[0].focus();frSelectionRangeObject=document.selection.createRange();frSelectionText=frSelectionRangeObject.text;}
else{frSelectionRangeStart=frPUBvarFocusedTextarea[0].selectionStart;frSelectionRangeEnd=frPUBvarFocusedTextarea[0].selectionEnd;frSelectionText=frPUBvarFocusedTextarea[0].value.substr(frSelectionRangeStart,frSelectionRangeEnd-frSelectionRangeStart);}}
var BBUploadGlobalString="";function evaPubImgUploaderInit(){$("#evaPubImgUploader").pluploadQueue({runtimes:'html5,flash,silverlight,html4',url:'https://'+location.hostname+'/api/publicatr/'+$("#currentArticleId").val()+'/add/pics/',max_file_size:'5mb',dragdrop:false,filters:[{title:"Image files",extensions:"jpg,gif,png,jpeg"}],flash_swf_url:'js/plupload.flash.swf',silverlight_xap_url:'js/plupload.silverlight.xap',init:{FileUploaded:function(up,file,info){BBUploadGlobalString=BBUploadGlobalString+info.response;},UploadComplete:function(up,files){$("#evaPubContentBBCodeImgBlock").hide();wrapTextByBBCode(frPUBvarFocusedTextarea,BBUploadGlobalString,"");BBUploadGlobalString="";}}});};function fullrestFilesInitialization(){if($("#evaHistoryFilesMenu").length){$("#evaHistoryFilesMenu .act.ico_bef.addFile").click(function(e){e.preventDefault();$(".frE1Popup").hide();var offset=$(this).offset();$("#evaFilesLoaderFiles").css("top",offset.top+39).css("left",offset.left-636).show();$("#evaFilesLoaderFilesUploader").removeClass("hide");$("#evaFilesLoaderFiles div.symbolCounter").removeClass("hide");$("#fileUploaderFormSaveSubmiter").removeClass("hide").removeClass("show").addClass("hide");$("#fileUploaderFormTitle").val("");$("#fileUploaderFormPriority").val("");$("#fileUploaderFormVersion").val("");$("#fileUploaderFormDescr").val("");var priorTitle=$('#fileUploaderFormPriority option[value="1"]').html();$('#fileUploaderFormPriority').closest(".evaInt_select.light").find("p").html(priorTitle);initFilesFileDataUploader();});$("#evaHistoryFilesMenu .act.ico_bef.addImg").click(function(e){e.preventDefault();$(".frE1Popup").hide();var offset=$(this).offset();$("#evaFilesLoaderScreens").css("top",offset.top+39).css("left",offset.left-433).show();initFilesMediaUploader();});$("#fileUploaderFormSaveSubmiter input").click(function(e){e.preventDefault();if($("#fileUploaderFormSaveSubmiter").hasClass("hide"))
return false;$.ajax({url:"https://"+location.host+location.pathname+"?act=save&id="+$("#fileUploaderFormSaveSubmiter").attr("data-fileid"),type:"POST",data:{title:$("#fileUploaderFormTitle").val(),priority:$("#fileUploaderFormPriority").val(),version:$("#fileUploaderFormVersion").val(),descr:$("#fileUploaderFormDescr").val()},cache:false,async:false,success:function(response){if(response=="true")
location.reload();}});})
initFilesAllControls();}}
function initFilesAllControls(){$("figure .link.ico_bef.delete").click(function(e){e.preventDefault();var thisM=$(this);var expl=explodeHashedHref(thisM.attr("href"));if(thisM.hasClass("confirm")){$.ajax({url:"https://"+location.host+location.pathname+"?act=del&id="+expl[0],success:function(response){thisM.closest("figure").remove();}});}
else
thisM.addClass("confirm");});$(".componentsList .link.ico_bef.delete").click(function(e){e.preventDefault();var thisM=$(this);var expl=explodeHashedHref(thisM.attr("href"));if(thisM.hasClass("confirm")){$.ajax({url:"https://"+location.host+location.pathname+"?act=del&id="+expl[0],success:function(response){thisM.closest(".filesArchiveItem").remove();}});}
else
thisM.addClass("confirm");});$(".componentsList .link.ico_bef.edit").click(function(e){e.preventDefault();var thisM=$(this);var expl=explodeHashedHref(thisM.attr("href"));$.ajax({url:"https://"+location.host+location.pathname+"?act=get&id="+expl[0],success:function(response){var offset=thisM.offset();var jsonedData=$.parseJSON(response);$("#fileUploaderFormTitle").val(jsonedData["title"]);$("#fileUploaderFormPriority").val(jsonedData["priority"]);$("#fileUploaderFormVersion").val(jsonedData["version"]);$("#fileUploaderFormDescr").val(jsonedData["descr"]);var priorTitle=$('#fileUploaderFormPriority option[value="'+jsonedData["priority"]+'"]').html();$('#fileUploaderFormPriority').closest(".evaInt_select.light").find("p").html(priorTitle);$("#evaFilesLoaderFiles").css("top",offset.top-210).css("left",offset.left-724).show();$("#evaFilesLoaderFilesUploader").addClass("hide");$("#evaFilesLoaderFiles div.symbolCounter").addClass("hide");$("#fileUploaderFormSaveSubmiter").removeClass("hide").addClass("show").attr("data-fileid",jsonedData["id"]);}});});$(".componentsList").sortable({handle:".link.ico_bef.sort",items:"> .filesArchiveItem",axis:"y",update:function(event,ui){var orderList=[];$(this).closest(".componentsList").find(".filesArchiveItem").each(function(){orderList.push($(this).attr("data-ffileid"));});$.ajax({url:"https://"+location.host+location.pathname+"?act=order",type:"POST",data:{order:orderList.join("|")}});}});$(".componentsList").disableSelection();$(".frE1FShowComponents .frE1FShowCap a").click(function(e){e.preventDefault();var thisM=$(this);var clasM="";var title="";if(thisM.find("span").hasClass("optionalComponent")){clasM="optionalComponent";title="ÐÐ¾Ð¿Ð¾Ð»Ð½Ð¸ÑÐµÐ»ÑÐ½ÑÐµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½ÑÑ";}
else if(thisM.find("span").hasClass("oldComponent")){clasM="oldComponent";title="Ð£ÑÑÐ°ÑÐµÐ²ÑÐ¸Ðµ ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½ÑÑ";}
else
return true;if(!thisM.hasClass("active")){thisM.addClass("active");$(".frE1FShowComponents .frE1FShowCap a").removeClass("active");thisM.addClass("active");$(".frE1FShowComponents .componentsList.optionalComponent").removeClass("hide").addClass("hide");$(".frE1FShowComponents .componentsList.oldComponent").removeClass("hide").addClass("hide");$(".frE1FShowComponents .componentsList."+clasM).removeClass("hide");thisM.closest(".frE1FShowCap").find("h4").html(title);}});}
function initFilesMediaUploader(){$("#evaFilesLoaderScreensUploader").pluploadQueue({runtimes:'html5,flash,silverlight',url:'https://'+location.hostname+location.pathname+'?load=screen',max_file_size:'5mb',unique_names:true,dragdrop:true,filters:[{title:"Image files",extensions:"jpg,gif,png,jpeg"}],flash_swf_url:'/js/v5/libs/plupload.flash.swf',silverlight_xap_url:'/js/v5/libs/plupload.silverlight.xap',init:{FileUploaded:function(up,file,info){$(".frE1FShowMedia .eGallery.mList").prepend(info.response);$("img",$(".frE1FShowMedia .eGallery.mList figure.bb.mItem.zoomIn.noInit")).show().lazyload({event:"sporty"}).trigger("sporty");},UploadComplete:function(up,files){up.destroy();initFilesMediaUploader();$("img",$(".frE1FShowMedia .eGallery.mList figure.bb.mItem.zoomIn.noInit")).click(function(e){evaImageEnlargerShow(e,$(this));});$(".frE1FShowMedia .eGallery.mList figure").removeClass("noInit");$("#evaFilesLoaderScreens").hide();}}});}
function initFilesFileDataUploader(){$("#evaFilesLoaderFilesUploader").pluploadQueue({runtimes:'html5,flash,silverlight',url:'https://'+location.hostname+location.pathname+'?load=file',max_file_size:'500mb',max_file_count:1,unique_names:false,dragdrop:false,multipart_params:{title:$("#fileUploaderFormTitle").val(),priority:$("#fileUploaderFormPriority").val(),version:$("#fileUploaderFormVersion").val(),descr:$("#fileUploaderFormDescr").val()},filters:[{title:"Zip files",extensions:"zip,rar,7z"}],flash_swf_url:'/js/v5/libs/plupload.flash.swf',silverlight_xap_url:'/js/v5/libs/plupload.silverlight.xap',init:{FileUploaded:function(up,file,info){location.reload();},BeforeUpload:function(up,file){up.settings.multipart_params.title=$("#fileUploaderFormTitle").val();up.settings.multipart_params.priority=$("#fileUploaderFormPriority").val();up.settings.multipart_params.version=$("#fileUploaderFormVersion").val();up.settings.multipart_params.descr=$("#fileUploaderFormDescr").val();}}});};function fullrestContentInitialization(){$("#frGameMetaInfoBtn").click(function(e){if($(this).hasClass("active"))
return;$(this).addClass("active");$("#frGameMetaReqsBtn").removeClass("active");$("#frGameMetaDLCBtn").removeClass("active");$("#frGameMetaInfoField").removeClass("infoItem");$("#frGameMetaReqsField").removeClass("infoItem").addClass("infoItem");$("#frGameMetaDLCField").removeClass("infoItem").addClass("infoItem");});$("#frGameMetaReqsBtn").click(function(e){if($(this).hasClass("active"))
return;$(this).addClass("active");$("#frGameMetaInfoBtn").removeClass("active");$("#frGameMetaDLCBtn").removeClass("active");$("#frGameMetaReqsField").removeClass("infoItem");$("#frGameMetaInfoField").removeClass("infoItem").addClass("infoItem");$("#frGameMetaDLCField").removeClass("infoItem").addClass("infoItem");});$("#frGameMetaDLCBtn").click(function(e){if($(this).hasClass("active"))
return;$(this).addClass("active");$("#frGameMetaReqsBtn").removeClass("active");$("#frGameMetaInfoBtn").removeClass("active");$("#frGameMetaDLCField").removeClass("infoItem");$("#frGameMetaReqsField").removeClass("infoItem").addClass("infoItem");$("#frGameMetaInfoField").removeClass("infoItem").addClass("infoItem");});};var evaIntForLSRefreshTimer='';$(function(){if(!$("#fullrestMapsForDesktop").length)
return;var srpgWMapDragingTrigger=0;var srpgWMapID="#fullrestMapsForDesktop_MAP";var srpgWMapData={shift:{width:0,height:0},map:{size:{width:1920,height:1030},isize:{width:2048,height:2048+100},coord:{x:0,y:0}},mouse:{click:{x:0,y:0},diff:{x:0,y:0}}};clickInit();$(srpgWMapID).mousedown(function(e){var offset=$(this).offset();if(srpgWMapDragingTrigger==0){srpgWMapData.mouse.click.x=(e.pageX-offset.left);srpgWMapData.mouse.click.y=(e.pageY-offset.top);srpgWMapDragingTrigger=1;setTimeout(clickKill,180);}});$(srpgWMapID).mouseup(function(e){if(srpgWMapDragingTrigger==2){setTimeout(clickInit,200);e.stopPropagation();mapSaveShifting();}
srpgWMapDragingTrigger=0;});$(srpgWMapID).mouseleave(function(e){if(srpgWMapDragingTrigger==2){srpgWMapDragingTrigger=0;mapSaveShifting();}});$(srpgWMapID).mousemove(function(e){var offset=$(this).offset();if(srpgWMapDragingTrigger==2){srpgWMapData.mouse.diff.x=srpgWMapData.mouse.click.x-(e.pageX-offset.left);srpgWMapData.mouse.diff.y=srpgWMapData.mouse.click.y-(e.pageY-offset.top);srpgWMapData.map.coord.x=srpgWMapData.shift.width-srpgWMapData.mouse.diff.x;srpgWMapData.map.coord.y=srpgWMapData.shift.height-srpgWMapData.mouse.diff.y;bgXMinCheck=Math.floor(srpgWMapData.map.size.width-srpgWMapData.map.isize.width);bgYMinCheck=Math.floor(srpgWMapData.map.size.height-srpgWMapData.map.isize.height);if(srpgWMapData.map.coord.x<bgXMinCheck){srpgWMapData.map.coord.x=bgXMinCheck;srpgWMapData.shift.width=bgXMinCheck;srpgWMapData.mouse.diff.x=0;}
if(srpgWMapData.map.coord.y<bgYMinCheck){srpgWMapData.map.coord.y=bgYMinCheck;srpgWMapData.shift.height=bgYMinCheck;srpgWMapData.mouse.diff.y=0;}
if(0<srpgWMapData.map.coord.x){srpgWMapData.map.coord.x=0;srpgWMapData.shift.width=0;srpgWMapData.mouse.diff.x=0;}
if(0<srpgWMapData.map.coord.y){srpgWMapData.map.coord.y=0;srpgWMapData.shift.height=0;srpgWMapData.mouse.diff.y=0;}
console.log("x:"+srpgWMapData.mouse.diff.x+" y:"+srpgWMapData.mouse.diff.y);$(srpgWMapID+" div").css('margin-left',srpgWMapData.map.coord.x+'px').css('margin-top',srpgWMapData.map.coord.y+'px');}});function clickInit(){$(srpgWMapID).click(function(e){alert("1");});}
function clickKill(){if(srpgWMapDragingTrigger==1){$(srpgWMapID).unbind("click");srpgWMapDragingTrigger=2;}}
function mapSaveShifting(){srpgWMapData.shift.width-=srpgWMapData.mouse.diff.x;srpgWMapData.shift.height-=srpgWMapData.mouse.diff.y;}});$(function(){zioxes("#WR_main_background",function(color){$(".elzDBTooltip .elzDBInfo, .elzDBTooltip .elzDBIcon").css("background-color",color.toRgbString())});zioxes("#WR_table_features_background",function(color){$(".elzDBTooltip .elzDBInfo .infoContent .inf_cont.features .inf_table .item td").css("background-color",color.toRgbString())});zioxes("#WR_table_effects_background",function(color){$(".elzDBTooltip .elzDBInfo .infoContent .inf_cont.effects  .inf_table .item td").css("background-color",color.toRgbString())});zioxes("#WR_captions_border_color",function(color){$(".elzDBTooltip .elzDBInfo .infoContent .inf_caption, .elzDBTooltip .elzDBInfo .infoContent .inf_subcaption").css("border-color",color.toRgbString())});zioxes("#WR_description_color",function(color){$(".elzDBTooltip .elzDBInfo .infoContent .inf_description").css("color",color.toRgbString())});zioxes("#WR_border_color",function(color){$(".elzDBTooltip .customDesign .line").css("border-color",color.toRgbString());$(".elzDBTooltip .elzSVG").css("fill",color.toRgbString());});zioxes("#WR_main_color",function(color){$(".elzDBTooltip .elzDBInfo .infoContent").css("color",color.toRgbString())});zioxes("#WR_caption_color",function(color){$(".elzDBTooltip .elzDBInfo .infoContent .inf_caption").css("color",color.toRgbString())});zioxes("#WR_subcaption_color",function(color){$(".elzDBTooltip .elzDBInfo .infoContent .inf_subcaption").css("color",color.toRgbString())});zioxes("#WR_effect_group_color",function(color){$(".elzDBTooltip .elzDBInfo .infoContent .inf_table .caption").css("color",color.toRgbString())});zioxes("#WR_effect_name_color",function(color){$(".elzDBTooltip .elzDBInfo .infoContent .inf_table .name").css("color",color.toRgbString())});zioxes("#WR_table_value_color",function(color){$(".elzDBTooltip .elzDBInfo .infoContent .inf_table .value").css("color",color.toRgbString())});$("#WR_SVGBorder_content").click(function(){if($(this).attr("checked")=="checked")$(".elzDBInfo .customDesign").show();else $(".elzDBInfo .customDesign").hide();});$("#WR_SVGBorder_icon").click(function(){if($(this).attr("checked")=="checked")$(".elzDBIcon .customDesign").show();else $(".elzDBIcon .customDesign").hide();});function zioxes(cssSelector,callback){$(cssSelector).spectrum({color:$(cssSelector).val(),flat:false,showInput:true,allowEmpty:true,showButtons:true,showInitial:true,cancelText:"ÐÑÐ¼ÐµÐ½Ð°",chooseText:"ÐÑÐ±ÑÐ°ÑÑ",preferredFormat:"hex",showAlpha:true,move:callback,hide:callback});}
$("#funDBTextSearchInput").bind('textchange',function(e){var thisM=$(this);var value=$(this).val();var autoC=thisM.closest(".searchCont").find(".frE1Autocomplete");$.ajax({url:'https://'+location.hostname+location.pathname+'/?ajaxSearch=1',type:"POST",data:{val:value},cache:false,async:false,success:function(response){if(response=="false")
autoC.removeClass("show").html("");else{autoC.addClass("show").html(response);}}});});$("#frIndexNewsBookMarks a").click(function(e){var thisM=$(this);if(thisM.hasClass("active"))
return true;e.preventDefault();$("#frIndexNewsBookMarks a").removeClass("active");thisM.addClass("active").find("b").remove();$.ajax({url:'https://'+location.hostname+'?act=shownews&type='+thisM.attr("data-type"),type:"POST",success:function(response){$("#frIndexNewsBookMarks").nextAll(".frE1PostItem").remove();$("#frIndexNewsBookMarks").after(response);$(".lazyLoadStnd").show().lazyload({effect:"fadeIn",skip_invisible:false,load:function(){var thisM=$(this);setTimeout(function(){thisM.closest("figure").removeClass("loading_bef")},150)}});evaUserCardInitialization($(".frE1PostItem"));}});});$(".lazyLoadStnd").show().lazyload({effect:"fadeIn",skip_invisible:false,load:function(){var thisM=$(this);setTimeout(function(){thisM.closest("figure").removeClass("loading_bef")},150)}});$(".lazyLoadStndTrigger").show().lazyload({effect:"fadeIn",skip_invisible:false,event:"sporty",load:function(){var thisM=$(this);setTimeout(function(){thisM.closest("figure").removeClass("loading_bef")},150)}}).trigger("sporty");$(".lazyLoadStndNoSpin").show().lazyload({effect:"fadeIn",skip_invisible:false});$(".lazyLoadStndNoSpinTrigger").show().lazyload({effect:"fadeIn",skip_invisible:false,event:"sporty"}).trigger("sporty");$(".antiscroll-wrap .lazyLoadStnd").show().lazyload({effect:"fadeIn",event:"sporty"}).trigger("sporty");$("select").evaSelect();$("input.evaFile").evaFile();$(".archiveYears.antiscroll-wrap").antiscroll().data('antiscroll');$(".archiveYears .antiscroll-inner.horizontal").mousewheel(function(event,delta){this.scrollLeft-=(delta*164);event.preventDefault();});if($("#evaIntUserPanelRegistered").length){setInterval(evaIntRefreshData,10000);evaIntRefreshData();}
function evaIntRefreshData(){$.ajax({url:'https://'+location.hostname+'/api/evaint/fresh_data',type:"POST",success:function(response){var returnJson=$.parseJSON(response);if(returnJson["messages"]!="false")
$("#evaIntUserPanelButtonMessages").html(returnJson["messages"]);else
$("#evaIntUserPanelButtonMessages").html("");if(returnJson["friends"]!="false")
$("#evaIntUserPanelButtonFriends").html(returnJson["friends"]);else
$("#evaIntUserPanelButtonFriends").html("");if(returnJson["abuses"]!="false")
$("#evaIntUserPanelButtonReports").html(returnJson["abuses"]);else
$("#evaIntUserPanelButtonReports").html("");}});}
$(".subscribeLink").click(function(e){e.preventDefault();var thisM=$(this);if(thisM.hasClass("IAMauthor"))
return false;$.ajax({url:'https://'+location.hostname+'/api/subscribe',type:"POST",data:{type:thisM.attr("data-type"),id:thisM.attr("data-item")},cache:false,async:false,success:function(response){var json=$.parseJSON(response);if(json["type"]=="success"){thisM.addClass("active").attr("title","ÐÑÐ¿Ð¸ÑÐ°ÑÑÑÑ Ð¾Ñ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ ÐºÐ¾Ð½ÑÐµÐ½ÑÐ°").html("ÐÑÐ¿Ð¸ÑÐ°ÑÑÑÑ");}
else if(json["type"]=="info"){thisM.removeClass("active").attr("title","ÐÐ¾Ð´Ð¿Ð¸ÑÐ°ÑÑÑÑ Ð½Ð° Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ¾Ð½ÑÐµÐ½ÑÐ°").html("ÐÐ¾Ð´Ð¿Ð¸ÑÐ°ÑÑÑÑ");}
evaSendNotification(json["type"],json["title"],json["text"],json["time"]);}});});if($("#frIndexGalleryPanel").length){$("#frIndexGalleryPanel a").click(function(e){var thisM=$(this);if(thisM.hasClass("active")){return true;}
e.preventDefault();$.ajax({url:'https://'+location.hostname+'?act=showgal&type='+thisM.attr("data-typeid"),type:"POST",cache:false,async:false,success:function(response){thisM.closest(".frE1Content").find(".imagesFeed").html(response);$("#frIndexGalleryPanel a").removeClass("active");thisM.addClass("active");}});});}
$(document).click(function(event){evaUserControlPanelHide(event);evaUserCardConditionHide(event);if($(event.target).closest(".frE1Autocomplete").length==0){$(".frE1Autocomplete").removeClass("show");}
if($(event.target).closest(".setDelete").length==0){$(".setDelete").removeClass("active");}
if($(event.target).closest("figure .link.ico_bef.delete").length==0){$("figure .link.ico_bef.delete").removeClass("confirm");}
if($(event.target).closest(".componentsList .link.ico_bef.delete").length==0){$(".componentsList .link.ico_bef.delete").removeClass("confirm");}
if($(event.target).closest("#evaReputationPopUpFull").length==0){$("#evaReputationPopUpFull").hide();}
if($(event.target).closest("#evaReputationPopUpPreview").length==0&&$(event.target).closest(".frE1Rating .link.value").length==0){$("#evaReputationPopUpPreview").hide();}
if($(event.target).closest("#evaCommentEditTextArea").length==0&&evaCommentEditEn==1){evaCommentariesEditCommSend();}});menuTopImitialization($(document));evaUserControlPanelInitialization();evaUserCardInitialization($(document));evaImageEnlargerInitialize($(document));evaCommentariesInitialization();evaBBCodesInitialization($(document));pubEditMetaInitialize($(document));pubEditBBCodeInitialize($(document));antiscrollInitialization();fullrestFilesInitialization();fullrestContentInitialization();frE1PopupInitializer($(document),"");$(window).resize(function(){if($("#evaImageEnlarger .antiscroll-wrap").length)
$("#evaImageEnlarger .antiscroll-wrap").antiscroll().data('antiscroll').rebuild();});});function frE1PopupInitializer(context,direct){if(direct=="")
direct=".frE1Popup"
$(direct+"  .frE1PopupClose",context).click(function(e){e.preventDefault();$(this).closest(".frE1Popup").hide();$("#"+$(this).attr("data-idtohide")).hide();});$(direct,context).each(function(){var thisM=$(this);if(thisM.find(".popup_header").length)
thisM.draggable({handle:thisM.find(".popup_header"),start:function(event,ui){ui.position.top=ui.offset.top;ui.position.left=ui.offset.left;},drag:function(event,ui){ui.position.top=ui.offset.top;ui.position.left=ui.offset.left;}});});}
function explodeSlashedHref(hashHref){var hrefSplited=hashHref.substring(1,hashHref.length).split("/");return hrefSplited;}
function explodeHashedHref(hashHref){var hrefSplited=hashHref.split("#");var hashSplited=hrefSplited[1].split("/");return hashSplited;}
function checkIsJson(text){var isJson=true;try{var json=$.parseJSON(text);}
catch(err){isJson=false;}
return isJson;}
function evaSendNotification(type,title,text,time){var typeArr={message:['','comment'],info:[' blue','info'],warning:[' yellow','warning'],error:[' red','error'],success:[' green','success']}
$("#evaNotificationSection").prepend('<div class="evaIntNotiWin'+typeArr[type][0]+' noInit"><div class="notiHead"><div class="notiClose" title="ÐÐ°ÐºÑÑÑÑ Ð¾ÐºÐ½Ð¾ Ð¾Ð¿Ð¾Ð²ÐµÑÐµÐ½Ð¸Ñ"></div><time class="notiTime" timedate="">'+time+'</time><div class="notiTitle '+typeArr[type][1]+'">'+title+'</div></div><div class="notiBody">'+text+'</div></div>');var toHide=$("#evaNotificationSection .evaIntNotiWin.noInit");setTimeout(function(){toHide.fadeOut(400);setTimeout(function(){toHide.remove()},400);},10000);$("#evaNotificationSection .evaIntNotiWin").removeClass("noInit");if($("#evaNotificationSection .evaIntNotiWin").length>4){var toErase=$("#evaNotificationSection .evaIntNotiWin:last").remove();}}
jQuery.fn.extend({disableSelection:function(){this.each(function(){this.onselectstart=function(){return false;};this.unselectable="on";jQuery(this).css({'-moz-user-select':'none','-khtml-user-select':'none','-webkit-user-select':'none','-o-user-select':'none','user-select':'none'});});},enableSelection:function(){this.each(function(){this.onselectstart=function(){};this.unselectable="off";jQuery(this).css({'-moz-user-select':'auto','-khtml-user-select':'auto','-webkit-user-select':'auto','-o-user-select':'auto','user-select':'auto'});});}});var _gaq=_gaq||[];_gaq.push(['_setAccount',$("#domainGoogleAnalyticsId").val()]);_gaq.push(['_trackPageview']);(function(){var ga=document.createElement('script');ga.type='text/javascript';ga.async=true;ga.src=('https:'==document.location.protocol?'https://ssl':'https://www')+'.google-analytics.com/ga.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(ga,s);})();var etalon;$(function(){etalon=$('.eCont').outerHeight(true);checksize();$(window).resize(function(){checksize();});});function checksize()
{var winda=$(window).outerHeight(true);if(etalon<winda)hc=etalon;if(etalon+31>winda)hc=winda-31;$('.eCont').css('height',hc);}
$(function(){if($(".spinner.redirect span.timer").length){var hash=window.location.hash;var timer=10;$(".spinner.redirect span.timer").html(timer);if(hash.length==33){var countdown=setInterval(function(){timer--;$(".spinner.redirect span.timer").html(timer);if(timer==0){clearInterval(countdown);var unic=hash.replace("#","");$.ajax({url:'https://'+location.hostname+'/r',type:"POST",data:{unic:unic},cache:false,async:false,success:function(response){window.location=response;}});}},1000);}}});$(function(){var leftMainSlider=0;var fullrestIndexSliderV2Timer=setInterval(function(){var active=$("#fullrestIndexSliderV2 .controlPoints i.point.active");var anum=parseInt(active.attr("data-num"));var shift=0;if(anum==(parseInt($("#fullrestIndexSliderV2 .controlPoints i.point").length)-1))
shift=0;else
shift=anum+1;$("#fullrestIndexSliderV2 ul").css("margin-left",-(shift*650));$("#fullrestIndexSliderV2 .controlPoints i.point").removeClass("active");$('#fullrestIndexSliderV2 .controlPoints i.point[data-num="'+shift+'"]').addClass("active");},5000);$("#fullrestIndexSliderV2 .controlPoints i.point").click(function(e){e.preventDefault();var thisM=$(this);if(thisM.hasClass("active"))
return true;$("#fullrestIndexSliderV2 ul").css("margin-left",-(parseInt(thisM.attr("data-num"))*650));$("#fullrestIndexSliderV2 .controlPoints i.point").removeClass("active");thisM.addClass("active");});$("#fullrestIndexSliderV2 .sliderControls .controlArrow").click(function(e){e.preventDefault();clearInterval(fullrestIndexSliderV2Timer);var thisM=$(this);var active=$("#fullrestIndexSliderV2 .controlPoints i.point.active");var anum=parseInt(active.attr("data-num"));var shift=0;if(thisM.hasClass("left")){if(anum==0)
shift=(parseInt($("#fullrestIndexSliderV2 .controlPoints i.point").length)-1);else
shift=anum-1;}
else if(thisM.hasClass("right")){if(anum==(parseInt($("#fullrestIndexSliderV2 .controlPoints i.point").length)-1))
shift=0;else
shift=anum+1;}
$("#fullrestIndexSliderV2 ul").css("margin-left",-(shift*650));$("#fullrestIndexSliderV2 .controlPoints i.point").removeClass("active");$('#fullrestIndexSliderV2 .controlPoints i.point[data-num="'+shift+'"]').addClass("active");});$("#tesoIndexPopularSwither .variant").click(function(e){e.preventDefault();var thisM=$(this);if(thisM.hasClass("active"))
return true;$("#tesoIndexPopularSwither .variant").removeClass("active");thisM.addClass("active");$("#tesoIndexPopularSwitherComms").hide();$("#tesoIndexPopularSwitherViews").hide();$("#"+thisM.attr("data-ulid")).show();});var leftTwitchSlider=0;var leftTwitchSliderMax=Math.ceil($("#fullrestTwitchSlider .listItem").length/5);if(leftTwitchSliderMax==1){$("#fullrestTwitchSlider .navItem").remove();}
var fullrestTwitchSliderTimer=setInterval(function(){if(leftTwitchSliderMax==1)
return;if(leftTwitchSlider==(leftTwitchSliderMax-1))
leftTwitchSlider=0;else
leftTwitchSlider+=1;$("#fullrestTwitchSlider .wiTwitchList").css("margin-left",-(leftTwitchSlider*1000));},10000);$("#fullrestTwitchSlider .navItem").click(function(e){e.preventDefault();clearInterval(fullrestTwitchSliderTimer);var thisM=$(this);if(thisM.hasClass("left")){if(leftTwitchSlider==0)
leftTwitchSlider=(leftTwitchSliderMax-1);else
leftTwitchSlider-=1;}
else{if(leftTwitchSlider==(leftTwitchSliderMax-1))
leftTwitchSlider=0;else
leftTwitchSlider+=1;}
$("#fullrestTwitchSlider .wiTwitchList").css("margin-left",-(leftTwitchSlider*1000));});});$(function(){$(".mapPoints .mPoint .mLink").click(function(e){$(".elzProtoPopup").removeClass("show");$($(this).attr("href")).addClass("show");});$(".elzProtoPopup a.windowClose").click(function(e){$(".elzProtoPopup").removeClass("show");});if(window.location.hash!=""&&$(window.location.hash).length){$(".elzProtoPopup").removeClass("show");$(window.location.hash).addClass("show");}});$(function(){$(".protoLegend .legendCol .legendList li a").mouseenter(function(e){e.preventDefault();$("#reg"+$(this).attr("data-id")+".gmapLink").addClass("hovered");});$(".protoLegend .legendCol .legendList li a").mouseleave(function(e){e.preventDefault();$("svg .gmapLink").removeClass("hovered");});});$(function(){$(".frE1DevPanel i.devTrigger").click(function(e){var thisM=$(this);thisM.toggleClass("active");});$(".frE1DevPanel #devPanelEnabler").click(function(e){e.preventDefault();e.stopPropagation();var thisM=$(this);$.ajax({url:'https://'+location.hostname+'/api/min/dev-toggle',type:"POST",success:function(response){location.reload();}});});$(".frE1DevPanel .evaInt_button.light.genMin").click(function(e){e.preventDefault();e.stopPropagation();var thisM=$(this);thisM.addClass("yellow");$.ajax({url:'https://'+location.hostname+'/api/min/'+thisM.attr("data-type"),type:"POST",success:function(response){thisM.removeClass("yellow").addClass("green");setTimeout(function(){thisM.removeClass("green")},500);}});});});$(function(){var leftMainSlider=0;if($(".idxSlider").length){$(".idxSlider .sliderSubSec .slideNav.trns").click(function(e){var thisM=$(this);var slidL=thisM.closest(".sliderSubSec").find(".slideItemsList");var shift=Math.ceil((slidL.find("li").length)/3);if(thisM.hasClass("right")){leftMainSlider++;if(leftMainSlider<shift)
slidL.css("left",leftMainSlider*(-1000));else{slidL.css("left",0);leftMainSlider=0;}}
else if(thisM.hasClass("left")){leftMainSlider--;if(0<leftMainSlider)
slidL.css("left",(-1000)*leftMainSlider);else{slidL.css("left",(-1000)*(shift-1));leftMainSlider=shift-1;}}});$(".idxSlider .sliderSubSec .slideItemsList a").click(function(e){var thisM=$(this);if(thisM.hasClass("active")){window.location=thisM.attr("href");return true;}
e.preventDefault();$(".idxSlider .sliderSubSec .slideItemsList a").removeClass("active");thisM.addClass("active");thisM.closest(".idxSlider").find(".sliderSec").removeClass("noload");$.ajax({url:'https://'+location.hostname+'/api/content/slider',type:"POST",data:{id:thisM.attr("data-slid")},cache:false,async:false,success:function(response){var json=$.parseJSON(response);$(".sliderSec section.secItem a").attr("href",json['url']).attr("title",json['title']);$(".sliderSec section.secItem h2 a").html(json['title']);$(".sliderSec section.secItem img").attr("src",json['image']).attr("alt",json['title']);$(".sliderSec section.secItem .secDescription").html(json['descr']);thisM.closest(".idxSlider").find(".sliderSec").addClass("noload");}});});}});$(function(){$(".mapList").sortable({axis:"y",update:function(event,ui){var order=[];var thisM=$(this);var ulP=thisM.closest("ul");ulP.children("li").each(function(){order.push($(this).attr("data-articleid"));});$.ajax({url:'https://'+location.hostname+location.pathname+'?act=order',type:"POST",data:{parent:ulP.closest("li").attr("data-articleid"),order:order.join("|")},cache:false,async:false});}});$(".mapList").disableSelection();$("i.exAction").click(function(e){e.preventDefault();if($(this).hasClass("acPlus"))
$(this).removeClass("acPlus").removeClass("acMinus").addClass("acMinus");else
$(this).removeClass("acPlus").removeClass("acMinus").addClass("acPlus");});$.ajax({url:"https://discord.com/api/guilds/282828728739037185/widget.json",contentType:"application/json",async:true,success:function(response){$('.uDiscordWid').attr('href',response.instant_invite);$('.membersCount .currentCount').html(response.presence_count);response.members.sort(()=>.5-Math.random()).slice(0,8).forEach(item=>{$('.discordList').append('<li class="discordMember"><div class="memberAv"><img alt="" src="'+item.avatar_url+'"/><div class="discordStatus '+item.status+'"></div></div><div class="memberName">'+item.username+'</div></li>');});$('.uDiscordWid').show();}});});;$(function(){$("#evaIntUserPanelButtonMessages").click(function(e){e.preventDefault();if($(this).hasClass("evaInt_active")){$("#frEVAInterfaceOVERLAY").removeClass("show").html("");$(".evaIntUP .eva_wrapper.UPList a").removeClass("evaInt_active");}
else{$.ajax({url:'https://'+location.hostname+'/api/evaint/messages/topics',cache:false,async:false,success:function(response){$("#frEVAInterfaceOVERLAY").addClass("show").html(response);}});$(".evaIntUP .eva_wrapper.UPList a").removeClass("evaInt_active");$(this).addClass("evaInt_active");}
clearInterval(evaIntForLSRefreshTimer);});});$(function(){$("#evaIntUserPanelButtonFriends").click(function(e){e.preventDefault();if($(this).hasClass("evaInt_active")){$("#frEVAInterfaceOVERLAY").removeClass("show").html("");$(".evaIntUP .eva_wrapper.UPList a").removeClass("evaInt_active");}
else{$.ajax({url:'https://'+location.hostname+'/api/evaint/friends/online',cache:false,async:false,success:function(response){$("#frEVAInterfaceOVERLAY").addClass("show").html(response);}});$(".evaIntUP .eva_wrapper.UPList a").removeClass("evaInt_active");$(this).addClass("evaInt_active");}
clearInterval(evaIntForLSRefreshTimer);});});$(function(){$("#evaIntUserPanelButtonReports").click(function(e){e.preventDefault();if($(this).hasClass("evaInt_active")){$("#frEVAInterfaceOVERLAY").removeClass("show").html("");$(".evaIntUP .eva_wrapper.UPList a").removeClass("evaInt_active");}
else{$.ajax({url:'https://'+location.hostname+'/api/evaint/reports',cache:false,async:false,success:function(response){$("#frEVAInterfaceOVERLAY").addClass("show").html(response);}});$(".evaIntUP .eva_wrapper.UPList a").removeClass("evaInt_active");$(this).addClass("evaInt_active");}
clearInterval(evaIntForLSRefreshTimer);});});$(function(){$("#evaIntUserPanelButtonHome").click(function(e){e.preventDefault();if($(this).hasClass("evaInt_active")){$("#frEVAInterfaceOVERLAY").removeClass("show").html("");$(".evaIntUP .eva_wrapper.UPList a").removeClass("evaInt_active");}
else{$.ajax({url:'https://'+location.hostname+'/api/evaint/home/stats',cache:false,async:false,success:function(response){$("#frEVAInterfaceOVERLAY").addClass("show").html(response);}});$(".evaIntUP .eva_wrapper.UPList a").removeClass("evaInt_active");$(this).addClass("evaInt_active");}
clearInterval(evaIntForLSRefreshTimer);});$("#evaIntUserPanelRegistered").click(function(e){e.preventDefault();if($("#evaIntUserPanelButtonHome").hasClass("evaInt_active")){$("#frEVAInterfaceOVERLAY").removeClass("show").html("");$(".evaIntUP .eva_wrapper.UPList a").removeClass("evaInt_active");}
else{$.ajax({url:'https://'+location.hostname+'/api/evaint/home/stats',cache:false,async:false,success:function(response){$("#frEVAInterfaceOVERLAY").addClass("show").html(response);}});$(".evaIntUP .eva_wrapper.UPList a").removeClass("evaInt_active");$("#evaIntUserPanelButtonHome").addClass("evaInt_active");}
clearInterval(evaIntForLSRefreshTimer);});$("#evaIntUserPanelButtonSettings").click(function(e){e.preventDefault();if($(this).hasClass("evaInt_active")){$("#frEVAInterfaceOVERLAY").removeClass("show").html("");$(".evaIntUP .eva_wrapper.UPList a").removeClass("evaInt_active");}
else{$.ajax({url:'https://'+location.hostname+'/api/evaint/settings/index',cache:false,async:false,success:function(response){$("#frEVAInterfaceOVERLAY").addClass("show").html(response);}});$(".evaIntUP .eva_wrapper.UPList a").removeClass("evaInt_active");$(this).addClass("evaInt_active");}
clearInterval(evaIntForLSRefreshTimer);});$("#evaIntUserPanelButtonContent").click(function(e){e.preventDefault();if($(this).hasClass("evaInt_active")){$("#frEVAInterfaceOVERLAY").removeClass("show").html("");$(".evaIntUP .eva_wrapper.UPList a").removeClass("evaInt_active");}
else{$.ajax({url:'https://'+location.hostname+'/api/evaint/content',cache:false,async:false,success:function(response){$("#frEVAInterfaceOVERLAY").addClass("show").html(response);}});$(".evaIntUP .eva_wrapper.UPList a").removeClass("evaInt_active");$(this).addClass("evaInt_active");}
clearInterval(evaIntForLSRefreshTimer);});$("#evaIntUCP_Authorization").click(function(e){e.preventDefault();$.ajax({url:'https://'+location.hostname+'/api/evaint/auth/auth',cache:false,async:false,success:function(response){$("#frEVAInterfaceOVERLAY").addClass("show").html(response);}});});$("#evaIntUCP_Registration").click(function(e){e.preventDefault();$.ajax({url:'https://'+location.hostname+'/api/evaint/auth/rega',cache:false,async:false,success:function(response){$("#frEVAInterfaceOVERLAY").addClass("show").html(response);}});});});$(function(){if($("#evaSignatureBody").length!=0){evaSignaturesRemakePreview(false);evaSignaturesFuncsInit($("#evaSignatureBody"));$("#evaSignatureSelTxtNick").bind('textchange',function(e){evaSignaturesRemakePreview(false);});$("#evaSignatureSelTxtDescr").bind('textchange',function(e){evaSignaturesRemakePreview(false);});$("#evaSignatureSelEmblem").change(function(){evaSignaturesRemakePreview(false);});$("#evaSignatureSelEmblemColor .item").click(function(e){e.preventDefault();$("#evaSignatureSelEmblemColor .item").removeClass("active");$(this).addClass("active");evaSignaturesRemakePreview(false);});$("#evaSignatureSelFrameInner").change(function(){evaSignaturesRemakePreview(false);});$("#evaSignatureSelFrameOuter").change(function(){evaSignaturesRemakePreview(false);});$("#evaSignatureSelTxtBg").change(function(){evaSignaturesRemakePreview(false);});$("#evaSignatureSelTxtColor .item").click(function(e){e.preventDefault();$("#evaSignatureSelTxtColor .item").removeClass("active");$(this).addClass("active");evaSignaturesRemakePreview(false);});$("#evaSignatureSelPicture .item").click(function(e){e.preventDefault();$("#evaSignatureSelPicture .item").removeClass("active");$(this).addClass("active");evaSignaturesRemakePreview(false);});$("#evaSignatureSavePicture").click(function(e){e.preventDefault();evaSignaturesRemakePreview(true);});}});function evaSignaturesFuncsInit(content){$(".sigMakeFullSelect",content).focus(function(){$(this).select();});$(".sigMakeFullSelect",content).mouseup(function(e){e.preventDefault();$(this).select();});$(".sigDelete",content).click(function(e){e.preventDefault();var thisM=$(this);$.ajax({url:'https://'+location.hostname+'/sigs/del?id='+thisM.closest(".sigCreated").find(".sigHiddenId").val(),success:function(response){thisM.closest(".sigCreated").remove();}});});}
function evaSignaturesRemakePreview(isSave){var nick=$("#evaSignatureSelTxtNick").val();var text=$("#evaSignatureSelTxtDescr").val();var emblem=$("#evaSignatureSelEmblem").val();var emblem_color=$("#evaSignatureSelEmblemColor .item.active input").val();var frame_in=$("#evaSignatureSelFrameInner").val();var frame_out=$("#evaSignatureSelFrameOuter").val();var txt_bg=$("#evaSignatureSelTxtBg").val();var txt_color=$("#evaSignatureSelTxtColor .item.active input").val();var picture=$("#evaSignatureSelPicture .item.active input").val();if(!isSave){$("#evaSignaturePreviewImage").attr("src",'https://'+location.hostname+'/sigs/preview?nick='+nick+'&text='+text+'&emblem='+emblem+'&frame_in='+frame_in+'&frame_out='+frame_out+'&txt_bg='+txt_bg+'&txt_color='+txt_color+'&emblem_color='+emblem_color+'&picture='+picture);}
else{$.ajax({url:'https://'+location.hostname+'/sigs/preview?nick='+nick+'&text='+text+'&emblem='+emblem+'&frame_in='+frame_in+'&frame_out='+frame_out+'&txt_bg='+txt_bg+'&txt_color='+txt_color+'&emblem_color='+emblem_color+'&picture='+picture+'&save=1',success:function(response){$("#evaSignatureSigList h3").after(response);evaSignaturesFuncsInit($("#evaSignatureBody .sigCreated.noINIT"));$("#evaSignatureBody .sigCreated").removeClass("noINIT");$("#evaSignatureBody h3").removeClass("hide");if($("div.bb.info.sigInfo").length){$("#evaSignatureSavePicture").remove();}}});}} 